(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var Rf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Le(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dO={exports:{}},jp={},hO={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hc=Symbol.for("react.element"),f$=Symbol.for("react.portal"),d$=Symbol.for("react.fragment"),h$=Symbol.for("react.strict_mode"),p$=Symbol.for("react.profiler"),m$=Symbol.for("react.provider"),g$=Symbol.for("react.context"),y$=Symbol.for("react.forward_ref"),v$=Symbol.for("react.suspense"),b$=Symbol.for("react.memo"),_$=Symbol.for("react.lazy"),P1=Symbol.iterator;function w$(t){return t===null||typeof t!="object"?null:(t=P1&&t[P1]||t["@@iterator"],typeof t=="function"?t:null)}var pO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mO=Object.assign,gO={};function el(t,e,r){this.props=t,this.context=e,this.refs=gO,this.updater=r||pO}el.prototype.isReactComponent={};el.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};el.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yO(){}yO.prototype=el.prototype;function Ob(t,e,r){this.props=t,this.context=e,this.refs=gO,this.updater=r||pO}var Cb=Ob.prototype=new yO;Cb.constructor=Ob;mO(Cb,el.prototype);Cb.isPureReactComponent=!0;var I1=Array.isArray,vO=Object.prototype.hasOwnProperty,kb={current:null},bO={key:!0,ref:!0,__self:!0,__source:!0};function _O(t,e,r){var n,i={},o=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)vO.call(e,n)&&!bO.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Hc,type:t,key:o,ref:a,props:i,_owner:kb.current}}function x$(t,e){return{$$typeof:Hc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Nb(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hc}function E$(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var O1=/\/+/g;function Sg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?E$(""+t.key):e.toString(36)}function bd(t,e,r,n,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Hc:case f$:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Sg(a,0):n,I1(i)?(r="",t!=null&&(r=t.replace(O1,"$&/")+"/"),bd(i,e,r,"",function(u){return u})):i!=null&&(Nb(i)&&(i=x$(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(O1,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",I1(t))for(var s=0;s<t.length;s++){o=t[s];var l=n+Sg(o,s);a+=bd(o,e,r,l,i)}else if(l=w$(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=n+Sg(o,s++),a+=bd(o,e,r,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Df(t,e,r){if(t==null)return t;var n=[],i=0;return bd(t,n,"","",function(o){return e.call(r,o,i++)}),n}function S$(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ar={current:null},_d={transition:null},T$={ReactCurrentDispatcher:ar,ReactCurrentBatchConfig:_d,ReactCurrentOwner:kb};function wO(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:Df,forEach:function(t,e,r){Df(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Df(t,function(){e++}),e},toArray:function(t){return Df(t,function(e){return e})||[]},only:function(t){if(!Nb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=el;_e.Fragment=d$;_e.Profiler=p$;_e.PureComponent=Ob;_e.StrictMode=h$;_e.Suspense=v$;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T$;_e.act=wO;_e.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=mO({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=kb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)vO.call(e,l)&&!bO.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:Hc,type:t.type,key:i,ref:o,props:n,_owner:a}};_e.createContext=function(t){return t={$$typeof:g$,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:m$,_context:t},t.Consumer=t};_e.createElement=_O;_e.createFactory=function(t){var e=_O.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:y$,render:t}};_e.isValidElement=Nb;_e.lazy=function(t){return{$$typeof:_$,_payload:{_status:-1,_result:t},_init:S$}};_e.memo=function(t,e){return{$$typeof:b$,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=_d.transition;_d.transition={};try{t()}finally{_d.transition=e}};_e.unstable_act=wO;_e.useCallback=function(t,e){return ar.current.useCallback(t,e)};_e.useContext=function(t){return ar.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return ar.current.useDeferredValue(t)};_e.useEffect=function(t,e){return ar.current.useEffect(t,e)};_e.useId=function(){return ar.current.useId()};_e.useImperativeHandle=function(t,e,r){return ar.current.useImperativeHandle(t,e,r)};_e.useInsertionEffect=function(t,e){return ar.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return ar.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return ar.current.useMemo(t,e)};_e.useReducer=function(t,e,r){return ar.current.useReducer(t,e,r)};_e.useRef=function(t){return ar.current.useRef(t)};_e.useState=function(t){return ar.current.useState(t)};_e.useSyncExternalStore=function(t,e,r){return ar.current.useSyncExternalStore(t,e,r)};_e.useTransition=function(){return ar.current.useTransition()};_e.version="18.3.1";hO.exports=_e;var U=hO.exports;const L=Le(U);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A$=U,P$=Symbol.for("react.element"),I$=Symbol.for("react.fragment"),O$=Object.prototype.hasOwnProperty,C$=A$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,k$={key:!0,ref:!0,__self:!0,__source:!0};function xO(t,e,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)O$.call(e,n)&&!k$.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:P$,type:t,key:o,ref:a,props:i,_owner:C$.current}}jp.Fragment=I$;jp.jsx=xO;jp.jsxs=xO;dO.exports=jp;var m=dO.exports,My={},EO={exports:{}},Cr={},SO={exports:{}},TO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,V){var K=M.length;M.push(V);e:for(;0<K;){var D=K-1>>>1,z=M[D];if(0<i(z,V))M[D]=V,M[K]=z,K=D;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var V=M[0],K=M.pop();if(K!==V){M[0]=K;e:for(var D=0,z=M.length,Q=z>>>1;D<Q;){var se=2*(D+1)-1,ve=M[se],Se=se+1,Ke=M[Se];if(0>i(ve,K))Se<z&&0>i(Ke,ve)?(M[D]=Ke,M[Se]=K,D=Se):(M[D]=ve,M[se]=K,D=se);else if(Se<z&&0>i(Ke,K))M[D]=Ke,M[Se]=K,D=Se;else break e}}return V}function i(M,V){var K=M.sortIndex-V.sortIndex;return K!==0?K:M.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,h=3,p=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var V=r(u);V!==null;){if(V.callback===null)n(u);else if(V.startTime<=M)n(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=r(u)}}function O(M){if(y=!1,w(M),!g)if(r(l)!==null)g=!0,$(T);else{var V=r(u);V!==null&&F(O,V.startTime-M)}}function T(M,V){g=!1,y&&(y=!1,_(S),S=-1),p=!0;var K=h;try{for(w(V),d=r(l);d!==null&&(!(d.expirationTime>V)||M&&!C());){var D=d.callback;if(typeof D=="function"){d.callback=null,h=d.priorityLevel;var z=D(d.expirationTime<=V);V=t.unstable_now(),typeof z=="function"?d.callback=z:d===r(l)&&n(l),w(V)}else n(l);d=r(l)}if(d!==null)var Q=!0;else{var se=r(u);se!==null&&F(O,se.startTime-V),Q=!1}return Q}finally{d=null,h=K,p=!1}}var P=!1,E=null,S=-1,I=5,N=-1;function C(){return!(t.unstable_now()-N<I)}function j(){if(E!==null){var M=t.unstable_now();N=M;var V=!0;try{V=E(!0,M)}finally{V?k():(P=!1,E=null)}}else P=!1}var k;if(typeof b=="function")k=function(){b(j)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,H=W.port2;W.port1.onmessage=j,k=function(){H.postMessage(null)}}else k=function(){x(j,0)};function $(M){E=M,P||(P=!0,k())}function F(M,V){S=x(function(){M(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,$(T))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(M){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var K=h;h=V;try{return M()}finally{h=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,V){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var K=h;h=M;try{return V()}finally{h=K}},t.unstable_scheduleCallback=function(M,V,K){var D=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?D+K:D):K=D,M){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=K+z,M={id:c++,callback:V,priorityLevel:M,startTime:K,expirationTime:z,sortIndex:-1},K>D?(M.sortIndex=K,e(u,M),r(l)===null&&M===r(u)&&(y?(_(S),S=-1):y=!0,F(O,K-D))):(M.sortIndex=z,e(l,M),g||p||(g=!0,$(T))),M},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(M){var V=h;return function(){var K=h;h=V;try{return M.apply(this,arguments)}finally{h=K}}}})(TO);SO.exports=TO;var N$=SO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j$=U,Ir=N$;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var AO=new Set,Ru={};function pa(t,e){gs(t,e),gs(t+"Capture",e)}function gs(t,e){for(Ru[t]=e,t=0;t<e.length;t++)AO.add(e[t])}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$y=Object.prototype.hasOwnProperty,R$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C1={},k1={};function D$(t){return $y.call(k1,t)?!0:$y.call(C1,t)?!1:R$.test(t)?k1[t]=!0:(C1[t]=!0,!1)}function M$(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $$(t,e,r,n){if(e===null||typeof e>"u"||M$(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sr(t,e,r,n,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Mt[t]=new sr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Mt[e]=new sr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Mt[t]=new sr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Mt[t]=new sr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Mt[t]=new sr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Mt[t]=new sr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Mt[t]=new sr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Mt[t]=new sr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Mt[t]=new sr(t,5,!1,t.toLowerCase(),null,!1,!1)});var jb=/[\-:]([a-z])/g;function Rb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jb,Rb);Mt[e]=new sr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jb,Rb);Mt[e]=new sr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jb,Rb);Mt[e]=new sr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Mt[t]=new sr(t,1,!1,t.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Mt[t]=new sr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Db(t,e,r,n){var i=Mt.hasOwnProperty(e)?Mt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($$(e,r,i,n)&&(r=null),n||i===null?D$(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var pi=j$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mf=Symbol.for("react.element"),La=Symbol.for("react.portal"),Va=Symbol.for("react.fragment"),Mb=Symbol.for("react.strict_mode"),Ly=Symbol.for("react.profiler"),PO=Symbol.for("react.provider"),IO=Symbol.for("react.context"),$b=Symbol.for("react.forward_ref"),Vy=Symbol.for("react.suspense"),Fy=Symbol.for("react.suspense_list"),Lb=Symbol.for("react.memo"),Ti=Symbol.for("react.lazy"),OO=Symbol.for("react.offscreen"),N1=Symbol.iterator;function Vl(t){return t===null||typeof t!="object"?null:(t=N1&&t[N1]||t["@@iterator"],typeof t=="function"?t:null)}var et=Object.assign,Tg;function nu(t){if(Tg===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Tg=e&&e[1]||""}return`
`+Tg+t}var Ag=!1;function Pg(t,e){if(!t||Ag)return"";Ag=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{Ag=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?nu(t):""}function L$(t){switch(t.tag){case 5:return nu(t.type);case 16:return nu("Lazy");case 13:return nu("Suspense");case 19:return nu("SuspenseList");case 0:case 2:case 15:return t=Pg(t.type,!1),t;case 11:return t=Pg(t.type.render,!1),t;case 1:return t=Pg(t.type,!0),t;default:return""}}function By(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Va:return"Fragment";case La:return"Portal";case Ly:return"Profiler";case Mb:return"StrictMode";case Vy:return"Suspense";case Fy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case IO:return(t.displayName||"Context")+".Consumer";case PO:return(t._context.displayName||"Context")+".Provider";case $b:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lb:return e=t.displayName||null,e!==null?e:By(t.type)||"Memo";case Ti:e=t._payload,t=t._init;try{return By(t(e))}catch{}}return null}function V$(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return By(e);case 8:return e===Mb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function eo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function CO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function F$(t){var e=CO(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $f(t){t._valueTracker||(t._valueTracker=F$(t))}function kO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=CO(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Bd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Uy(t,e){var r=e.checked;return et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function j1(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=eo(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function NO(t,e){e=e.checked,e!=null&&Db(t,"checked",e,!1)}function zy(t,e){NO(t,e);var r=eo(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wy(t,e.type,r):e.hasOwnProperty("defaultValue")&&Wy(t,e.type,eo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function R1(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Wy(t,e,r){(e!=="number"||Bd(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var iu=Array.isArray;function es(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+eo(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Hy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function D1(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Z(92));if(iu(r)){if(1<r.length)throw Error(Z(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:eo(r)}}function jO(t,e){var r=eo(e.value),n=eo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function M1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function RO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?RO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Lf,DO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Lf=Lf||document.createElement("div"),Lf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Lf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Du(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var pu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B$=["Webkit","ms","Moz","O"];Object.keys(pu).forEach(function(t){B$.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pu[e]=pu[t]})});function MO(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||pu.hasOwnProperty(t)&&pu[t]?(""+e).trim():e+"px"}function $O(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=MO(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var U$=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gy(t,e){if(e){if(U$[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function Ky(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xy=null;function Vb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yy=null,ts=null,rs=null;function $1(t){if(t=Kc(t)){if(typeof Yy!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=Lp(e),Yy(t.stateNode,t.type,e))}}function LO(t){ts?rs?rs.push(t):rs=[t]:ts=t}function VO(){if(ts){var t=ts,e=rs;if(rs=ts=null,$1(t),e)for(t=0;t<e.length;t++)$1(e[t])}}function FO(t,e){return t(e)}function BO(){}var Ig=!1;function UO(t,e,r){if(Ig)return t(e,r);Ig=!0;try{return FO(t,e,r)}finally{Ig=!1,(ts!==null||rs!==null)&&(BO(),VO())}}function Mu(t,e){var r=t.stateNode;if(r===null)return null;var n=Lp(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Z(231,e,typeof r));return r}var Qy=!1;if(ei)try{var Fl={};Object.defineProperty(Fl,"passive",{get:function(){Qy=!0}}),window.addEventListener("test",Fl,Fl),window.removeEventListener("test",Fl,Fl)}catch{Qy=!1}function z$(t,e,r,n,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var mu=!1,Ud=null,zd=!1,Jy=null,W$={onError:function(t){mu=!0,Ud=t}};function H$(t,e,r,n,i,o,a,s,l){mu=!1,Ud=null,z$.apply(W$,arguments)}function q$(t,e,r,n,i,o,a,s,l){if(H$.apply(this,arguments),mu){if(mu){var u=Ud;mu=!1,Ud=null}else throw Error(Z(198));zd||(zd=!0,Jy=u)}}function ma(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function zO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function L1(t){if(ma(t)!==t)throw Error(Z(188))}function G$(t){var e=t.alternate;if(!e){if(e=ma(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return L1(i),t;if(o===n)return L1(i),e;o=o.sibling}throw Error(Z(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,s=i.child;s;){if(s===r){a=!0,r=i,n=o;break}if(s===n){a=!0,n=i,r=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===r){a=!0,r=o,n=i;break}if(s===n){a=!0,n=o,r=i;break}s=s.sibling}if(!a)throw Error(Z(189))}}if(r.alternate!==n)throw Error(Z(190))}if(r.tag!==3)throw Error(Z(188));return r.stateNode.current===r?t:e}function WO(t){return t=G$(t),t!==null?HO(t):null}function HO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=HO(t);if(e!==null)return e;t=t.sibling}return null}var qO=Ir.unstable_scheduleCallback,V1=Ir.unstable_cancelCallback,K$=Ir.unstable_shouldYield,X$=Ir.unstable_requestPaint,lt=Ir.unstable_now,Y$=Ir.unstable_getCurrentPriorityLevel,Fb=Ir.unstable_ImmediatePriority,GO=Ir.unstable_UserBlockingPriority,Wd=Ir.unstable_NormalPriority,Q$=Ir.unstable_LowPriority,KO=Ir.unstable_IdlePriority,Rp=null,xn=null;function J$(t){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(Rp,t,void 0,(t.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:tL,Z$=Math.log,eL=Math.LN2;function tL(t){return t>>>=0,t===0?32:31-(Z$(t)/eL|0)|0}var Vf=64,Ff=4194304;function ou(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hd(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,o=t.pingedLanes,a=r&268435455;if(a!==0){var s=a&~i;s!==0?n=ou(s):(o&=a,o!==0&&(n=ou(o)))}else a=r&~i,a!==0?n=ou(a):o!==0&&(n=ou(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-sn(e),i=1<<r,n|=t[r],e&=~i;return n}function rL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nL(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-sn(o),s=1<<a,l=i[a];l===-1?(!(s&r)||s&n)&&(i[a]=rL(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function Zy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function XO(){var t=Vf;return Vf<<=1,!(Vf&4194240)&&(Vf=64),t}function Og(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function qc(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-sn(e),t[e]=r}function iL(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-sn(r),o=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~o}}function Bb(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-sn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var je=0;function YO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var QO,Ub,JO,ZO,eC,ev=!1,Bf=[],Vi=null,Fi=null,Bi=null,$u=new Map,Lu=new Map,Ii=[],oL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function F1(t,e){switch(t){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":Fi=null;break;case"mouseover":case"mouseout":Bi=null;break;case"pointerover":case"pointerout":$u.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lu.delete(e.pointerId)}}function Bl(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Kc(e),e!==null&&Ub(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function aL(t,e,r,n,i){switch(e){case"focusin":return Vi=Bl(Vi,t,e,r,n,i),!0;case"dragenter":return Fi=Bl(Fi,t,e,r,n,i),!0;case"mouseover":return Bi=Bl(Bi,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return $u.set(o,Bl($u.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Lu.set(o,Bl(Lu.get(o)||null,t,e,r,n,i)),!0}return!1}function tC(t){var e=$o(t.target);if(e!==null){var r=ma(e);if(r!==null){if(e=r.tag,e===13){if(e=zO(r),e!==null){t.blockedOn=e,eC(t.priority,function(){JO(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=tv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Xy=n,r.target.dispatchEvent(n),Xy=null}else return e=Kc(r),e!==null&&Ub(e),t.blockedOn=r,!1;e.shift()}return!0}function B1(t,e,r){wd(t)&&r.delete(e)}function sL(){ev=!1,Vi!==null&&wd(Vi)&&(Vi=null),Fi!==null&&wd(Fi)&&(Fi=null),Bi!==null&&wd(Bi)&&(Bi=null),$u.forEach(B1),Lu.forEach(B1)}function Ul(t,e){t.blockedOn===e&&(t.blockedOn=null,ev||(ev=!0,Ir.unstable_scheduleCallback(Ir.unstable_NormalPriority,sL)))}function Vu(t){function e(i){return Ul(i,t)}if(0<Bf.length){Ul(Bf[0],t);for(var r=1;r<Bf.length;r++){var n=Bf[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Vi!==null&&Ul(Vi,t),Fi!==null&&Ul(Fi,t),Bi!==null&&Ul(Bi,t),$u.forEach(e),Lu.forEach(e),r=0;r<Ii.length;r++)n=Ii[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ii.length&&(r=Ii[0],r.blockedOn===null);)tC(r),r.blockedOn===null&&Ii.shift()}var ns=pi.ReactCurrentBatchConfig,qd=!0;function lL(t,e,r,n){var i=je,o=ns.transition;ns.transition=null;try{je=1,zb(t,e,r,n)}finally{je=i,ns.transition=o}}function uL(t,e,r,n){var i=je,o=ns.transition;ns.transition=null;try{je=4,zb(t,e,r,n)}finally{je=i,ns.transition=o}}function zb(t,e,r,n){if(qd){var i=tv(t,e,r,n);if(i===null)Vg(t,e,n,Gd,r),F1(t,n);else if(aL(i,t,e,r,n))n.stopPropagation();else if(F1(t,n),e&4&&-1<oL.indexOf(t)){for(;i!==null;){var o=Kc(i);if(o!==null&&QO(o),o=tv(t,e,r,n),o===null&&Vg(t,e,n,Gd,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else Vg(t,e,n,null,r)}}var Gd=null;function tv(t,e,r,n){if(Gd=null,t=Vb(n),t=$o(t),t!==null)if(e=ma(t),e===null)t=null;else if(r=e.tag,r===13){if(t=zO(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Gd=t,null}function rC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y$()){case Fb:return 1;case GO:return 4;case Wd:case Q$:return 16;case KO:return 536870912;default:return 16}default:return 16}}var Di=null,Wb=null,xd=null;function nC(){if(xd)return xd;var t,e=Wb,r=e.length,n,i="value"in Di?Di.value:Di.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[o-n];n++);return xd=i.slice(t,1<n?1-n:void 0)}function Ed(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Uf(){return!0}function U1(){return!1}function kr(t){function e(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Uf:U1,this.isPropagationStopped=U1,this}return et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Uf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Uf)},persist:function(){},isPersistent:Uf}),e}var tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hb=kr(tl),Gc=et({},tl,{view:0,detail:0}),cL=kr(Gc),Cg,kg,zl,Dp=et({},Gc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zl&&(zl&&t.type==="mousemove"?(Cg=t.screenX-zl.screenX,kg=t.screenY-zl.screenY):kg=Cg=0,zl=t),Cg)},movementY:function(t){return"movementY"in t?t.movementY:kg}}),z1=kr(Dp),fL=et({},Dp,{dataTransfer:0}),dL=kr(fL),hL=et({},Gc,{relatedTarget:0}),Ng=kr(hL),pL=et({},tl,{animationName:0,elapsedTime:0,pseudoElement:0}),mL=kr(pL),gL=et({},tl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yL=kr(gL),vL=et({},tl,{data:0}),W1=kr(vL),bL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_L={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wL[t])?!!e[t]:!1}function qb(){return xL}var EL=et({},Gc,{key:function(t){if(t.key){var e=bL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ed(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_L[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qb,charCode:function(t){return t.type==="keypress"?Ed(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ed(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SL=kr(EL),TL=et({},Dp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H1=kr(TL),AL=et({},Gc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qb}),PL=kr(AL),IL=et({},tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),OL=kr(IL),CL=et({},Dp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),kL=kr(CL),NL=[9,13,27,32],Gb=ei&&"CompositionEvent"in window,gu=null;ei&&"documentMode"in document&&(gu=document.documentMode);var jL=ei&&"TextEvent"in window&&!gu,iC=ei&&(!Gb||gu&&8<gu&&11>=gu),q1=" ",G1=!1;function oC(t,e){switch(t){case"keyup":return NL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fa=!1;function RL(t,e){switch(t){case"compositionend":return aC(e);case"keypress":return e.which!==32?null:(G1=!0,q1);case"textInput":return t=e.data,t===q1&&G1?null:t;default:return null}}function DL(t,e){if(Fa)return t==="compositionend"||!Gb&&oC(t,e)?(t=nC(),xd=Wb=Di=null,Fa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return iC&&e.locale!=="ko"?null:e.data;default:return null}}var ML={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ML[t.type]:e==="textarea"}function sC(t,e,r,n){LO(n),e=Kd(e,"onChange"),0<e.length&&(r=new Hb("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var yu=null,Fu=null;function $L(t){vC(t,0)}function Mp(t){var e=za(t);if(kO(e))return t}function LL(t,e){if(t==="change")return e}var lC=!1;if(ei){var jg;if(ei){var Rg="oninput"in document;if(!Rg){var X1=document.createElement("div");X1.setAttribute("oninput","return;"),Rg=typeof X1.oninput=="function"}jg=Rg}else jg=!1;lC=jg&&(!document.documentMode||9<document.documentMode)}function Y1(){yu&&(yu.detachEvent("onpropertychange",uC),Fu=yu=null)}function uC(t){if(t.propertyName==="value"&&Mp(Fu)){var e=[];sC(e,Fu,t,Vb(t)),UO($L,e)}}function VL(t,e,r){t==="focusin"?(Y1(),yu=e,Fu=r,yu.attachEvent("onpropertychange",uC)):t==="focusout"&&Y1()}function FL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mp(Fu)}function BL(t,e){if(t==="click")return Mp(e)}function UL(t,e){if(t==="input"||t==="change")return Mp(e)}function zL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cn=typeof Object.is=="function"?Object.is:zL;function Bu(t,e){if(cn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!$y.call(e,i)||!cn(t[i],e[i]))return!1}return!0}function Q1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function J1(t,e){var r=Q1(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Q1(r)}}function cC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fC(){for(var t=window,e=Bd();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Bd(t.document)}return e}function Kb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function WL(t){var e=fC(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&cC(r.ownerDocument.documentElement,r)){if(n!==null&&Kb(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!t.extend&&o>n&&(i=n,n=o,o=i),i=J1(r,o);var a=J1(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var HL=ei&&"documentMode"in document&&11>=document.documentMode,Ba=null,rv=null,vu=null,nv=!1;function Z1(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nv||Ba==null||Ba!==Bd(n)||(n=Ba,"selectionStart"in n&&Kb(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),vu&&Bu(vu,n)||(vu=n,n=Kd(rv,"onSelect"),0<n.length&&(e=new Hb("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ba)))}function zf(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ua={animationend:zf("Animation","AnimationEnd"),animationiteration:zf("Animation","AnimationIteration"),animationstart:zf("Animation","AnimationStart"),transitionend:zf("Transition","TransitionEnd")},Dg={},dC={};ei&&(dC=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function $p(t){if(Dg[t])return Dg[t];if(!Ua[t])return t;var e=Ua[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in dC)return Dg[t]=e[r];return t}var hC=$p("animationend"),pC=$p("animationiteration"),mC=$p("animationstart"),gC=$p("transitionend"),yC=new Map,eE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function uo(t,e){yC.set(t,e),pa(e,[t])}for(var Mg=0;Mg<eE.length;Mg++){var $g=eE[Mg],qL=$g.toLowerCase(),GL=$g[0].toUpperCase()+$g.slice(1);uo(qL,"on"+GL)}uo(hC,"onAnimationEnd");uo(pC,"onAnimationIteration");uo(mC,"onAnimationStart");uo("dblclick","onDoubleClick");uo("focusin","onFocus");uo("focusout","onBlur");uo(gC,"onTransitionEnd");gs("onMouseEnter",["mouseout","mouseover"]);gs("onMouseLeave",["mouseout","mouseover"]);gs("onPointerEnter",["pointerout","pointerover"]);gs("onPointerLeave",["pointerout","pointerover"]);pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pa("onBeforeInput",["compositionend","keypress","textInput","paste"]);pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KL=new Set("cancel close invalid load scroll toggle".split(" ").concat(au));function tE(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,q$(n,e,void 0,t),t.currentTarget=null}function vC(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var a=n.length-1;0<=a;a--){var s=n[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;tE(i,s,u),o=l}else for(a=0;a<n.length;a++){if(s=n[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;tE(i,s,u),o=l}}}if(zd)throw t=Jy,zd=!1,Jy=null,t}function ze(t,e){var r=e[lv];r===void 0&&(r=e[lv]=new Set);var n=t+"__bubble";r.has(n)||(bC(e,t,2,!1),r.add(n))}function Lg(t,e,r){var n=0;e&&(n|=4),bC(r,t,n,e)}var Wf="_reactListening"+Math.random().toString(36).slice(2);function Uu(t){if(!t[Wf]){t[Wf]=!0,AO.forEach(function(r){r!=="selectionchange"&&(KL.has(r)||Lg(r,!1,t),Lg(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wf]||(e[Wf]=!0,Lg("selectionchange",!1,e))}}function bC(t,e,r,n){switch(rC(e)){case 1:var i=lL;break;case 4:i=uL;break;default:i=zb}r=i.bind(null,e,r,t),i=void 0,!Qy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Vg(t,e,r,n,i){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=$o(s),a===null)return;if(l=a.tag,l===5||l===6){n=o=a;continue e}s=s.parentNode}}n=n.return}UO(function(){var u=o,c=Vb(r),d=[];e:{var h=yC.get(t);if(h!==void 0){var p=Hb,g=t;switch(t){case"keypress":if(Ed(r)===0)break e;case"keydown":case"keyup":p=SL;break;case"focusin":g="focus",p=Ng;break;case"focusout":g="blur",p=Ng;break;case"beforeblur":case"afterblur":p=Ng;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=z1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=dL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=PL;break;case hC:case pC:case mC:p=mL;break;case gC:p=OL;break;case"scroll":p=cL;break;case"wheel":p=kL;break;case"copy":case"cut":case"paste":p=yL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=H1}var y=(e&4)!==0,x=!y&&t==="scroll",_=y?h!==null?h+"Capture":null:h;y=[];for(var b=u,w;b!==null;){w=b;var O=w.stateNode;if(w.tag===5&&O!==null&&(w=O,_!==null&&(O=Mu(b,_),O!=null&&y.push(zu(b,O,w)))),x)break;b=b.return}0<y.length&&(h=new p(h,g,null,r,c),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==Xy&&(g=r.relatedTarget||r.fromElement)&&($o(g)||g[ti]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?$o(g):null,g!==null&&(x=ma(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(y=z1,O="onMouseLeave",_="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(y=H1,O="onPointerLeave",_="onPointerEnter",b="pointer"),x=p==null?h:za(p),w=g==null?h:za(g),h=new y(O,b+"leave",p,r,c),h.target=x,h.relatedTarget=w,O=null,$o(c)===u&&(y=new y(_,b+"enter",g,r,c),y.target=w,y.relatedTarget=x,O=y),x=O,p&&g)t:{for(y=p,_=g,b=0,w=y;w;w=Oa(w))b++;for(w=0,O=_;O;O=Oa(O))w++;for(;0<b-w;)y=Oa(y),b--;for(;0<w-b;)_=Oa(_),w--;for(;b--;){if(y===_||_!==null&&y===_.alternate)break t;y=Oa(y),_=Oa(_)}y=null}else y=null;p!==null&&rE(d,h,p,y,!1),g!==null&&x!==null&&rE(d,x,g,y,!0)}}e:{if(h=u?za(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var T=LL;else if(K1(h))if(lC)T=UL;else{T=FL;var P=VL}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=BL);if(T&&(T=T(t,u))){sC(d,T,r,c);break e}P&&P(t,h,u),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&Wy(h,"number",h.value)}switch(P=u?za(u):window,t){case"focusin":(K1(P)||P.contentEditable==="true")&&(Ba=P,rv=u,vu=null);break;case"focusout":vu=rv=Ba=null;break;case"mousedown":nv=!0;break;case"contextmenu":case"mouseup":case"dragend":nv=!1,Z1(d,r,c);break;case"selectionchange":if(HL)break;case"keydown":case"keyup":Z1(d,r,c)}var E;if(Gb)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Fa?oC(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(iC&&r.locale!=="ko"&&(Fa||S!=="onCompositionStart"?S==="onCompositionEnd"&&Fa&&(E=nC()):(Di=c,Wb="value"in Di?Di.value:Di.textContent,Fa=!0)),P=Kd(u,S),0<P.length&&(S=new W1(S,t,null,r,c),d.push({event:S,listeners:P}),E?S.data=E:(E=aC(r),E!==null&&(S.data=E)))),(E=jL?RL(t,r):DL(t,r))&&(u=Kd(u,"onBeforeInput"),0<u.length&&(c=new W1("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=E))}vC(d,e)})}function zu(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Kd(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Mu(t,r),o!=null&&n.unshift(zu(t,o,i)),o=Mu(t,e),o!=null&&n.push(zu(t,o,i))),t=t.return}return n}function Oa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rE(t,e,r,n,i){for(var o=e._reactName,a=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,i?(l=Mu(r,o),l!=null&&a.unshift(zu(r,l,s))):i||(l=Mu(r,o),l!=null&&a.push(zu(r,l,s)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var XL=/\r\n?/g,YL=/\u0000|\uFFFD/g;function nE(t){return(typeof t=="string"?t:""+t).replace(XL,`
`).replace(YL,"")}function Hf(t,e,r){if(e=nE(e),nE(t)!==e&&r)throw Error(Z(425))}function Xd(){}var iv=null,ov=null;function av(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sv=typeof setTimeout=="function"?setTimeout:void 0,QL=typeof clearTimeout=="function"?clearTimeout:void 0,iE=typeof Promise=="function"?Promise:void 0,JL=typeof queueMicrotask=="function"?queueMicrotask:typeof iE<"u"?function(t){return iE.resolve(null).then(t).catch(ZL)}:sv;function ZL(t){setTimeout(function(){throw t})}function Fg(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Vu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Vu(e)}function Ui(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function oE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var rl=Math.random().toString(36).slice(2),_n="__reactFiber$"+rl,Wu="__reactProps$"+rl,ti="__reactContainer$"+rl,lv="__reactEvents$"+rl,e4="__reactListeners$"+rl,t4="__reactHandles$"+rl;function $o(t){var e=t[_n];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ti]||r[_n]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=oE(t);t!==null;){if(r=t[_n])return r;t=oE(t)}return e}t=r,r=t.parentNode}return null}function Kc(t){return t=t[_n]||t[ti],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function za(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function Lp(t){return t[Wu]||null}var uv=[],Wa=-1;function co(t){return{current:t}}function Ge(t){0>Wa||(t.current=uv[Wa],uv[Wa]=null,Wa--)}function Be(t,e){Wa++,uv[Wa]=t.current,t.current=e}var to={},Qt=co(to),pr=co(!1),Yo=to;function ys(t,e){var r=t.type.contextTypes;if(!r)return to;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function mr(t){return t=t.childContextTypes,t!=null}function Yd(){Ge(pr),Ge(Qt)}function aE(t,e,r){if(Qt.current!==to)throw Error(Z(168));Be(Qt,e),Be(pr,r)}function _C(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Z(108,V$(t)||"Unknown",i));return et({},r,n)}function Qd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||to,Yo=Qt.current,Be(Qt,t),Be(pr,pr.current),!0}function sE(t,e,r){var n=t.stateNode;if(!n)throw Error(Z(169));r?(t=_C(t,e,Yo),n.__reactInternalMemoizedMergedChildContext=t,Ge(pr),Ge(Qt),Be(Qt,t)):Ge(pr),Be(pr,r)}var Fn=null,Vp=!1,Bg=!1;function wC(t){Fn===null?Fn=[t]:Fn.push(t)}function r4(t){Vp=!0,wC(t)}function fo(){if(!Bg&&Fn!==null){Bg=!0;var t=0,e=je;try{var r=Fn;for(je=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Fn=null,Vp=!1}catch(i){throw Fn!==null&&(Fn=Fn.slice(t+1)),qO(Fb,fo),i}finally{je=e,Bg=!1}}return null}var Ha=[],qa=0,Jd=null,Zd=0,Dr=[],Mr=0,Qo=null,Bn=1,Un="";function ko(t,e){Ha[qa++]=Zd,Ha[qa++]=Jd,Jd=t,Zd=e}function xC(t,e,r){Dr[Mr++]=Bn,Dr[Mr++]=Un,Dr[Mr++]=Qo,Qo=t;var n=Bn;t=Un;var i=32-sn(n)-1;n&=~(1<<i),r+=1;var o=32-sn(e)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Bn=1<<32-sn(e)+i|r<<i|n,Un=o+t}else Bn=1<<o|r<<i|n,Un=t}function Xb(t){t.return!==null&&(ko(t,1),xC(t,1,0))}function Yb(t){for(;t===Jd;)Jd=Ha[--qa],Ha[qa]=null,Zd=Ha[--qa],Ha[qa]=null;for(;t===Qo;)Qo=Dr[--Mr],Dr[Mr]=null,Un=Dr[--Mr],Dr[Mr]=null,Bn=Dr[--Mr],Dr[Mr]=null}var Pr=null,Tr=null,Xe=!1,tn=null;function EC(t,e){var r=Lr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function lE(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pr=t,Tr=Ui(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pr=t,Tr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Qo!==null?{id:Bn,overflow:Un}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Lr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Pr=t,Tr=null,!0):!1;default:return!1}}function cv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fv(t){if(Xe){var e=Tr;if(e){var r=e;if(!lE(t,e)){if(cv(t))throw Error(Z(418));e=Ui(r.nextSibling);var n=Pr;e&&lE(t,e)?EC(n,r):(t.flags=t.flags&-4097|2,Xe=!1,Pr=t)}}else{if(cv(t))throw Error(Z(418));t.flags=t.flags&-4097|2,Xe=!1,Pr=t}}}function uE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pr=t}function qf(t){if(t!==Pr)return!1;if(!Xe)return uE(t),Xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!av(t.type,t.memoizedProps)),e&&(e=Tr)){if(cv(t))throw SC(),Error(Z(418));for(;e;)EC(t,e),e=Ui(e.nextSibling)}if(uE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Tr=Ui(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Tr=null}}else Tr=Pr?Ui(t.stateNode.nextSibling):null;return!0}function SC(){for(var t=Tr;t;)t=Ui(t.nextSibling)}function vs(){Tr=Pr=null,Xe=!1}function Qb(t){tn===null?tn=[t]:tn.push(t)}var n4=pi.ReactCurrentBatchConfig;function Wl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Z(309));var n=r.stateNode}if(!n)throw Error(Z(147,t));var i=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(Z(284));if(!r._owner)throw Error(Z(290,t))}return t}function Gf(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function cE(t){var e=t._init;return e(t._payload)}function TC(t){function e(_,b){if(t){var w=_.deletions;w===null?(_.deletions=[b],_.flags|=16):w.push(b)}}function r(_,b){if(!t)return null;for(;b!==null;)e(_,b),b=b.sibling;return null}function n(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function i(_,b){return _=qi(_,b),_.index=0,_.sibling=null,_}function o(_,b,w){return _.index=w,t?(w=_.alternate,w!==null?(w=w.index,w<b?(_.flags|=2,b):w):(_.flags|=2,b)):(_.flags|=1048576,b)}function a(_){return t&&_.alternate===null&&(_.flags|=2),_}function s(_,b,w,O){return b===null||b.tag!==6?(b=Kg(w,_.mode,O),b.return=_,b):(b=i(b,w),b.return=_,b)}function l(_,b,w,O){var T=w.type;return T===Va?c(_,b,w.props.children,O,w.key):b!==null&&(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ti&&cE(T)===b.type)?(O=i(b,w.props),O.ref=Wl(_,b,w),O.return=_,O):(O=Cd(w.type,w.key,w.props,null,_.mode,O),O.ref=Wl(_,b,w),O.return=_,O)}function u(_,b,w,O){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Xg(w,_.mode,O),b.return=_,b):(b=i(b,w.children||[]),b.return=_,b)}function c(_,b,w,O,T){return b===null||b.tag!==7?(b=Go(w,_.mode,O,T),b.return=_,b):(b=i(b,w),b.return=_,b)}function d(_,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Kg(""+b,_.mode,w),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Mf:return w=Cd(b.type,b.key,b.props,null,_.mode,w),w.ref=Wl(_,null,b),w.return=_,w;case La:return b=Xg(b,_.mode,w),b.return=_,b;case Ti:var O=b._init;return d(_,O(b._payload),w)}if(iu(b)||Vl(b))return b=Go(b,_.mode,w,null),b.return=_,b;Gf(_,b)}return null}function h(_,b,w,O){var T=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:s(_,b,""+w,O);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Mf:return w.key===T?l(_,b,w,O):null;case La:return w.key===T?u(_,b,w,O):null;case Ti:return T=w._init,h(_,b,T(w._payload),O)}if(iu(w)||Vl(w))return T!==null?null:c(_,b,w,O,null);Gf(_,w)}return null}function p(_,b,w,O,T){if(typeof O=="string"&&O!==""||typeof O=="number")return _=_.get(w)||null,s(b,_,""+O,T);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Mf:return _=_.get(O.key===null?w:O.key)||null,l(b,_,O,T);case La:return _=_.get(O.key===null?w:O.key)||null,u(b,_,O,T);case Ti:var P=O._init;return p(_,b,w,P(O._payload),T)}if(iu(O)||Vl(O))return _=_.get(w)||null,c(b,_,O,T,null);Gf(b,O)}return null}function g(_,b,w,O){for(var T=null,P=null,E=b,S=b=0,I=null;E!==null&&S<w.length;S++){E.index>S?(I=E,E=null):I=E.sibling;var N=h(_,E,w[S],O);if(N===null){E===null&&(E=I);break}t&&E&&N.alternate===null&&e(_,E),b=o(N,b,S),P===null?T=N:P.sibling=N,P=N,E=I}if(S===w.length)return r(_,E),Xe&&ko(_,S),T;if(E===null){for(;S<w.length;S++)E=d(_,w[S],O),E!==null&&(b=o(E,b,S),P===null?T=E:P.sibling=E,P=E);return Xe&&ko(_,S),T}for(E=n(_,E);S<w.length;S++)I=p(E,_,S,w[S],O),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?S:I.key),b=o(I,b,S),P===null?T=I:P.sibling=I,P=I);return t&&E.forEach(function(C){return e(_,C)}),Xe&&ko(_,S),T}function y(_,b,w,O){var T=Vl(w);if(typeof T!="function")throw Error(Z(150));if(w=T.call(w),w==null)throw Error(Z(151));for(var P=T=null,E=b,S=b=0,I=null,N=w.next();E!==null&&!N.done;S++,N=w.next()){E.index>S?(I=E,E=null):I=E.sibling;var C=h(_,E,N.value,O);if(C===null){E===null&&(E=I);break}t&&E&&C.alternate===null&&e(_,E),b=o(C,b,S),P===null?T=C:P.sibling=C,P=C,E=I}if(N.done)return r(_,E),Xe&&ko(_,S),T;if(E===null){for(;!N.done;S++,N=w.next())N=d(_,N.value,O),N!==null&&(b=o(N,b,S),P===null?T=N:P.sibling=N,P=N);return Xe&&ko(_,S),T}for(E=n(_,E);!N.done;S++,N=w.next())N=p(E,_,S,N.value,O),N!==null&&(t&&N.alternate!==null&&E.delete(N.key===null?S:N.key),b=o(N,b,S),P===null?T=N:P.sibling=N,P=N);return t&&E.forEach(function(j){return e(_,j)}),Xe&&ko(_,S),T}function x(_,b,w,O){if(typeof w=="object"&&w!==null&&w.type===Va&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Mf:e:{for(var T=w.key,P=b;P!==null;){if(P.key===T){if(T=w.type,T===Va){if(P.tag===7){r(_,P.sibling),b=i(P,w.props.children),b.return=_,_=b;break e}}else if(P.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ti&&cE(T)===P.type){r(_,P.sibling),b=i(P,w.props),b.ref=Wl(_,P,w),b.return=_,_=b;break e}r(_,P);break}else e(_,P);P=P.sibling}w.type===Va?(b=Go(w.props.children,_.mode,O,w.key),b.return=_,_=b):(O=Cd(w.type,w.key,w.props,null,_.mode,O),O.ref=Wl(_,b,w),O.return=_,_=O)}return a(_);case La:e:{for(P=w.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(_,b.sibling),b=i(b,w.children||[]),b.return=_,_=b;break e}else{r(_,b);break}else e(_,b);b=b.sibling}b=Xg(w,_.mode,O),b.return=_,_=b}return a(_);case Ti:return P=w._init,x(_,b,P(w._payload),O)}if(iu(w))return g(_,b,w,O);if(Vl(w))return y(_,b,w,O);Gf(_,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(_,b.sibling),b=i(b,w),b.return=_,_=b):(r(_,b),b=Kg(w,_.mode,O),b.return=_,_=b),a(_)):r(_,b)}return x}var bs=TC(!0),AC=TC(!1),eh=co(null),th=null,Ga=null,Jb=null;function Zb(){Jb=Ga=th=null}function e_(t){var e=eh.current;Ge(eh),t._currentValue=e}function dv(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function is(t,e){th=t,Jb=Ga=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dr=!0),t.firstContext=null)}function zr(t){var e=t._currentValue;if(Jb!==t)if(t={context:t,memoizedValue:e,next:null},Ga===null){if(th===null)throw Error(Z(308));Ga=t,th.dependencies={lanes:0,firstContext:t}}else Ga=Ga.next=t;return e}var Lo=null;function t_(t){Lo===null?Lo=[t]:Lo.push(t)}function PC(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,t_(e)):(r.next=i.next,i.next=r),e.interleaved=r,ri(t,n)}function ri(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ai=!1;function r_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function IC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Kn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zi(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Pe&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ri(t,r)}return i=n.interleaved,i===null?(e.next=e,t_(n)):(e.next=i.next,i.next=e),n.interleaved=e,ri(t,r)}function Sd(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Bb(t,r)}}function fE(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function rh(t,e,r,n){var i=t.updateQueue;Ai=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,y=s;switch(h=e,p=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=et({},d,h);break e;case 2:Ai=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Zo|=a,t.lanes=a,t.memoizedState=d}}function dE(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Z(191,i));i.call(n)}}}var Xc={},En=co(Xc),Hu=co(Xc),qu=co(Xc);function Vo(t){if(t===Xc)throw Error(Z(174));return t}function n_(t,e){switch(Be(qu,e),Be(Hu,t),Be(En,Xc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qy(e,t)}Ge(En),Be(En,e)}function _s(){Ge(En),Ge(Hu),Ge(qu)}function OC(t){Vo(qu.current);var e=Vo(En.current),r=qy(e,t.type);e!==r&&(Be(Hu,t),Be(En,r))}function i_(t){Hu.current===t&&(Ge(En),Ge(Hu))}var Je=co(0);function nh(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ug=[];function o_(){for(var t=0;t<Ug.length;t++)Ug[t]._workInProgressVersionPrimary=null;Ug.length=0}var Td=pi.ReactCurrentDispatcher,zg=pi.ReactCurrentBatchConfig,Jo=0,Ze=null,yt=null,Tt=null,ih=!1,bu=!1,Gu=0,i4=0;function Ut(){throw Error(Z(321))}function a_(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!cn(t[r],e[r]))return!1;return!0}function s_(t,e,r,n,i,o){if(Jo=o,Ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Td.current=t===null||t.memoizedState===null?l4:u4,t=r(n,i),bu){o=0;do{if(bu=!1,Gu=0,25<=o)throw Error(Z(301));o+=1,Tt=yt=null,e.updateQueue=null,Td.current=c4,t=r(n,i)}while(bu)}if(Td.current=oh,e=yt!==null&&yt.next!==null,Jo=0,Tt=yt=Ze=null,ih=!1,e)throw Error(Z(300));return t}function l_(){var t=Gu!==0;return Gu=0,t}function vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Ze.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function Wr(){if(yt===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var e=Tt===null?Ze.memoizedState:Tt.next;if(e!==null)Tt=e,yt=t;else{if(t===null)throw Error(Z(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Tt===null?Ze.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function Ku(t,e){return typeof e=="function"?e(t):e}function Wg(t){var e=Wr(),r=e.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=t;var n=yt,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((Jo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,a=n):l=l.next=d,Ze.lanes|=c,Zo|=c}u=u.next}while(u!==null&&u!==o);l===null?a=n:l.next=s,cn(n,e.memoizedState)||(dr=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do o=i.lane,Ze.lanes|=o,Zo|=o,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Hg(t){var e=Wr(),r=e.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);cn(o,e.memoizedState)||(dr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function CC(){}function kC(t,e){var r=Ze,n=Wr(),i=e(),o=!cn(n.memoizedState,i);if(o&&(n.memoizedState=i,dr=!0),n=n.queue,u_(RC.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||Tt!==null&&Tt.memoizedState.tag&1){if(r.flags|=2048,Xu(9,jC.bind(null,r,n,i,e),void 0,null),At===null)throw Error(Z(349));Jo&30||NC(r,e,i)}return i}function NC(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function jC(t,e,r,n){e.value=r,e.getSnapshot=n,DC(e)&&MC(t)}function RC(t,e,r){return r(function(){DC(e)&&MC(t)})}function DC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!cn(t,r)}catch{return!0}}function MC(t){var e=ri(t,1);e!==null&&ln(e,t,1,-1)}function hE(t){var e=vn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ku,lastRenderedState:t},e.queue=t,t=t.dispatch=s4.bind(null,Ze,t),[e.memoizedState,t]}function Xu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function $C(){return Wr().memoizedState}function Ad(t,e,r,n){var i=vn();Ze.flags|=t,i.memoizedState=Xu(1|e,r,void 0,n===void 0?null:n)}function Fp(t,e,r,n){var i=Wr();n=n===void 0?null:n;var o=void 0;if(yt!==null){var a=yt.memoizedState;if(o=a.destroy,n!==null&&a_(n,a.deps)){i.memoizedState=Xu(e,r,o,n);return}}Ze.flags|=t,i.memoizedState=Xu(1|e,r,o,n)}function pE(t,e){return Ad(8390656,8,t,e)}function u_(t,e){return Fp(2048,8,t,e)}function LC(t,e){return Fp(4,2,t,e)}function VC(t,e){return Fp(4,4,t,e)}function FC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function BC(t,e,r){return r=r!=null?r.concat([t]):null,Fp(4,4,FC.bind(null,e,t),r)}function c_(){}function UC(t,e){var r=Wr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&a_(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function zC(t,e){var r=Wr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&a_(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function WC(t,e,r){return Jo&21?(cn(r,e)||(r=XO(),Ze.lanes|=r,Zo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dr=!0),t.memoizedState=r)}function o4(t,e){var r=je;je=r!==0&&4>r?r:4,t(!0);var n=zg.transition;zg.transition={};try{t(!1),e()}finally{je=r,zg.transition=n}}function HC(){return Wr().memoizedState}function a4(t,e,r){var n=Hi(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},qC(t))GC(e,r);else if(r=PC(t,e,r,n),r!==null){var i=ir();ln(r,t,n,i),KC(r,e,n)}}function s4(t,e,r){var n=Hi(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(qC(t))GC(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,r);if(i.hasEagerState=!0,i.eagerState=s,cn(s,a)){var l=e.interleaved;l===null?(i.next=i,t_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=PC(t,e,i,n),r!==null&&(i=ir(),ln(r,t,n,i),KC(r,e,n))}}function qC(t){var e=t.alternate;return t===Ze||e!==null&&e===Ze}function GC(t,e){bu=ih=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function KC(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Bb(t,r)}}var oh={readContext:zr,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},l4={readContext:zr,useCallback:function(t,e){return vn().memoizedState=[t,e===void 0?null:e],t},useContext:zr,useEffect:pE,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Ad(4194308,4,FC.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ad(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ad(4,2,t,e)},useMemo:function(t,e){var r=vn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=vn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=a4.bind(null,Ze,t),[n.memoizedState,t]},useRef:function(t){var e=vn();return t={current:t},e.memoizedState=t},useState:hE,useDebugValue:c_,useDeferredValue:function(t){return vn().memoizedState=t},useTransition:function(){var t=hE(!1),e=t[0];return t=o4.bind(null,t[1]),vn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ze,i=vn();if(Xe){if(r===void 0)throw Error(Z(407));r=r()}else{if(r=e(),At===null)throw Error(Z(349));Jo&30||NC(n,e,r)}i.memoizedState=r;var o={value:r,getSnapshot:e};return i.queue=o,pE(RC.bind(null,n,o,t),[t]),n.flags|=2048,Xu(9,jC.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=vn(),e=At.identifierPrefix;if(Xe){var r=Un,n=Bn;r=(n&~(1<<32-sn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Gu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=i4++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},u4={readContext:zr,useCallback:UC,useContext:zr,useEffect:u_,useImperativeHandle:BC,useInsertionEffect:LC,useLayoutEffect:VC,useMemo:zC,useReducer:Wg,useRef:$C,useState:function(){return Wg(Ku)},useDebugValue:c_,useDeferredValue:function(t){var e=Wr();return WC(e,yt.memoizedState,t)},useTransition:function(){var t=Wg(Ku)[0],e=Wr().memoizedState;return[t,e]},useMutableSource:CC,useSyncExternalStore:kC,useId:HC,unstable_isNewReconciler:!1},c4={readContext:zr,useCallback:UC,useContext:zr,useEffect:u_,useImperativeHandle:BC,useInsertionEffect:LC,useLayoutEffect:VC,useMemo:zC,useReducer:Hg,useRef:$C,useState:function(){return Hg(Ku)},useDebugValue:c_,useDeferredValue:function(t){var e=Wr();return yt===null?e.memoizedState=t:WC(e,yt.memoizedState,t)},useTransition:function(){var t=Hg(Ku)[0],e=Wr().memoizedState;return[t,e]},useMutableSource:CC,useSyncExternalStore:kC,useId:HC,unstable_isNewReconciler:!1};function Qr(t,e){if(t&&t.defaultProps){e=et({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function hv(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:et({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Bp={isMounted:function(t){return(t=t._reactInternals)?ma(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ir(),i=Hi(t),o=Kn(n,i);o.payload=e,r!=null&&(o.callback=r),e=zi(t,o,i),e!==null&&(ln(e,t,i,n),Sd(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ir(),i=Hi(t),o=Kn(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=zi(t,o,i),e!==null&&(ln(e,t,i,n),Sd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ir(),n=Hi(t),i=Kn(r,n);i.tag=2,e!=null&&(i.callback=e),e=zi(t,i,n),e!==null&&(ln(e,t,n,r),Sd(e,t,n))}};function mE(t,e,r,n,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,a):e.prototype&&e.prototype.isPureReactComponent?!Bu(r,n)||!Bu(i,o):!0}function XC(t,e,r){var n=!1,i=to,o=e.contextType;return typeof o=="object"&&o!==null?o=zr(o):(i=mr(e)?Yo:Qt.current,n=e.contextTypes,o=(n=n!=null)?ys(t,i):to),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function gE(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Bp.enqueueReplaceState(e,e.state,null)}function pv(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},r_(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=zr(o):(o=mr(e)?Yo:Qt.current,i.context=ys(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(hv(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Bp.enqueueReplaceState(i,i.state,null),rh(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ws(t,e){try{var r="",n=e;do r+=L$(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function qg(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function mv(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var f4=typeof WeakMap=="function"?WeakMap:Map;function YC(t,e,r){r=Kn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){sh||(sh=!0,Tv=n),mv(t,e)},r}function QC(t,e,r){r=Kn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){mv(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){mv(t,e),typeof n!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function yE(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new f4;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=T4.bind(null,t,e,r),e.then(t,t))}function vE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bE(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Kn(-1,1),e.tag=2,zi(r,e,1))),r.lanes|=1),t)}var d4=pi.ReactCurrentOwner,dr=!1;function rr(t,e,r,n){e.child=t===null?AC(e,null,r,n):bs(e,t.child,r,n)}function _E(t,e,r,n,i){r=r.render;var o=e.ref;return is(e,i),n=s_(t,e,r,n,o,i),r=l_(),t!==null&&!dr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ni(t,e,i)):(Xe&&r&&Xb(e),e.flags|=1,rr(t,e,n,i),e.child)}function wE(t,e,r,n,i){if(t===null){var o=r.type;return typeof o=="function"&&!v_(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,JC(t,e,o,n,i)):(t=Cd(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:Bu,r(a,n)&&t.ref===e.ref)return ni(t,e,i)}return e.flags|=1,t=qi(o,n),t.ref=e.ref,t.return=e,e.child=t}function JC(t,e,r,n,i){if(t!==null){var o=t.memoizedProps;if(Bu(o,n)&&t.ref===e.ref)if(dr=!1,e.pendingProps=n=o,(t.lanes&i)!==0)t.flags&131072&&(dr=!0);else return e.lanes=t.lanes,ni(t,e,i)}return gv(t,e,r,n,i)}function ZC(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(Xa,xr),xr|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(Xa,xr),xr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Be(Xa,xr),xr|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,Be(Xa,xr),xr|=n;return rr(t,e,i,r),e.child}function ek(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function gv(t,e,r,n,i){var o=mr(r)?Yo:Qt.current;return o=ys(e,o),is(e,i),r=s_(t,e,r,n,o,i),n=l_(),t!==null&&!dr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ni(t,e,i)):(Xe&&n&&Xb(e),e.flags|=1,rr(t,e,r,i),e.child)}function xE(t,e,r,n,i){if(mr(r)){var o=!0;Qd(e)}else o=!1;if(is(e,i),e.stateNode===null)Pd(t,e),XC(e,r,n),pv(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=zr(u):(u=mr(r)?Yo:Qt.current,u=ys(e,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||l!==u)&&gE(e,a,n,u),Ai=!1;var h=e.memoizedState;a.state=h,rh(e,n,a,i),l=e.memoizedState,s!==n||h!==l||pr.current||Ai?(typeof c=="function"&&(hv(e,r,c,n),l=e.memoizedState),(s=Ai||mE(e,r,s,n,h,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,IC(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Qr(e.type,s),a.props=u,d=e.pendingProps,h=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=zr(l):(l=mr(r)?Yo:Qt.current,l=ys(e,l));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||h!==l)&&gE(e,a,n,l),Ai=!1,h=e.memoizedState,a.state=h,rh(e,n,a,i);var g=e.memoizedState;s!==d||h!==g||pr.current||Ai?(typeof p=="function"&&(hv(e,r,p,n),g=e.memoizedState),(u=Ai||mE(e,r,u,n,h,g,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),a.props=n,a.state=g,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return yv(t,e,r,n,o,i)}function yv(t,e,r,n,i,o){ek(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&sE(e,r,!1),ni(t,e,o);n=e.stateNode,d4.current=e;var s=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=bs(e,t.child,null,o),e.child=bs(e,null,s,o)):rr(t,e,s,o),e.memoizedState=n.state,i&&sE(e,r,!0),e.child}function tk(t){var e=t.stateNode;e.pendingContext?aE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&aE(t,e.context,!1),n_(t,e.containerInfo)}function EE(t,e,r,n,i){return vs(),Qb(i),e.flags|=256,rr(t,e,r,n),e.child}var vv={dehydrated:null,treeContext:null,retryLane:0};function bv(t){return{baseLanes:t,cachePool:null,transitions:null}}function rk(t,e,r){var n=e.pendingProps,i=Je.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Be(Je,i&1),t===null)return fv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,o?(n=e.mode,o=e.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Wp(a,n,0,null),t=Go(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=bv(r),e.memoizedState=vv,t):f_(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return h4(t,e,a,n,s,i,r);if(o){o=n.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=qi(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=qi(s,o):(o=Go(o,a,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,a=t.child.memoizedState,a=a===null?bv(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~r,e.memoizedState=vv,n}return o=t.child,t=o.sibling,n=qi(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function f_(t,e){return e=Wp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Kf(t,e,r,n){return n!==null&&Qb(n),bs(e,t.child,null,r),t=f_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function h4(t,e,r,n,i,o,a){if(r)return e.flags&256?(e.flags&=-257,n=qg(Error(Z(422))),Kf(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,i=e.mode,n=Wp({mode:"visible",children:n.children},i,0,null),o=Go(o,i,a,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&bs(e,t.child,null,a),e.child.memoizedState=bv(a),e.memoizedState=vv,o);if(!(e.mode&1))return Kf(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(Z(419)),n=qg(o,n,void 0),Kf(t,e,a,n)}if(s=(a&t.childLanes)!==0,dr||s){if(n=At,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ri(t,i),ln(n,t,i,-1))}return y_(),n=qg(Error(Z(421))),Kf(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=A4.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Tr=Ui(i.nextSibling),Pr=e,Xe=!0,tn=null,t!==null&&(Dr[Mr++]=Bn,Dr[Mr++]=Un,Dr[Mr++]=Qo,Bn=t.id,Un=t.overflow,Qo=e),e=f_(e,n.children),e.flags|=4096,e)}function SE(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),dv(t.return,e,r)}function Gg(t,e,r,n,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function nk(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(rr(t,e,n.children,r),n=Je.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&SE(t,r,e);else if(t.tag===19)SE(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Be(Je,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&nh(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Gg(e,!1,i,r,o);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&nh(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Gg(e,!0,r,null,o);break;case"together":Gg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Pd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ni(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Zo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,r=qi(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=qi(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function p4(t,e,r){switch(e.tag){case 3:tk(e),vs();break;case 5:OC(e);break;case 1:mr(e.type)&&Qd(e);break;case 4:n_(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Be(eh,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Be(Je,Je.current&1),e.flags|=128,null):r&e.child.childLanes?rk(t,e,r):(Be(Je,Je.current&1),t=ni(t,e,r),t!==null?t.sibling:null);Be(Je,Je.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return nk(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(Je,Je.current),n)break;return null;case 22:case 23:return e.lanes=0,ZC(t,e,r)}return ni(t,e,r)}var ik,_v,ok,ak;ik=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};_v=function(){};ok=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Vo(En.current);var o=null;switch(r){case"input":i=Uy(t,i),n=Uy(t,n),o=[];break;case"select":i=et({},i,{value:void 0}),n=et({},n,{value:void 0}),o=[];break;case"textarea":i=Hy(t,i),n=Hy(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Xd)}Gy(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ru.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var l=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(o||(o=[]),o.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ru.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ze("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}r&&(o=o||[]).push("style",r);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};ak=function(t,e,r,n){r!==n&&(e.flags|=4)};function Hl(t,e){if(!Xe)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function m4(t,e,r){var n=e.pendingProps;switch(Yb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(e),null;case 1:return mr(e.type)&&Yd(),zt(e),null;case 3:return n=e.stateNode,_s(),Ge(pr),Ge(Qt),o_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(qf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,tn!==null&&(Iv(tn),tn=null))),_v(t,e),zt(e),null;case 5:i_(e);var i=Vo(qu.current);if(r=e.type,t!==null&&e.stateNode!=null)ok(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Z(166));return zt(e),null}if(t=Vo(En.current),qf(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[_n]=e,n[Wu]=o,t=(e.mode&1)!==0,r){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(i=0;i<au.length;i++)ze(au[i],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":j1(n,o),ze("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},ze("invalid",n);break;case"textarea":D1(n,o),ze("invalid",n)}Gy(r,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&Hf(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Hf(n.textContent,s,t),i=["children",""+s]):Ru.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&ze("scroll",n)}switch(r){case"input":$f(n),R1(n,o,!0);break;case"textarea":$f(n),M1(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Xd)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=RO(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[_n]=e,t[Wu]=n,ik(t,e,!1,!1),e.stateNode=t;e:{switch(a=Ky(r,n),r){case"dialog":ze("cancel",t),ze("close",t),i=n;break;case"iframe":case"object":case"embed":ze("load",t),i=n;break;case"video":case"audio":for(i=0;i<au.length;i++)ze(au[i],t);i=n;break;case"source":ze("error",t),i=n;break;case"img":case"image":case"link":ze("error",t),ze("load",t),i=n;break;case"details":ze("toggle",t),i=n;break;case"input":j1(t,n),i=Uy(t,n),ze("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=et({},n,{value:void 0}),ze("invalid",t);break;case"textarea":D1(t,n),i=Hy(t,n),ze("invalid",t);break;default:i=n}Gy(r,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?$O(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&DO(t,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Du(t,l):typeof l=="number"&&Du(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ru.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ze("scroll",t):l!=null&&Db(t,o,l,a))}switch(r){case"input":$f(t),R1(t,n,!1);break;case"textarea":$f(t),M1(t);break;case"option":n.value!=null&&t.setAttribute("value",""+eo(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?es(t,!!n.multiple,o,!1):n.defaultValue!=null&&es(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Xd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zt(e),null;case 6:if(t&&e.stateNode!=null)ak(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Z(166));if(r=Vo(qu.current),Vo(En.current),qf(e)){if(n=e.stateNode,r=e.memoizedProps,n[_n]=e,(o=n.nodeValue!==r)&&(t=Pr,t!==null))switch(t.tag){case 3:Hf(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Hf(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[_n]=e,e.stateNode=n}return zt(e),null;case 13:if(Ge(Je),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&Tr!==null&&e.mode&1&&!(e.flags&128))SC(),vs(),e.flags|=98560,o=!1;else if(o=qf(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(Z(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Z(317));o[_n]=e}else vs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zt(e),o=!1}else tn!==null&&(Iv(tn),tn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Je.current&1?vt===0&&(vt=3):y_())),e.updateQueue!==null&&(e.flags|=4),zt(e),null);case 4:return _s(),_v(t,e),t===null&&Uu(e.stateNode.containerInfo),zt(e),null;case 10:return e_(e.type._context),zt(e),null;case 17:return mr(e.type)&&Yd(),zt(e),null;case 19:if(Ge(Je),o=e.memoizedState,o===null)return zt(e),null;if(n=(e.flags&128)!==0,a=o.rendering,a===null)if(n)Hl(o,!1);else{if(vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=nh(t),a!==null){for(e.flags|=128,Hl(o,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Be(Je,Je.current&1|2),e.child}t=t.sibling}o.tail!==null&&lt()>xs&&(e.flags|=128,n=!0,Hl(o,!1),e.lanes=4194304)}else{if(!n)if(t=nh(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Hl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Xe)return zt(e),null}else 2*lt()-o.renderingStartTime>xs&&r!==1073741824&&(e.flags|=128,n=!0,Hl(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(r=o.last,r!==null?r.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=lt(),e.sibling=null,r=Je.current,Be(Je,n?r&1|2:r&1),e):(zt(e),null);case 22:case 23:return g_(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?xr&1073741824&&(zt(e),e.subtreeFlags&6&&(e.flags|=8192)):zt(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function g4(t,e){switch(Yb(e),e.tag){case 1:return mr(e.type)&&Yd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _s(),Ge(pr),Ge(Qt),o_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return i_(e),null;case 13:if(Ge(Je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));vs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ge(Je),null;case 4:return _s(),null;case 10:return e_(e.type._context),null;case 22:case 23:return g_(),null;case 24:return null;default:return null}}var Xf=!1,Gt=!1,y4=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Ka(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){it(t,e,n)}else r.current=null}function wv(t,e,r){try{r()}catch(n){it(t,e,n)}}var TE=!1;function v4(t,e){if(iv=qd,t=fC(),Kb(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,s=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var p;d!==r||i!==0&&d.nodeType!==3||(s=a+i),d!==o||n!==0&&d.nodeType!==3||(l=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===r&&++u===i&&(s=a),h===o&&++c===n&&(l=a),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ov={focusedElem:t,selectionRange:r},qd=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,x=g.memoizedState,_=e.stateNode,b=_.getSnapshotBeforeUpdate(e.elementType===e.type?y:Qr(e.type,y),x);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(O){it(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return g=TE,TE=!1,g}function _u(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&wv(e,r,o)}i=i.next}while(i!==n)}}function Up(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function xv(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function sk(t){var e=t.alternate;e!==null&&(t.alternate=null,sk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_n],delete e[Wu],delete e[lv],delete e[e4],delete e[t4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lk(t){return t.tag===5||t.tag===3||t.tag===4}function AE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ev(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Xd));else if(n!==4&&(t=t.child,t!==null))for(Ev(t,e,r),t=t.sibling;t!==null;)Ev(t,e,r),t=t.sibling}function Sv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Sv(t,e,r),t=t.sibling;t!==null;)Sv(t,e,r),t=t.sibling}var kt=null,Jr=!1;function Ei(t,e,r){for(r=r.child;r!==null;)uk(t,e,r),r=r.sibling}function uk(t,e,r){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(Rp,r)}catch{}switch(r.tag){case 5:Gt||Ka(r,e);case 6:var n=kt,i=Jr;kt=null,Ei(t,e,r),kt=n,Jr=i,kt!==null&&(Jr?(t=kt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):kt.removeChild(r.stateNode));break;case 18:kt!==null&&(Jr?(t=kt,r=r.stateNode,t.nodeType===8?Fg(t.parentNode,r):t.nodeType===1&&Fg(t,r),Vu(t)):Fg(kt,r.stateNode));break;case 4:n=kt,i=Jr,kt=r.stateNode.containerInfo,Jr=!0,Ei(t,e,r),kt=n,Jr=i;break;case 0:case 11:case 14:case 15:if(!Gt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&wv(r,e,a),i=i.next}while(i!==n)}Ei(t,e,r);break;case 1:if(!Gt&&(Ka(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){it(r,e,s)}Ei(t,e,r);break;case 21:Ei(t,e,r);break;case 22:r.mode&1?(Gt=(n=Gt)||r.memoizedState!==null,Ei(t,e,r),Gt=n):Ei(t,e,r);break;default:Ei(t,e,r)}}function PE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new y4),e.forEach(function(n){var i=P4.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Xr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:kt=s.stateNode,Jr=!1;break e;case 3:kt=s.stateNode.containerInfo,Jr=!0;break e;case 4:kt=s.stateNode.containerInfo,Jr=!0;break e}s=s.return}if(kt===null)throw Error(Z(160));uk(o,a,i),kt=null,Jr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){it(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ck(e,t),e=e.sibling}function ck(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xr(e,t),gn(t),n&4){try{_u(3,t,t.return),Up(3,t)}catch(y){it(t,t.return,y)}try{_u(5,t,t.return)}catch(y){it(t,t.return,y)}}break;case 1:Xr(e,t),gn(t),n&512&&r!==null&&Ka(r,r.return);break;case 5:if(Xr(e,t),gn(t),n&512&&r!==null&&Ka(r,r.return),t.flags&32){var i=t.stateNode;try{Du(i,"")}catch(y){it(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=r!==null?r.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&NO(i,o),Ky(s,a);var u=Ky(s,o);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?$O(i,d):c==="dangerouslySetInnerHTML"?DO(i,d):c==="children"?Du(i,d):Db(i,c,d,u)}switch(s){case"input":zy(i,o);break;case"textarea":jO(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?es(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?es(i,!!o.multiple,o.defaultValue,!0):es(i,!!o.multiple,o.multiple?[]:"",!1))}i[Wu]=o}catch(y){it(t,t.return,y)}}break;case 6:if(Xr(e,t),gn(t),n&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){it(t,t.return,y)}}break;case 3:if(Xr(e,t),gn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Vu(e.containerInfo)}catch(y){it(t,t.return,y)}break;case 4:Xr(e,t),gn(t);break;case 13:Xr(e,t),gn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(p_=lt())),n&4&&PE(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Gt=(u=Gt)||c,Xr(e,t),Gt=u):Xr(e,t),gn(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(oe=t,c=t.child;c!==null;){for(d=oe=c;oe!==null;){switch(h=oe,p=h.child,h.tag){case 0:case 11:case 14:case 15:_u(4,h,h.return);break;case 1:Ka(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){it(n,r,y)}}break;case 5:Ka(h,h.return);break;case 22:if(h.memoizedState!==null){OE(d);continue}}p!==null?(p.return=h,oe=p):OE(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=MO("display",a))}catch(y){it(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){it(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Xr(e,t),gn(t),n&4&&PE(t);break;case 21:break;default:Xr(e,t),gn(t)}}function gn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(lk(r)){var n=r;break e}r=r.return}throw Error(Z(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Du(i,""),n.flags&=-33);var o=AE(t);Sv(t,o,i);break;case 3:case 4:var a=n.stateNode.containerInfo,s=AE(t);Ev(t,s,a);break;default:throw Error(Z(161))}}catch(l){it(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function b4(t,e,r){oe=t,fk(t)}function fk(t,e,r){for(var n=(t.mode&1)!==0;oe!==null;){var i=oe,o=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Xf;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Gt;s=Xf;var u=Gt;if(Xf=a,(Gt=l)&&!u)for(oe=i;oe!==null;)a=oe,l=a.child,a.tag===22&&a.memoizedState!==null?CE(i):l!==null?(l.return=a,oe=l):CE(i);for(;o!==null;)oe=o,fk(o),o=o.sibling;oe=i,Xf=s,Gt=u}IE(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,oe=o):IE(t)}}function IE(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Gt||Up(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Gt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Qr(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&dE(e,o,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}dE(e,a,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Vu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}Gt||e.flags&512&&xv(e)}catch(h){it(e,e.return,h)}}if(e===t){oe=null;break}if(r=e.sibling,r!==null){r.return=e.return,oe=r;break}oe=e.return}}function OE(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,oe=r;break}oe=e.return}}function CE(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Up(4,e)}catch(l){it(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){it(e,i,l)}}var o=e.return;try{xv(e)}catch(l){it(e,o,l)}break;case 5:var a=e.return;try{xv(e)}catch(l){it(e,a,l)}}}catch(l){it(e,e.return,l)}if(e===t){oe=null;break}var s=e.sibling;if(s!==null){s.return=e.return,oe=s;break}oe=e.return}}var _4=Math.ceil,ah=pi.ReactCurrentDispatcher,d_=pi.ReactCurrentOwner,Fr=pi.ReactCurrentBatchConfig,Pe=0,At=null,ht=null,Dt=0,xr=0,Xa=co(0),vt=0,Yu=null,Zo=0,zp=0,h_=0,wu=null,cr=null,p_=0,xs=1/0,Vn=null,sh=!1,Tv=null,Wi=null,Yf=!1,Mi=null,lh=0,xu=0,Av=null,Id=-1,Od=0;function ir(){return Pe&6?lt():Id!==-1?Id:Id=lt()}function Hi(t){return t.mode&1?Pe&2&&Dt!==0?Dt&-Dt:n4.transition!==null?(Od===0&&(Od=XO()),Od):(t=je,t!==0||(t=window.event,t=t===void 0?16:rC(t.type)),t):1}function ln(t,e,r,n){if(50<xu)throw xu=0,Av=null,Error(Z(185));qc(t,r,n),(!(Pe&2)||t!==At)&&(t===At&&(!(Pe&2)&&(zp|=r),vt===4&&Oi(t,Dt)),gr(t,n),r===1&&Pe===0&&!(e.mode&1)&&(xs=lt()+500,Vp&&fo()))}function gr(t,e){var r=t.callbackNode;nL(t,e);var n=Hd(t,t===At?Dt:0);if(n===0)r!==null&&V1(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&V1(r),e===1)t.tag===0?r4(kE.bind(null,t)):wC(kE.bind(null,t)),JL(function(){!(Pe&6)&&fo()}),r=null;else{switch(YO(n)){case 1:r=Fb;break;case 4:r=GO;break;case 16:r=Wd;break;case 536870912:r=KO;break;default:r=Wd}r=bk(r,dk.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function dk(t,e){if(Id=-1,Od=0,Pe&6)throw Error(Z(327));var r=t.callbackNode;if(os()&&t.callbackNode!==r)return null;var n=Hd(t,t===At?Dt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=uh(t,n);else{e=n;var i=Pe;Pe|=2;var o=pk();(At!==t||Dt!==e)&&(Vn=null,xs=lt()+500,qo(t,e));do try{E4();break}catch(s){hk(t,s)}while(!0);Zb(),ah.current=o,Pe=i,ht!==null?e=0:(At=null,Dt=0,e=vt)}if(e!==0){if(e===2&&(i=Zy(t),i!==0&&(n=i,e=Pv(t,i))),e===1)throw r=Yu,qo(t,0),Oi(t,n),gr(t,lt()),r;if(e===6)Oi(t,n);else{if(i=t.current.alternate,!(n&30)&&!w4(i)&&(e=uh(t,n),e===2&&(o=Zy(t),o!==0&&(n=o,e=Pv(t,o))),e===1))throw r=Yu,qo(t,0),Oi(t,n),gr(t,lt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Z(345));case 2:No(t,cr,Vn);break;case 3:if(Oi(t,n),(n&130023424)===n&&(e=p_+500-lt(),10<e)){if(Hd(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){ir(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=sv(No.bind(null,t,cr,Vn),e);break}No(t,cr,Vn);break;case 4:if(Oi(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-sn(n);o=1<<a,a=e[a],a>i&&(i=a),n&=~o}if(n=i,n=lt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_4(n/1960))-n,10<n){t.timeoutHandle=sv(No.bind(null,t,cr,Vn),n);break}No(t,cr,Vn);break;case 5:No(t,cr,Vn);break;default:throw Error(Z(329))}}}return gr(t,lt()),t.callbackNode===r?dk.bind(null,t):null}function Pv(t,e){var r=wu;return t.current.memoizedState.isDehydrated&&(qo(t,e).flags|=256),t=uh(t,e),t!==2&&(e=cr,cr=r,e!==null&&Iv(e)),t}function Iv(t){cr===null?cr=t:cr.push.apply(cr,t)}function w4(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!cn(o(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Oi(t,e){for(e&=~h_,e&=~zp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-sn(e),n=1<<r;t[r]=-1,e&=~n}}function kE(t){if(Pe&6)throw Error(Z(327));os();var e=Hd(t,0);if(!(e&1))return gr(t,lt()),null;var r=uh(t,e);if(t.tag!==0&&r===2){var n=Zy(t);n!==0&&(e=n,r=Pv(t,n))}if(r===1)throw r=Yu,qo(t,0),Oi(t,e),gr(t,lt()),r;if(r===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,No(t,cr,Vn),gr(t,lt()),null}function m_(t,e){var r=Pe;Pe|=1;try{return t(e)}finally{Pe=r,Pe===0&&(xs=lt()+500,Vp&&fo())}}function ea(t){Mi!==null&&Mi.tag===0&&!(Pe&6)&&os();var e=Pe;Pe|=1;var r=Fr.transition,n=je;try{if(Fr.transition=null,je=1,t)return t()}finally{je=n,Fr.transition=r,Pe=e,!(Pe&6)&&fo()}}function g_(){xr=Xa.current,Ge(Xa)}function qo(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,QL(r)),ht!==null)for(r=ht.return;r!==null;){var n=r;switch(Yb(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Yd();break;case 3:_s(),Ge(pr),Ge(Qt),o_();break;case 5:i_(n);break;case 4:_s();break;case 13:Ge(Je);break;case 19:Ge(Je);break;case 10:e_(n.type._context);break;case 22:case 23:g_()}r=r.return}if(At=t,ht=t=qi(t.current,null),Dt=xr=e,vt=0,Yu=null,h_=zp=Zo=0,cr=wu=null,Lo!==null){for(e=0;e<Lo.length;e++)if(r=Lo[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=i,n.next=a}r.pending=n}Lo=null}return t}function hk(t,e){do{var r=ht;try{if(Zb(),Td.current=oh,ih){for(var n=Ze.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ih=!1}if(Jo=0,Tt=yt=Ze=null,bu=!1,Gu=0,d_.current=null,r===null||r.return===null){vt=1,Yu=e,ht=null;break}e:{var o=t,a=r.return,s=r,l=e;if(e=Dt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=vE(a);if(p!==null){p.flags&=-257,bE(p,a,s,o,e),p.mode&1&&yE(o,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){yE(o,u,e),y_();break e}l=Error(Z(426))}}else if(Xe&&s.mode&1){var x=vE(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),bE(x,a,s,o,e),Qb(ws(l,s));break e}}o=l=ws(l,s),vt!==4&&(vt=2),wu===null?wu=[o]:wu.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=YC(o,l,e);fE(o,_);break e;case 1:s=l;var b=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Wi===null||!Wi.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var O=QC(o,s,e);fE(o,O);break e}}o=o.return}while(o!==null)}gk(r)}catch(T){e=T,ht===r&&r!==null&&(ht=r=r.return);continue}break}while(!0)}function pk(){var t=ah.current;return ah.current=oh,t===null?oh:t}function y_(){(vt===0||vt===3||vt===2)&&(vt=4),At===null||!(Zo&268435455)&&!(zp&268435455)||Oi(At,Dt)}function uh(t,e){var r=Pe;Pe|=2;var n=pk();(At!==t||Dt!==e)&&(Vn=null,qo(t,e));do try{x4();break}catch(i){hk(t,i)}while(!0);if(Zb(),Pe=r,ah.current=n,ht!==null)throw Error(Z(261));return At=null,Dt=0,vt}function x4(){for(;ht!==null;)mk(ht)}function E4(){for(;ht!==null&&!K$();)mk(ht)}function mk(t){var e=vk(t.alternate,t,xr);t.memoizedProps=t.pendingProps,e===null?gk(t):ht=e,d_.current=null}function gk(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=g4(r,e),r!==null){r.flags&=32767,ht=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vt=6,ht=null;return}}else if(r=m4(r,e,xr),r!==null){ht=r;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);vt===0&&(vt=5)}function No(t,e,r){var n=je,i=Fr.transition;try{Fr.transition=null,je=1,S4(t,e,r,n)}finally{Fr.transition=i,je=n}return null}function S4(t,e,r,n){do os();while(Mi!==null);if(Pe&6)throw Error(Z(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(iL(t,o),t===At&&(ht=At=null,Dt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Yf||(Yf=!0,bk(Wd,function(){return os(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Fr.transition,Fr.transition=null;var a=je;je=1;var s=Pe;Pe|=4,d_.current=null,v4(t,r),ck(r,t),WL(ov),qd=!!iv,ov=iv=null,t.current=r,b4(r),X$(),Pe=s,je=a,Fr.transition=o}else t.current=r;if(Yf&&(Yf=!1,Mi=t,lh=i),o=t.pendingLanes,o===0&&(Wi=null),J$(r.stateNode),gr(t,lt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(sh)throw sh=!1,t=Tv,Tv=null,t;return lh&1&&t.tag!==0&&os(),o=t.pendingLanes,o&1?t===Av?xu++:(xu=0,Av=t):xu=0,fo(),null}function os(){if(Mi!==null){var t=YO(lh),e=Fr.transition,r=je;try{if(Fr.transition=null,je=16>t?16:t,Mi===null)var n=!1;else{if(t=Mi,Mi=null,lh=0,Pe&6)throw Error(Z(331));var i=Pe;for(Pe|=4,oe=t.current;oe!==null;){var o=oe,a=o.child;if(oe.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(oe=u;oe!==null;){var c=oe;switch(c.tag){case 0:case 11:case 15:_u(8,c,o)}var d=c.child;if(d!==null)d.return=c,oe=d;else for(;oe!==null;){c=oe;var h=c.sibling,p=c.return;if(sk(c),c===u){oe=null;break}if(h!==null){h.return=p,oe=h;break}oe=p}}}var g=o.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}oe=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,oe=a;else e:for(;oe!==null;){if(o=oe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:_u(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,oe=_;break e}oe=o.return}}var b=t.current;for(oe=b;oe!==null;){a=oe;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,oe=w;else e:for(a=b;oe!==null;){if(s=oe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Up(9,s)}}catch(T){it(s,s.return,T)}if(s===a){oe=null;break e}var O=s.sibling;if(O!==null){O.return=s.return,oe=O;break e}oe=s.return}}if(Pe=i,fo(),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(Rp,t)}catch{}n=!0}return n}finally{je=r,Fr.transition=e}}return!1}function NE(t,e,r){e=ws(r,e),e=YC(t,e,1),t=zi(t,e,1),e=ir(),t!==null&&(qc(t,1,e),gr(t,e))}function it(t,e,r){if(t.tag===3)NE(t,t,r);else for(;e!==null;){if(e.tag===3){NE(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Wi===null||!Wi.has(n))){t=ws(r,t),t=QC(e,t,1),e=zi(e,t,1),t=ir(),e!==null&&(qc(e,1,t),gr(e,t));break}}e=e.return}}function T4(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ir(),t.pingedLanes|=t.suspendedLanes&r,At===t&&(Dt&r)===r&&(vt===4||vt===3&&(Dt&130023424)===Dt&&500>lt()-p_?qo(t,0):h_|=r),gr(t,e)}function yk(t,e){e===0&&(t.mode&1?(e=Ff,Ff<<=1,!(Ff&130023424)&&(Ff=4194304)):e=1);var r=ir();t=ri(t,e),t!==null&&(qc(t,e,r),gr(t,r))}function A4(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),yk(t,r)}function P4(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Z(314))}n!==null&&n.delete(e),yk(t,r)}var vk;vk=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||pr.current)dr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return dr=!1,p4(t,e,r);dr=!!(t.flags&131072)}else dr=!1,Xe&&e.flags&1048576&&xC(e,Zd,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Pd(t,e),t=e.pendingProps;var i=ys(e,Qt.current);is(e,r),i=s_(null,e,n,t,i,r);var o=l_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mr(n)?(o=!0,Qd(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,r_(e),i.updater=Bp,e.stateNode=i,i._reactInternals=e,pv(e,n,t,r),e=yv(null,e,n,!0,o,r)):(e.tag=0,Xe&&o&&Xb(e),rr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Pd(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=O4(n),t=Qr(n,t),i){case 0:e=gv(null,e,n,t,r);break e;case 1:e=xE(null,e,n,t,r);break e;case 11:e=_E(null,e,n,t,r);break e;case 14:e=wE(null,e,n,Qr(n.type,t),r);break e}throw Error(Z(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Qr(n,i),gv(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Qr(n,i),xE(t,e,n,i,r);case 3:e:{if(tk(e),t===null)throw Error(Z(387));n=e.pendingProps,o=e.memoizedState,i=o.element,IC(t,e),rh(e,n,null,r);var a=e.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ws(Error(Z(423)),e),e=EE(t,e,n,r,i);break e}else if(n!==i){i=ws(Error(Z(424)),e),e=EE(t,e,n,r,i);break e}else for(Tr=Ui(e.stateNode.containerInfo.firstChild),Pr=e,Xe=!0,tn=null,r=AC(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vs(),n===i){e=ni(t,e,r);break e}rr(t,e,n,r)}e=e.child}return e;case 5:return OC(e),t===null&&fv(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,av(n,i)?a=null:o!==null&&av(n,o)&&(e.flags|=32),ek(t,e),rr(t,e,a,r),e.child;case 6:return t===null&&fv(e),null;case 13:return rk(t,e,r);case 4:return n_(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=bs(e,null,n,r):rr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Qr(n,i),_E(t,e,n,i,r);case 7:return rr(t,e,e.pendingProps,r),e.child;case 8:return rr(t,e,e.pendingProps.children,r),e.child;case 12:return rr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Be(eh,n._currentValue),n._currentValue=a,o!==null)if(cn(o.value,a)){if(o.children===i.children&&!pr.current){e=ni(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Kn(-1,r&-r),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),dv(o.return,r,e),s.lanes|=r;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Z(341));a.lanes|=r,s=a.alternate,s!==null&&(s.lanes|=r),dv(a,r,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}rr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,is(e,r),i=zr(i),n=n(i),e.flags|=1,rr(t,e,n,r),e.child;case 14:return n=e.type,i=Qr(n,e.pendingProps),i=Qr(n.type,i),wE(t,e,n,i,r);case 15:return JC(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Qr(n,i),Pd(t,e),e.tag=1,mr(n)?(t=!0,Qd(e)):t=!1,is(e,r),XC(e,n,i),pv(e,n,i,r),yv(null,e,n,!0,t,r);case 19:return nk(t,e,r);case 22:return ZC(t,e,r)}throw Error(Z(156,e.tag))};function bk(t,e){return qO(t,e)}function I4(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(t,e,r,n){return new I4(t,e,r,n)}function v_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function O4(t){if(typeof t=="function")return v_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$b)return 11;if(t===Lb)return 14}return 2}function qi(t,e){var r=t.alternate;return r===null?(r=Lr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Cd(t,e,r,n,i,o){var a=2;if(n=t,typeof t=="function")v_(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Va:return Go(r.children,i,o,e);case Mb:a=8,i|=8;break;case Ly:return t=Lr(12,r,e,i|2),t.elementType=Ly,t.lanes=o,t;case Vy:return t=Lr(13,r,e,i),t.elementType=Vy,t.lanes=o,t;case Fy:return t=Lr(19,r,e,i),t.elementType=Fy,t.lanes=o,t;case OO:return Wp(r,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case PO:a=10;break e;case IO:a=9;break e;case $b:a=11;break e;case Lb:a=14;break e;case Ti:a=16,n=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=Lr(a,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function Go(t,e,r,n){return t=Lr(7,t,n,e),t.lanes=r,t}function Wp(t,e,r,n){return t=Lr(22,t,n,e),t.elementType=OO,t.lanes=r,t.stateNode={isHidden:!1},t}function Kg(t,e,r){return t=Lr(6,t,null,e),t.lanes=r,t}function Xg(t,e,r){return e=Lr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function C4(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Og(0),this.expirationTimes=Og(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Og(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function b_(t,e,r,n,i,o,a,s,l){return t=new C4(t,e,r,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Lr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},r_(o),t}function k4(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:La,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function _k(t){if(!t)return to;t=t._reactInternals;e:{if(ma(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var r=t.type;if(mr(r))return _C(t,r,e)}return e}function wk(t,e,r,n,i,o,a,s,l){return t=b_(r,n,!0,t,i,o,a,s,l),t.context=_k(null),r=t.current,n=ir(),i=Hi(r),o=Kn(n,i),o.callback=e??null,zi(r,o,i),t.current.lanes=i,qc(t,i,n),gr(t,n),t}function Hp(t,e,r,n){var i=e.current,o=ir(),a=Hi(i);return r=_k(r),e.context===null?e.context=r:e.pendingContext=r,e=Kn(o,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=zi(i,e,a),t!==null&&(ln(t,i,a,o),Sd(t,i,a)),a}function ch(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function __(t,e){jE(t,e),(t=t.alternate)&&jE(t,e)}function N4(){return null}var xk=typeof reportError=="function"?reportError:function(t){console.error(t)};function w_(t){this._internalRoot=t}qp.prototype.render=w_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));Hp(t,e,null,null)};qp.prototype.unmount=w_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ea(function(){Hp(null,t,null,null)}),e[ti]=null}};function qp(t){this._internalRoot=t}qp.prototype.unstable_scheduleHydration=function(t){if(t){var e=ZO();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ii.length&&e!==0&&e<Ii[r].priority;r++);Ii.splice(r,0,t),r===0&&tC(t)}};function x_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function RE(){}function j4(t,e,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var u=ch(a);o.call(u)}}var a=wk(e,n,t,0,null,!1,!1,"",RE);return t._reactRootContainer=a,t[ti]=a.current,Uu(t.nodeType===8?t.parentNode:t),ea(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=ch(l);s.call(u)}}var l=b_(t,0,!1,null,null,!1,!1,"",RE);return t._reactRootContainer=l,t[ti]=l.current,Uu(t.nodeType===8?t.parentNode:t),ea(function(){Hp(e,l,r,n)}),l}function Kp(t,e,r,n,i){var o=r._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=ch(a);s.call(l)}}Hp(e,a,t,i)}else a=j4(r,e,t,i,n);return ch(a)}QO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ou(e.pendingLanes);r!==0&&(Bb(e,r|1),gr(e,lt()),!(Pe&6)&&(xs=lt()+500,fo()))}break;case 13:ea(function(){var n=ri(t,1);if(n!==null){var i=ir();ln(n,t,1,i)}}),__(t,1)}};Ub=function(t){if(t.tag===13){var e=ri(t,134217728);if(e!==null){var r=ir();ln(e,t,134217728,r)}__(t,134217728)}};JO=function(t){if(t.tag===13){var e=Hi(t),r=ri(t,e);if(r!==null){var n=ir();ln(r,t,e,n)}__(t,e)}};ZO=function(){return je};eC=function(t,e){var r=je;try{return je=t,e()}finally{je=r}};Yy=function(t,e,r){switch(e){case"input":if(zy(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Lp(n);if(!i)throw Error(Z(90));kO(n),zy(n,i)}}}break;case"textarea":jO(t,r);break;case"select":e=r.value,e!=null&&es(t,!!r.multiple,e,!1)}};FO=m_;BO=ea;var R4={usingClientEntryPoint:!1,Events:[Kc,za,Lp,LO,VO,m_]},ql={findFiberByHostInstance:$o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},D4={bundleType:ql.bundleType,version:ql.version,rendererPackageName:ql.rendererPackageName,rendererConfig:ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=WO(t),t===null?null:t.stateNode},findFiberByHostInstance:ql.findFiberByHostInstance||N4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qf.isDisabled&&Qf.supportsFiber)try{Rp=Qf.inject(D4),xn=Qf}catch{}}Cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R4;Cr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x_(e))throw Error(Z(200));return k4(t,e,null,r)};Cr.createRoot=function(t,e){if(!x_(t))throw Error(Z(299));var r=!1,n="",i=xk;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=b_(t,1,!1,null,null,r,!1,n,i),t[ti]=e.current,Uu(t.nodeType===8?t.parentNode:t),new w_(e)};Cr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=WO(e),t=t===null?null:t.stateNode,t};Cr.flushSync=function(t){return ea(t)};Cr.hydrate=function(t,e,r){if(!Gp(e))throw Error(Z(200));return Kp(null,t,e,!0,r)};Cr.hydrateRoot=function(t,e,r){if(!x_(t))throw Error(Z(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",a=xk;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=wk(e,null,t,1,r??null,i,!1,o,a),t[ti]=e.current,Uu(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new qp(e)};Cr.render=function(t,e,r){if(!Gp(e))throw Error(Z(200));return Kp(null,t,e,!1,r)};Cr.unmountComponentAtNode=function(t){if(!Gp(t))throw Error(Z(40));return t._reactRootContainer?(ea(function(){Kp(null,null,t,!1,function(){t._reactRootContainer=null,t[ti]=null})}),!0):!1};Cr.unstable_batchedUpdates=m_;Cr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Gp(r))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return Kp(t,e,r,!1,n)};Cr.version="18.3.1-next-f1338f8080-20240426";function Ek(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ek)}catch(t){console.error(t)}}Ek(),EO.exports=Cr;var M4=EO.exports,DE=M4;My.createRoot=DE.createRoot,My.hydrateRoot=DE.hydrateRoot;const $4=()=>{};var ME={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},L4=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[r++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[r++],a=t[r++],s=t[r++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const o=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},Tk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|s>>4;let h=(s&15)<<2|u>>6,p=u&63;l||(p=64,a||(h=64)),n.push(r[c],r[d],r[h],r[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Sk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):L4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const o=r[t.charAt(i++)],s=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const d=i<t.length?r[t.charAt(i)]:64;if(++i,o==null||s==null||u==null||d==null)throw new V4;const h=o<<2|s>>4;if(n.push(h),u!==64){const p=s<<4&240|u>>2;if(n.push(p),d!==64){const g=u<<6&192|d;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class V4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const F4=function(t){const e=Sk(t);return Tk.encodeByteArray(e,!0)},fh=function(t){return F4(t).replace(/\./g,"")},Ak=function(t){try{return Tk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=()=>B4().__FIREBASE_DEFAULTS__,z4=()=>{if(typeof process>"u"||typeof ME>"u")return;const t=ME.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},W4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ak(t[1]);return e&&JSON.parse(e)},Xp=()=>{try{return $4()||U4()||z4()||W4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Pk=t=>{var e,r;return(r=(e=Xp())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},H4=t=>{const e=Pk(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},Ik=()=>{var t;return(t=Xp())===null||t===void 0?void 0:t.config},Ok=t=>{var e;return(e=Xp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){return t.endsWith(".cloudworkstations.dev")}async function Ck(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[fh(JSON.stringify(r)),fh(JSON.stringify(a)),""].join(".")}const Eu={};function K4(){const t={prod:[],emulator:[]};for(const e of Object.keys(Eu))Eu[e]?t.emulator.push(e):t.prod.push(e);return t}function X4(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let $E=!1;function kk(t,e){if(typeof window>"u"||typeof document>"u"||!nl(window.location.host)||Eu[t]===e||Eu[t]||$E)return;Eu[t]=e;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",o=K4().prod.length>0;function a(){const h=document.getElementById(n);h&&h.remove()}function s(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{$E=!0,a()},h}function c(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=X4(n),p=r("text"),g=document.getElementById(p)||document.createElement("span"),y=r("learnmore"),x=document.getElementById(y)||document.createElement("a"),_=r("preprendIcon"),b=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;s(w),c(x,y);const O=u();l(b,_),w.append(b,g,x,O),document.body.appendChild(w)}o?(g.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Y4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function Q4(){var t;const e=(t=Xp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function J4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Z4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function e3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function t3(){const t=Jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function r3(){return!Q4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function n3(){try{return typeof indexedDB=="object"}catch{return!1}}function i3(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="FirebaseError";class mi extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=o3,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yc.prototype.create)}}class Yc{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?a3(o,n):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new mi(i,s,n)}}function a3(t,e){return t.replace(s3,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const s3=/\{\$([^}]+)}/g;function l3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ta(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const o=t[i],a=e[i];if(LE(o)&&LE(a)){if(!ta(o,a))return!1}else if(o!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function LE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function su(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,o]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function lu(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function u3(t,e){const r=new c3(t,e);return r.subscribe.bind(r)}class c3{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");f3(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Yg),i.error===void 0&&(i.error=Yg),i.complete===void 0&&(i.complete=Yg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f3(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Yg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t){return t&&t._delegate?t._delegate:t}class ra{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new q4;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(p3(e))try{this.getOrInitializeService({instanceIdentifier:jo})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=jo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jo){return this.instances.has(e)}getOptions(e=jo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);n===s&&a.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),o=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:h3(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=jo){return this.component?this.component.multipleInstances?e:jo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function h3(t){return t===jo?void 0:t}function p3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new d3(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const g3={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},y3=we.INFO,v3={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},b3=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=v3[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class E_{constructor(e){this.name=e,this._logLevel=y3,this._logHandler=b3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?g3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const _3=(t,e)=>e.some(r=>t instanceof r);let VE,FE;function w3(){return VE||(VE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function x3(){return FE||(FE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nk=new WeakMap,Ov=new WeakMap,jk=new WeakMap,Qg=new WeakMap,S_=new WeakMap;function E3(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{r(Gi(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&Nk.set(r,t)}).catch(()=>{}),S_.set(e,t),e}function S3(t){if(Ov.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});Ov.set(t,e)}let Cv={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Ov.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jk.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Gi(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function T3(t){Cv=t(Cv)}function A3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Jg(this),e,...r);return jk.set(n,e.sort?e.sort():[e]),Gi(n)}:x3().includes(t)?function(...e){return t.apply(Jg(this),e),Gi(Nk.get(this))}:function(...e){return Gi(t.apply(Jg(this),e))}}function P3(t){return typeof t=="function"?A3(t):(t instanceof IDBTransaction&&S3(t),_3(t,w3())?new Proxy(t,Cv):t)}function Gi(t){if(t instanceof IDBRequest)return E3(t);if(Qg.has(t))return Qg.get(t);const e=P3(t);return e!==t&&(Qg.set(t,e),S_.set(e,t)),e}const Jg=t=>S_.get(t);function I3(t,e,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=Gi(a);return n&&a.addEventListener("upgradeneeded",l=>{n(Gi(a.result),l.oldVersion,l.newVersion,Gi(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const O3=["get","getKey","getAll","getAllKeys","count"],C3=["put","add","delete","clear"],Zg=new Map;function BE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zg.get(e))return Zg.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=C3.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||O3.includes(r)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(s.shift())),(await Promise.all([u[r](...s),i&&l.done]))[0]};return Zg.set(e,o),o}T3(t=>({...t,get:(e,r,n)=>BE(e,r)||t.get(e,r,n),has:(e,r)=>!!BE(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(N3(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function N3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kv="@firebase/app",UE="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new E_("@firebase/app"),j3="@firebase/app-compat",R3="@firebase/analytics-compat",D3="@firebase/analytics",M3="@firebase/app-check-compat",$3="@firebase/app-check",L3="@firebase/auth",V3="@firebase/auth-compat",F3="@firebase/database",B3="@firebase/data-connect",U3="@firebase/database-compat",z3="@firebase/functions",W3="@firebase/functions-compat",H3="@firebase/installations",q3="@firebase/installations-compat",G3="@firebase/messaging",K3="@firebase/messaging-compat",X3="@firebase/performance",Y3="@firebase/performance-compat",Q3="@firebase/remote-config",J3="@firebase/remote-config-compat",Z3="@firebase/storage",eV="@firebase/storage-compat",tV="@firebase/firestore",rV="@firebase/ai",nV="@firebase/firestore-compat",iV="firebase",oV="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="[DEFAULT]",aV={[kv]:"fire-core",[j3]:"fire-core-compat",[D3]:"fire-analytics",[R3]:"fire-analytics-compat",[$3]:"fire-app-check",[M3]:"fire-app-check-compat",[L3]:"fire-auth",[V3]:"fire-auth-compat",[F3]:"fire-rtdb",[B3]:"fire-data-connect",[U3]:"fire-rtdb-compat",[z3]:"fire-fn",[W3]:"fire-fn-compat",[H3]:"fire-iid",[q3]:"fire-iid-compat",[G3]:"fire-fcm",[K3]:"fire-fcm-compat",[X3]:"fire-perf",[Y3]:"fire-perf-compat",[Q3]:"fire-rc",[J3]:"fire-rc-compat",[Z3]:"fire-gcs",[eV]:"fire-gcs-compat",[tV]:"fire-fst",[nV]:"fire-fst-compat",[rV]:"fire-vertex","fire-js":"fire-js",[iV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=new Map,sV=new Map,jv=new Map;function zE(t,e){try{t.container.addComponent(e)}catch(r){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Es(t){const e=t.name;if(jv.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;jv.set(e,t);for(const r of Qu.values())zE(r,t);for(const r of sV.values())zE(r,t);return!0}function T_(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function $r(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ki=new Yc("app","Firebase",lV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il=oV;function Rk(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Nv,automaticDataCollectionEnabled:!0},e),i=n.name;if(typeof i!="string"||!i)throw Ki.create("bad-app-name",{appName:String(i)});if(r||(r=Ik()),!r)throw Ki.create("no-options");const o=Qu.get(i);if(o){if(ta(r,o.options)&&ta(n,o.config))return o;throw Ki.create("duplicate-app",{appName:i})}const a=new m3(i);for(const l of jv.values())a.addComponent(l);const s=new uV(r,n,a);return Qu.set(i,s),s}function Dk(t=Nv){const e=Qu.get(t);if(!e&&t===Nv&&Ik())return Rk();if(!e)throw Ki.create("no-app",{appName:t});return e}function WE(){return Array.from(Qu.values())}function Xi(t,e,r){var n;let i=(n=aV[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${e}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(s.join(" "));return}Es(new ra(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV="firebase-heartbeat-database",fV=1,Ju="firebase-heartbeat-store";let ey=null;function Mk(){return ey||(ey=I3(cV,fV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ju)}catch(r){console.warn(r)}}}}).catch(t=>{throw Ki.create("idb-open",{originalErrorMessage:t.message})})),ey}async function dV(t){try{const r=(await Mk()).transaction(Ju),n=await r.objectStore(Ju).get($k(t));return await r.done,n}catch(e){if(e instanceof mi)ii.warn(e.message);else{const r=Ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ii.warn(r.message)}}}async function HE(t,e){try{const n=(await Mk()).transaction(Ju,"readwrite");await n.objectStore(Ju).put(e,$k(t)),await n.done}catch(r){if(r instanceof mi)ii.warn(r.message);else{const n=Ki.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ii.warn(n.message)}}}function $k(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=1024,pV=30;class mV{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new yV(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=qE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>pV){const a=vV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ii.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=qE(),{heartbeatsToSend:n,unsentEntries:i}=gV(this._heartbeatsCache.heartbeats),o=fh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(r){return ii.warn(r),""}}}function qE(){return new Date().toISOString().substring(0,10)}function gV(t,e=hV){const r=[];let n=t.slice();for(const i of t){const o=r.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),GE(r)>e){o.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),GE(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class yV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return n3()?i3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await dV(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return HE(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return HE(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function GE(t){return fh(JSON.stringify({version:2,heartbeats:t})).length}function vV(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(t){Es(new ra("platform-logger",e=>new k3(e),"PRIVATE")),Es(new ra("heartbeat",e=>new mV(e),"PRIVATE")),Xi(kv,UE,t),Xi(kv,UE,"esm2017"),Xi("fire-js","")}bV("");function A_(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Lk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _V=Lk,Vk=new Yc("auth","Firebase",Lk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new E_("@firebase/auth");function wV(t,...e){dh.logLevel<=we.WARN&&dh.warn(`Auth (${il}): ${t}`,...e)}function kd(t,...e){dh.logLevel<=we.ERROR&&dh.error(`Auth (${il}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t,...e){throw P_(t,...e)}function Sn(t,...e){return P_(t,...e)}function Fk(t,e,r){const n=Object.assign(Object.assign({},_V()),{[e]:r});return new Yc("auth","Firebase",n).create(e,{appName:t.name})}function Xn(t){return Fk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function P_(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return Vk.create(t,...e)}function ce(t,e,...r){if(!t)throw P_(e,...r)}function zn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kd(e),new Error(e)}function oi(t,e){t||zn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function xV(){return KE()==="http:"||KE()==="https:"}function KE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xV()||Z4()||"connection"in navigator)?navigator.onLine:!0}function SV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,r){this.shortDelay=e,this.longDelay=r,oi(r>e,"Short delay should be less than long delay!"),this.isMobile=Y4()||e3()}get(){return EV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(t,e){oi(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PV=new Jc(3e4,6e4);function ho(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function po(t,e,r,n,i={}){return Uk(t,i,async()=>{let o={},a={};n&&(e==="GET"?a=n:o={body:JSON.stringify(n)});const s=Qc(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return J4()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&nl(t.emulatorConfig.host)&&(u.credentials="include"),Bk.fetch()(await zk(t,t.config.apiHost,r,s),u)})}async function Uk(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},TV),e);try{const i=new OV(t),o=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Jf(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jf(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Jf(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Jf(t,"user-disabled",a);const c=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Fk(t,c,u);fn(t,c)}}catch(i){if(i instanceof mi)throw i;fn(t,"network-request-failed",{message:String(i)})}}async function Zc(t,e,r,n,i={}){const o=await po(t,e,r,n,i);return"mfaPendingCredential"in o&&fn(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function zk(t,e,r,n){const i=`${e}${r}?${n}`,o=t,a=o.config.emulator?I_(t.config,i):`${t.config.apiScheme}://${i}`;return AV.includes(r)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}function IV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Sn(this.auth,"network-request-failed")),PV.get())})}}function Jf(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Sn(t,e,n);return i.customData._tokenResponse=r,i}function XE(t){return t!==void 0&&t.enterprise!==void 0}class CV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return IV(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kV(t,e){return po(t,"GET","/v2/recaptchaConfig",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NV(t,e){return po(t,"POST","/v1/accounts:delete",e)}async function hh(t,e){return po(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jV(t,e=!1){const r=Pt(t),n=await r.getIdToken(e),i=O_(n);ce(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:n,authTime:Su(ty(i.auth_time)),issuedAtTime:Su(ty(i.iat)),expirationTime:Su(ty(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function ty(t){return Number(t)*1e3}function O_(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return kd("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ak(r);return i?JSON.parse(i):(kd("Failed to decode base64 JWT payload"),null)}catch(i){return kd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function YE(t){const e=O_(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof mi&&RV(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function RV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Su(this.lastLoginAt),this.creationTime=Su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Zu(t,hh(r,{idToken:n}));ce(i==null?void 0:i.users.length,r,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Wk(o.providerUserInfo):[],s=$V(t.providerData,a),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(s!=null&&s.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Dv(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function MV(t){const e=Pt(t);await ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $V(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function Wk(t){return t.map(e=>{var{providerId:r}=e,n=A_(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LV(t,e){const r=await Uk(t,{},async()=>{const n=Qc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=await zk(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:n};return t.emulatorConfig&&nl(t.emulatorConfig.host)&&(l.credentials="include"),Bk.fetch()(a,l)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function VV(t,e){return po(t,"POST","/v2/accounts:revokeToken",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){ce(e.length!==0,"internal-error");const r=YE(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:o}=await LV(e,r);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:o}=r,a=new as;return n&&(ce(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(ce(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(ce(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new as,this.toJSON())}_performRefresh(){return zn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class on{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,o=A_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new DV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Dv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const r=await Zu(this,this.stsTokenManager.getToken(this.auth,e));return ce(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return jV(this,e)}reload(){return MV(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new on(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await ph(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($r(this.auth.app))return Promise.reject(Xn(this.auth));const e=await this.getIdToken();return await Zu(this,NV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,o,a,s,l,u,c;const d=(n=r.displayName)!==null&&n!==void 0?n:void 0,h=(i=r.email)!==null&&i!==void 0?i:void 0,p=(o=r.phoneNumber)!==null&&o!==void 0?o:void 0,g=(a=r.photoURL)!==null&&a!==void 0?a:void 0,y=(s=r.tenantId)!==null&&s!==void 0?s:void 0,x=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=r.createdAt)!==null&&u!==void 0?u:void 0,b=(c=r.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:O,isAnonymous:T,providerData:P,stsTokenManager:E}=r;ce(w&&E,e,"internal-error");const S=as.fromJSON(this.name,E);ce(typeof w=="string",e,"internal-error"),Si(d,e.name),Si(h,e.name),ce(typeof O=="boolean",e,"internal-error"),ce(typeof T=="boolean",e,"internal-error"),Si(p,e.name),Si(g,e.name),Si(y,e.name),Si(x,e.name),Si(_,e.name),Si(b,e.name);const I=new on({uid:w,auth:e,email:h,emailVerified:O,displayName:d,isAnonymous:T,photoURL:g,phoneNumber:p,tenantId:y,stsTokenManager:S,createdAt:_,lastLoginAt:b});return P&&Array.isArray(P)&&(I.providerData=P.map(N=>Object.assign({},N))),x&&(I._redirectEventId=x),I}static async _fromIdTokenResponse(e,r,n=!1){const i=new as;i.updateFromServerResponse(r);const o=new on({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await ph(o),o}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];ce(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Wk(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new as;s.updateFromIdToken(n);const l=new on({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Dv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=new Map;function Wn(t){oi(t instanceof Function,"Expected a class definition");let e=QE.get(t);return e?(oi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,QE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Hk.type="NONE";const JE=Hk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(t,e,r){return`firebase:${t}:${e}:${r}`}class ss{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:o}=this.auth;this.fullUserKey=Nd(this.userKey,i.apiKey,o),this.fullPersistenceKey=Nd("persistence",i.apiKey,o),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await hh(this.auth,{idToken:e}).catch(()=>{});return r?on._fromGetAccountInfoResponse(this.auth,r,e):null}return on._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new ss(Wn(JE),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Wn(JE);const a=Nd(n,e.config.apiKey,e.name);let s=null;for(const u of r)try{const c=await u._get(a);if(c){let d;if(typeof c=="string"){const h=await hh(e,{idToken:c}).catch(()=>{});if(!h)break;d=await on._fromGetAccountInfoResponse(e,h,c)}else d=on._fromJSON(e,c);u!==o&&(s=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new ss(o,e,n):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(r.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new ss(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Xk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Qk(e))return"Blackberry";if(Jk(e))return"Webos";if(Gk(e))return"Safari";if((e.includes("chrome/")||Kk(e))&&!e.includes("edge/"))return"Chrome";if(Yk(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function qk(t=Jt()){return/firefox\//i.test(t)}function Gk(t=Jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Kk(t=Jt()){return/crios\//i.test(t)}function Xk(t=Jt()){return/iemobile/i.test(t)}function Yk(t=Jt()){return/android/i.test(t)}function Qk(t=Jt()){return/blackberry/i.test(t)}function Jk(t=Jt()){return/webos/i.test(t)}function C_(t=Jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function FV(t=Jt()){var e;return C_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function BV(){return t3()&&document.documentMode===10}function Zk(t=Jt()){return C_(t)||Yk(t)||Jk(t)||Qk(t)||/windows phone/i.test(t)||Xk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(t,e=[]){let r;switch(t){case"Browser":r=ZE(Jt());break;case"Worker":r=`${ZE(Jt())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${il}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zV(t,e={}){return po(t,"GET","/v2/passwordPolicy",ho(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=6;class HV{constructor(e){var r,n,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=a.minPasswordLength)!==null&&r!==void 0?r:WV,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,o,a,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eS(this),this.idTokenSubscription=new eS(this),this.beforeStateQueue=new UV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Wn(r)),this._initializationPromise=this.queue(async()=>{var n,i,o;if(!this._deleted&&(this.persistenceManager=await ss.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await hh(this,{idToken:e}),n=await on._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if($r(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await ph(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($r(this.app))return Promise.reject(Xn(this));const r=e?Pt(e):null;return r&&ce(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $r(this.app)?Promise.reject(Xn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $r(this.app)?Promise.reject(Xn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zV(this),r=new HV(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yc("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await VV(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Wn(e)||this._popupRedirectResolver;ce(r,this,"argument-error"),this.redirectPersistenceManager=await ss.create(this,[Wn(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const o=typeof r=="function"?r:r.next.bind(r);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{a=!0,l()}}else{const l=e.addObserver(r);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=e2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;if($r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&wV(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function ga(t){return Pt(t)}class eS{constructor(e){this.auth=e,this.observer=null,this.addObserver=u3(r=>this.observer=r)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GV(t){Yp=t}function t2(t){return Yp.loadJS(t)}function KV(){return Yp.recaptchaEnterpriseScript}function XV(){return Yp.gapiScript}function YV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class QV{constructor(){this.enterprise=new JV}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class JV{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const ZV="recaptcha-enterprise",r2="NO_RECAPTCHA";class e6{constructor(e){this.type=ZV,this.auth=ga(e)}async verify(e="verify",r=!1){async function n(o){if(!r){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,s)=>{kV(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new CV(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,a(u.siteKey)}}).catch(l=>{s(l)})})}function i(o,a,s){const l=window.grecaptcha;XE(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{a(u)}).catch(()=>{a(r2)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new QV().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{n(this.auth).then(s=>{if(!r&&XE(window.grecaptcha))i(s,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=KV();l.length!==0&&(l+=s),t2(l).then(()=>{i(s,o,a)}).catch(u=>{a(u)})}}).catch(s=>{a(s)})})}}async function tS(t,e,r,n=!1,i=!1){const o=new e6(t);let a;if(i)a=r2;else try{a=await o.verify(r)}catch{a=await o.verify(r,!0)}const s=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){const l=s.phoneEnrollmentInfo.phoneNumber,u=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const l=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return n?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Mv(t,e,r,n,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await tS(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await tS(t,e,r,r==="getOobCode");return n(t,s)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(t,e){const r=T_(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),o=r.getOptions();if(ta(o,e??{}))return i;fn(i,"already-initialized")}return r.initialize({options:e})}function r6(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Wn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function n6(t,e,r){const n=ga(t);ce(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,o=n2(e),{host:a,port:s}=i6(e),l=s===null?"":`:${s}`,u={url:`${o}//${a}${l}/`},c=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){ce(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),ce(ta(u,n.config.emulator)&&ta(c,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=c,n.settings.appVerificationDisabledForTesting=!0,nl(a)?(Ck(`${o}//${a}${l}`),kk("Auth",!0)):o6()}function n2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function i6(t){const e=n2(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const o=i[1];return{host:o,port:rS(n.substr(o.length+1))}}else{const[o,a]=n.split(":");return{host:o,port:rS(a)}}}function rS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function o6(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return zn("not implemented")}_getIdTokenResponse(e){return zn("not implemented")}_linkToIdToken(e,r){return zn("not implemented")}_getReauthenticationResolver(e){return zn("not implemented")}}async function a6(t,e){return po(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s6(t,e){return Zc(t,"POST","/v1/accounts:signInWithPassword",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l6(t,e){return Zc(t,"POST","/v1/accounts:signInWithEmailLink",ho(t,e))}async function u6(t,e){return Zc(t,"POST","/v1/accounts:signInWithEmailLink",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec extends k_{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new ec(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new ec(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mv(e,r,"signInWithPassword",s6);case"emailLink":return l6(e,{email:this._email,oobCode:this._password});default:fn(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mv(e,n,"signUpPassword",a6);case"emailLink":return u6(e,{idToken:r,email:this._email,oobCode:this._password});default:fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ls(t,e){return Zc(t,"POST","/v1/accounts:signInWithIdp",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6="http://localhost";class na extends k_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):fn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,o=A_(r,["providerId","signInMethod"]);if(!n||!i)return null;const a=new na(n,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return ls(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,ls(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,ls(e,r)}buildRequest(){const e={requestUri:c6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Qc(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function d6(t){const e=su(lu(t)).link,r=e?su(lu(e)).deep_link_id:null,n=su(lu(t)).deep_link_id;return(n?su(lu(n)).link:null)||n||r||e||t}class N_{constructor(e){var r,n,i,o,a,s;const l=su(lu(e)),u=(r=l.apiKey)!==null&&r!==void 0?r:null,c=(n=l.oobCode)!==null&&n!==void 0?n:null,d=f6((i=l.mode)!==null&&i!==void 0?i:null);ce(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=l.lang)!==null&&a!==void 0?a:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const r=d6(e);try{return new N_(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(){this.providerId=ol.PROVIDER_ID}static credential(e,r){return ec._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=N_.parseLink(r);return ce(n,"argument-error"),ec._fromEmailAndCode(e,n.code,n.tenantId)}}ol.PROVIDER_ID="password";ol.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ol.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef extends i2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends ef{constructor(){super("facebook.com")}static credential(e){return na._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends ef{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return na._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return ki.credential(r,n)}catch{return null}}}ki.GOOGLE_SIGN_IN_METHOD="google.com";ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends ef{constructor(){super("github.com")}static credential(e){return na._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.GITHUB_SIGN_IN_METHOD="github.com";Ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends ef{constructor(){super("twitter.com")}static credential(e,r){return na._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return ji.credential(r,n)}catch{return null}}}ji.TWITTER_SIGN_IN_METHOD="twitter.com";ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h6(t,e){return Zc(t,"POST","/v1/accounts:signUp",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const o=await on._fromIdTokenResponse(e,n,i),a=nS(n);return new ia({user:o,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=nS(n);return new ia({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function nS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends mi{constructor(e,r,n,i){var o;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new mh(e,r,n,i)}}function o2(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(t,o,e,n):o})}async function p6(t,e,r=!1){const n=await Zu(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return ia._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m6(t,e,r=!1){const{auth:n}=t;if($r(n.app))return Promise.reject(Xn(n));const i="reauthenticate";try{const o=await Zu(t,o2(n,i,e,t),r);ce(o.idToken,n,"internal-error");const a=O_(o.idToken);ce(a,n,"internal-error");const{sub:s}=a;return ce(t.uid===s,n,"user-mismatch"),ia._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&fn(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(t,e,r=!1){if($r(t.app))return Promise.reject(Xn(t));const n="signIn",i=await o2(t,n,e),o=await ia._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(o.user),o}async function g6(t,e){return a2(ga(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s2(t){const e=ga(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function y6(t,e,r){if($r(t.app))return Promise.reject(Xn(t));const n=ga(t),a=await Mv(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",h6).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&s2(t),l}),s=await ia._fromIdTokenResponse(n,"signIn",a);return await n._updateCurrentUser(s.user),s}function v6(t,e,r){return $r(t.app)?Promise.reject(Xn(t)):g6(Pt(t),ol.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&s2(t),n})}function b6(t,e,r,n){return Pt(t).onIdTokenChanged(e,r,n)}function _6(t,e,r){return Pt(t).beforeAuthStateChanged(e,r)}function w6(t,e,r,n){return Pt(t).onAuthStateChanged(e,r,n)}function x6(t){return Pt(t).signOut()}const gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6=1e3,S6=10;class u2 extends l2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},o=this.storage.getItem(n);BV()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,S6):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},E6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}u2.type="LOCAL";const T6=u2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2 extends l2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}c2.type="SESSION";const f2=c2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Qp(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:o}=r.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(a).map(async u=>u(r.origin,o)),l=await A6(s);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=j_("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return window}function I6(t){Tn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(){return typeof Tn().WorkerGlobalScope<"u"&&typeof Tn().importScripts=="function"}async function O6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function C6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function k6(){return d2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="firebaseLocalStorageDb",N6=1,yh="firebaseLocalStorage",p2="fbase_key";class tf{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Jp(t,e){return t.transaction([yh],e?"readwrite":"readonly").objectStore(yh)}function j6(){const t=indexedDB.deleteDatabase(h2);return new tf(t).toPromise()}function $v(){const t=indexedDB.open(h2,N6);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(yh,{keyPath:p2})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(yh)?e(n):(n.close(),await j6(),e(await $v()))})})}async function iS(t,e,r){const n=Jp(t,!0).put({[p2]:e,value:r});return new tf(n).toPromise()}async function R6(t,e){const r=Jp(t,!1).get(e),n=await new tf(r).toPromise();return n===void 0?null:n.value}function oS(t,e){const r=Jp(t,!0).delete(e);return new tf(r).toPromise()}const D6=800,M6=3;class m2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $v(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>M6)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return d2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qp._getInstance(k6()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await O6(),!this.activeServiceWorker)return;this.sender=new P6(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||C6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $v();return await iS(e,gh,"1"),await oS(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>iS(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>R6(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>oS(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Jp(i,!1).getAll();return new tf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),D6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}m2.type="LOCAL";const $6=m2;new Jc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(t,e){return e?Wn(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_ extends k_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ls(e,this._buildIdpRequest())}_linkToIdToken(e,r){return ls(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return ls(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function V6(t){return a2(t.auth,new R_(t),t.bypassAuthState)}function F6(t){const{auth:e,user:r}=t;return ce(r,e,"internal-error"),m6(r,new R_(t),t.bypassAuthState)}async function B6(t){const{auth:e,user:r}=t;return ce(r,e,"internal-error"),p6(r,new R_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,r,n,i,o=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return V6;case"linkViaPopup":case"linkViaRedirect":return B6;case"reauthViaPopup":case"reauthViaRedirect":return F6;default:fn(this.auth,"internal-error")}}resolve(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6=new Jc(2e3,1e4);class Ya extends g2{constructor(e,r,n,i,o){super(e,r,i,o),this.provider=n,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){oi(this.filter.length===1,"Popup operations only handle one event");const e=j_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Sn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,U6.get())};e()}}Ya.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6="pendingRedirect",jd=new Map;class W6 extends g2{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=jd.get(this.auth._key());if(!e){try{const n=await H6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}jd.set(this.auth._key(),e)}return this.bypassAuthState||jd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function H6(t,e){const r=K6(e),n=G6(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function q6(t,e){jd.set(t._key(),e)}function G6(t){return Wn(t._redirectPersistence)}function K6(t){return Nd(z6,t.config.apiKey,t.name)}async function X6(t,e,r=!1){if($r(t.app))return Promise.reject(Xn(t));const n=ga(t),i=L6(n,e),a=await new W6(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=10*60*1e3;class Q6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!J6(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!y2(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Sn(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Y6&&this.cachedEventUids.clear(),this.cachedEventUids.has(aS(e))}saveEventToCache(e){this.cachedEventUids.add(aS(e)),this.lastProcessedEventTime=Date.now()}}function aS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function y2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function J6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return y2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z6(t,e={}){return po(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tF=/^https?/;async function rF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Z6(t);for(const r of e)try{if(nF(r))return}catch{}fn(t,"unauthorized-domain")}function nF(t){const e=Rv(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!tF.test(r))return!1;if(eF.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF=new Jc(3e4,6e4);function sS(){const t=Tn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function oF(t){return new Promise((e,r)=>{var n,i,o;function a(){sS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sS(),r(Sn(t,"network-request-failed"))},timeout:iF.get()})}if(!((i=(n=Tn().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Tn().gapi)===null||o===void 0)&&o.load)a();else{const s=YV("iframefcb");return Tn()[s]=()=>{gapi.load?a():r(Sn(t,"network-request-failed"))},t2(`${XV()}?onload=${s}`).catch(l=>r(l))}}).catch(e=>{throw Rd=null,e})}let Rd=null;function aF(t){return Rd=Rd||oF(t),Rd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF=new Jc(5e3,15e3),lF="__/auth/iframe",uF="emulator/auth/iframe",cF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dF(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?I_(e,uF):`https://${t.config.authDomain}/${lF}`,n={apiKey:e.apiKey,appName:t.name,v:il},i=fF.get(t.config.apiHost);i&&(n.eid=i);const o=t._getFrameworks();return o.length&&(n.fw=o.join(",")),`${r}?${Qc(n).slice(1)}`}async function hF(t){const e=await aF(t),r=Tn().gapi;return ce(r,t,"internal-error"),e.open({where:document.body,url:dF(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cF,dontclear:!0},n=>new Promise(async(i,o)=>{await n.restyle({setHideOnLeave:!1});const a=Sn(t,"network-request-failed"),s=Tn().setTimeout(()=>{o(a)},sF.get());function l(){Tn().clearTimeout(s),i(n)}n.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mF=500,gF=600,yF="_blank",vF="http://localhost";class lS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bF(t,e,r,n=mF,i=gF){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let s="";const l=Object.assign(Object.assign({},pF),{width:n.toString(),height:i.toString(),top:o,left:a}),u=Jt().toLowerCase();r&&(s=Kk(u)?yF:r),qk(u)&&(e=e||vF,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(FV(u)&&s!=="_self")return _F(e||"",s),new lS(null);const d=window.open(e||"",s,c);ce(d,t,"popup-blocked");try{d.focus()}catch{}return new lS(d)}function _F(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF="__/auth/handler",xF="emulator/auth/handler",EF=encodeURIComponent("fac");async function uS(t,e,r,n,i,o){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:il,eventId:i};if(e instanceof i2){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",l3(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))a[c]=d}if(e instanceof ef){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${EF}=${encodeURIComponent(l)}`:"";return`${SF(t)}?${Qc(s).slice(1)}${u}`}function SF({config:t}){return t.emulator?I_(t,xF):`https://${t.authDomain}/${wF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="webStorageSupport";class TF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f2,this._completeRedirectFn=X6,this._overrideRedirectResult=q6}async _openPopup(e,r,n,i){var o;oi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await uS(e,r,n,Rv(),i);return bF(e,a,j_())}async _openRedirect(e,r,n,i){await this._originValidation(e);const o=await uS(e,r,n,Rv(),i);return I6(o),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:o}=this.eventManagers[r];return i?Promise.resolve(i):(oi(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await hF(e),n=new Q6(e);return r.register("authEvent",i=>(ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(ry,{type:ry},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[ry];a!==void 0&&r(!!a),fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=rF(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return Zk()||Gk()||C_()}}const AF=TF;var cS="@firebase/auth",fS="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OF(t){Es(new ra("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=n.options;ce(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:e2(t)},u=new qV(n,i,o,l);return r6(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Es(new ra("auth-internal",e=>{const r=ga(e.getProvider("auth").getImmediate());return(n=>new PF(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xi(cS,fS,IF(t)),Xi(cS,fS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF=5*60,kF=Ok("authIdTokenMaxAge")||CF;let dS=null;const NF=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>kF)return;const i=r==null?void 0:r.token;dS!==i&&(dS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function jF(t=Dk()){const e=T_(t,"auth");if(e.isInitialized())return e.getImmediate();const r=t6(t,{popupRedirectResolver:AF,persistence:[$6,T6,f2]}),n=Ok("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const a=NF(o.toString());_6(r,a,()=>a(r.currentUser)),b6(r,s=>a(s))}}const i=Pk("auth");return i&&n6(r,`http://${i}`),r}function RF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}GV({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const o=Sn("internal-error");o.customData=i,r(o)},n.type="text/javascript",n.charset="UTF-8",RF().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OF("Browser");var DF="firebase",MF="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xi(DF,MF,"app");var hS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yi,v2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,S){function I(){}I.prototype=S.prototype,E.D=S.prototype,E.prototype=new I,E.prototype.constructor=E,E.C=function(N,C,j){for(var k=Array(arguments.length-2),W=2;W<arguments.length;W++)k[W-2]=arguments[W];return S.prototype[C].apply(N,k)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,S,I){I||(I=0);var N=Array(16);if(typeof S=="string")for(var C=0;16>C;++C)N[C]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(C=0;16>C;++C)N[C]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=E.g[0],I=E.g[1],C=E.g[2];var j=E.g[3],k=S+(j^I&(C^j))+N[0]+3614090360&4294967295;S=I+(k<<7&4294967295|k>>>25),k=j+(C^S&(I^C))+N[1]+3905402710&4294967295,j=S+(k<<12&4294967295|k>>>20),k=C+(I^j&(S^I))+N[2]+606105819&4294967295,C=j+(k<<17&4294967295|k>>>15),k=I+(S^C&(j^S))+N[3]+3250441966&4294967295,I=C+(k<<22&4294967295|k>>>10),k=S+(j^I&(C^j))+N[4]+4118548399&4294967295,S=I+(k<<7&4294967295|k>>>25),k=j+(C^S&(I^C))+N[5]+1200080426&4294967295,j=S+(k<<12&4294967295|k>>>20),k=C+(I^j&(S^I))+N[6]+2821735955&4294967295,C=j+(k<<17&4294967295|k>>>15),k=I+(S^C&(j^S))+N[7]+4249261313&4294967295,I=C+(k<<22&4294967295|k>>>10),k=S+(j^I&(C^j))+N[8]+1770035416&4294967295,S=I+(k<<7&4294967295|k>>>25),k=j+(C^S&(I^C))+N[9]+2336552879&4294967295,j=S+(k<<12&4294967295|k>>>20),k=C+(I^j&(S^I))+N[10]+4294925233&4294967295,C=j+(k<<17&4294967295|k>>>15),k=I+(S^C&(j^S))+N[11]+2304563134&4294967295,I=C+(k<<22&4294967295|k>>>10),k=S+(j^I&(C^j))+N[12]+1804603682&4294967295,S=I+(k<<7&4294967295|k>>>25),k=j+(C^S&(I^C))+N[13]+4254626195&4294967295,j=S+(k<<12&4294967295|k>>>20),k=C+(I^j&(S^I))+N[14]+2792965006&4294967295,C=j+(k<<17&4294967295|k>>>15),k=I+(S^C&(j^S))+N[15]+1236535329&4294967295,I=C+(k<<22&4294967295|k>>>10),k=S+(C^j&(I^C))+N[1]+4129170786&4294967295,S=I+(k<<5&4294967295|k>>>27),k=j+(I^C&(S^I))+N[6]+3225465664&4294967295,j=S+(k<<9&4294967295|k>>>23),k=C+(S^I&(j^S))+N[11]+643717713&4294967295,C=j+(k<<14&4294967295|k>>>18),k=I+(j^S&(C^j))+N[0]+3921069994&4294967295,I=C+(k<<20&4294967295|k>>>12),k=S+(C^j&(I^C))+N[5]+3593408605&4294967295,S=I+(k<<5&4294967295|k>>>27),k=j+(I^C&(S^I))+N[10]+38016083&4294967295,j=S+(k<<9&4294967295|k>>>23),k=C+(S^I&(j^S))+N[15]+3634488961&4294967295,C=j+(k<<14&4294967295|k>>>18),k=I+(j^S&(C^j))+N[4]+3889429448&4294967295,I=C+(k<<20&4294967295|k>>>12),k=S+(C^j&(I^C))+N[9]+568446438&4294967295,S=I+(k<<5&4294967295|k>>>27),k=j+(I^C&(S^I))+N[14]+3275163606&4294967295,j=S+(k<<9&4294967295|k>>>23),k=C+(S^I&(j^S))+N[3]+4107603335&4294967295,C=j+(k<<14&4294967295|k>>>18),k=I+(j^S&(C^j))+N[8]+1163531501&4294967295,I=C+(k<<20&4294967295|k>>>12),k=S+(C^j&(I^C))+N[13]+2850285829&4294967295,S=I+(k<<5&4294967295|k>>>27),k=j+(I^C&(S^I))+N[2]+4243563512&4294967295,j=S+(k<<9&4294967295|k>>>23),k=C+(S^I&(j^S))+N[7]+1735328473&4294967295,C=j+(k<<14&4294967295|k>>>18),k=I+(j^S&(C^j))+N[12]+2368359562&4294967295,I=C+(k<<20&4294967295|k>>>12),k=S+(I^C^j)+N[5]+4294588738&4294967295,S=I+(k<<4&4294967295|k>>>28),k=j+(S^I^C)+N[8]+2272392833&4294967295,j=S+(k<<11&4294967295|k>>>21),k=C+(j^S^I)+N[11]+1839030562&4294967295,C=j+(k<<16&4294967295|k>>>16),k=I+(C^j^S)+N[14]+4259657740&4294967295,I=C+(k<<23&4294967295|k>>>9),k=S+(I^C^j)+N[1]+2763975236&4294967295,S=I+(k<<4&4294967295|k>>>28),k=j+(S^I^C)+N[4]+1272893353&4294967295,j=S+(k<<11&4294967295|k>>>21),k=C+(j^S^I)+N[7]+4139469664&4294967295,C=j+(k<<16&4294967295|k>>>16),k=I+(C^j^S)+N[10]+3200236656&4294967295,I=C+(k<<23&4294967295|k>>>9),k=S+(I^C^j)+N[13]+681279174&4294967295,S=I+(k<<4&4294967295|k>>>28),k=j+(S^I^C)+N[0]+3936430074&4294967295,j=S+(k<<11&4294967295|k>>>21),k=C+(j^S^I)+N[3]+3572445317&4294967295,C=j+(k<<16&4294967295|k>>>16),k=I+(C^j^S)+N[6]+76029189&4294967295,I=C+(k<<23&4294967295|k>>>9),k=S+(I^C^j)+N[9]+3654602809&4294967295,S=I+(k<<4&4294967295|k>>>28),k=j+(S^I^C)+N[12]+3873151461&4294967295,j=S+(k<<11&4294967295|k>>>21),k=C+(j^S^I)+N[15]+530742520&4294967295,C=j+(k<<16&4294967295|k>>>16),k=I+(C^j^S)+N[2]+3299628645&4294967295,I=C+(k<<23&4294967295|k>>>9),k=S+(C^(I|~j))+N[0]+4096336452&4294967295,S=I+(k<<6&4294967295|k>>>26),k=j+(I^(S|~C))+N[7]+1126891415&4294967295,j=S+(k<<10&4294967295|k>>>22),k=C+(S^(j|~I))+N[14]+2878612391&4294967295,C=j+(k<<15&4294967295|k>>>17),k=I+(j^(C|~S))+N[5]+4237533241&4294967295,I=C+(k<<21&4294967295|k>>>11),k=S+(C^(I|~j))+N[12]+1700485571&4294967295,S=I+(k<<6&4294967295|k>>>26),k=j+(I^(S|~C))+N[3]+2399980690&4294967295,j=S+(k<<10&4294967295|k>>>22),k=C+(S^(j|~I))+N[10]+4293915773&4294967295,C=j+(k<<15&4294967295|k>>>17),k=I+(j^(C|~S))+N[1]+2240044497&4294967295,I=C+(k<<21&4294967295|k>>>11),k=S+(C^(I|~j))+N[8]+1873313359&4294967295,S=I+(k<<6&4294967295|k>>>26),k=j+(I^(S|~C))+N[15]+4264355552&4294967295,j=S+(k<<10&4294967295|k>>>22),k=C+(S^(j|~I))+N[6]+2734768916&4294967295,C=j+(k<<15&4294967295|k>>>17),k=I+(j^(C|~S))+N[13]+1309151649&4294967295,I=C+(k<<21&4294967295|k>>>11),k=S+(C^(I|~j))+N[4]+4149444226&4294967295,S=I+(k<<6&4294967295|k>>>26),k=j+(I^(S|~C))+N[11]+3174756917&4294967295,j=S+(k<<10&4294967295|k>>>22),k=C+(S^(j|~I))+N[2]+718787259&4294967295,C=j+(k<<15&4294967295|k>>>17),k=I+(j^(C|~S))+N[9]+3951481745&4294967295,E.g[0]=E.g[0]+S&4294967295,E.g[1]=E.g[1]+(C+(k<<21&4294967295|k>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+j&4294967295}n.prototype.u=function(E,S){S===void 0&&(S=E.length);for(var I=S-this.blockSize,N=this.B,C=this.h,j=0;j<S;){if(C==0)for(;j<=I;)i(this,E,j),j+=this.blockSize;if(typeof E=="string"){for(;j<S;)if(N[C++]=E.charCodeAt(j++),C==this.blockSize){i(this,N),C=0;break}}else for(;j<S;)if(N[C++]=E[j++],C==this.blockSize){i(this,N),C=0;break}}this.h=C,this.o+=S},n.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var S=1;S<E.length-8;++S)E[S]=0;var I=8*this.o;for(S=E.length-8;S<E.length;++S)E[S]=I&255,I/=256;for(this.u(E),E=Array(16),S=I=0;4>S;++S)for(var N=0;32>N;N+=8)E[I++]=this.g[S]>>>N&255;return E};function o(E,S){var I=s;return Object.prototype.hasOwnProperty.call(I,E)?I[E]:I[E]=S(E)}function a(E,S){this.h=S;for(var I=[],N=!0,C=E.length-1;0<=C;C--){var j=E[C]|0;N&&j==S||(I[C]=j,N=!1)}this.g=I}var s={};function l(E){return-128<=E&&128>E?o(E,function(S){return new a([S|0],0>S?-1:0)}):new a([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return d;if(0>E)return x(u(-E));for(var S=[],I=1,N=0;E>=I;N++)S[N]=E/I|0,I*=4294967296;return new a(S,0)}function c(E,S){if(E.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(E.charAt(0)=="-")return x(c(E.substring(1),S));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(S,8)),N=d,C=0;C<E.length;C+=8){var j=Math.min(8,E.length-C),k=parseInt(E.substring(C,C+j),S);8>j?(j=u(Math.pow(S,j)),N=N.j(j).add(u(k))):(N=N.j(I),N=N.add(u(k)))}return N}var d=l(0),h=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(y(this))return-x(this).m();for(var E=0,S=1,I=0;I<this.g.length;I++){var N=this.i(I);E+=(0<=N?N:4294967296+N)*S,S*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(g(this))return"0";if(y(this))return"-"+x(this).toString(E);for(var S=u(Math.pow(E,6)),I=this,N="";;){var C=O(I,S).g;I=_(I,C.j(S));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(E);if(I=C,g(I))return j+N;for(;6>j.length;)j="0"+j;N=j+N}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function g(E){if(E.h!=0)return!1;for(var S=0;S<E.g.length;S++)if(E.g[S]!=0)return!1;return!0}function y(E){return E.h==-1}t.l=function(E){return E=_(this,E),y(E)?-1:g(E)?0:1};function x(E){for(var S=E.g.length,I=[],N=0;N<S;N++)I[N]=~E.g[N];return new a(I,~E.h).add(h)}t.abs=function(){return y(this)?x(this):this},t.add=function(E){for(var S=Math.max(this.g.length,E.g.length),I=[],N=0,C=0;C<=S;C++){var j=N+(this.i(C)&65535)+(E.i(C)&65535),k=(j>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);N=k>>>16,j&=65535,k&=65535,I[C]=k<<16|j}return new a(I,I[I.length-1]&-2147483648?-1:0)};function _(E,S){return E.add(x(S))}t.j=function(E){if(g(this)||g(E))return d;if(y(this))return y(E)?x(this).j(x(E)):x(x(this).j(E));if(y(E))return x(this.j(x(E)));if(0>this.l(p)&&0>E.l(p))return u(this.m()*E.m());for(var S=this.g.length+E.g.length,I=[],N=0;N<2*S;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(var C=0;C<E.g.length;C++){var j=this.i(N)>>>16,k=this.i(N)&65535,W=E.i(C)>>>16,H=E.i(C)&65535;I[2*N+2*C]+=k*H,b(I,2*N+2*C),I[2*N+2*C+1]+=j*H,b(I,2*N+2*C+1),I[2*N+2*C+1]+=k*W,b(I,2*N+2*C+1),I[2*N+2*C+2]+=j*W,b(I,2*N+2*C+2)}for(N=0;N<S;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=S;N<2*S;N++)I[N]=0;return new a(I,0)};function b(E,S){for(;(E[S]&65535)!=E[S];)E[S+1]+=E[S]>>>16,E[S]&=65535,S++}function w(E,S){this.g=E,this.h=S}function O(E,S){if(g(S))throw Error("division by zero");if(g(E))return new w(d,d);if(y(E))return S=O(x(E),S),new w(x(S.g),x(S.h));if(y(S))return S=O(E,x(S)),new w(x(S.g),S.h);if(30<E.g.length){if(y(E)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var I=h,N=S;0>=N.l(E);)I=T(I),N=T(N);var C=P(I,1),j=P(N,1);for(N=P(N,2),I=P(I,2);!g(N);){var k=j.add(N);0>=k.l(E)&&(C=C.add(I),j=k),N=P(N,1),I=P(I,1)}return S=_(E,C.j(S)),new w(C,S)}for(C=d;0<=E.l(S);){for(I=Math.max(1,Math.floor(E.m()/S.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),j=u(I),k=j.j(S);y(k)||0<k.l(E);)I-=N,j=u(I),k=j.j(S);g(j)&&(j=h),C=C.add(j),E=_(E,k)}return new w(C,E)}t.A=function(E){return O(this,E).h},t.and=function(E){for(var S=Math.max(this.g.length,E.g.length),I=[],N=0;N<S;N++)I[N]=this.i(N)&E.i(N);return new a(I,this.h&E.h)},t.or=function(E){for(var S=Math.max(this.g.length,E.g.length),I=[],N=0;N<S;N++)I[N]=this.i(N)|E.i(N);return new a(I,this.h|E.h)},t.xor=function(E){for(var S=Math.max(this.g.length,E.g.length),I=[],N=0;N<S;N++)I[N]=this.i(N)^E.i(N);return new a(I,this.h^E.h)};function T(E){for(var S=E.g.length+1,I=[],N=0;N<S;N++)I[N]=E.i(N)<<1|E.i(N-1)>>>31;return new a(I,E.h)}function P(E,S){var I=S>>5;S%=32;for(var N=E.g.length-I,C=[],j=0;j<N;j++)C[j]=0<S?E.i(j+I)>>>S|E.i(j+I+1)<<32-S:E.i(j+I);return new a(C,E.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,v2=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,Yi=a}).apply(typeof hS<"u"?hS:typeof self<"u"?self:typeof window<"u"?window:{});var Zf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var b2,uu,_2,Dd,Lv,w2,x2,E2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,A){return f==Array.prototype||f==Object.prototype||(f[v]=A.value),f};function r(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zf=="object"&&Zf];for(var v=0;v<f.length;++v){var A=f[v];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var n=r(this);function i(f,v){if(v)e:{var A=n;f=f.split(".");for(var R=0;R<f.length-1;R++){var B=f[R];if(!(B in A))break e;A=A[B]}f=f[f.length-1],R=A[f],v=v(R),v!=R&&v!=null&&e(A,f,{configurable:!0,writable:!0,value:v})}}function o(f,v){f instanceof String&&(f+="");var A=0,R=!1,B={next:function(){if(!R&&A<f.length){var q=A++;return{value:v(q,f[q]),done:!1}}return R=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}i("Array.prototype.values",function(f){return f||function(){return o(this,function(v,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function u(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function c(f,v,A){return f.call.apply(f.bind,arguments)}function d(f,v,A){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,R),f.apply(v,B)}}return function(){return f.apply(v,arguments)}}function h(f,v,A){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function p(f,v){var A=Array.prototype.slice.call(arguments,1);return function(){var R=A.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function g(f,v){function A(){}A.prototype=v.prototype,f.aa=v.prototype,f.prototype=new A,f.prototype.constructor=f,f.Qb=function(R,B,q){for(var ee=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ee[Me-2]=arguments[Me];return v.prototype[B].apply(R,ee)}}function y(f){const v=f.length;if(0<v){const A=Array(v);for(let R=0;R<v;R++)A[R]=f[R];return A}return[]}function x(f,v){for(let A=1;A<arguments.length;A++){const R=arguments[A];if(l(R)){const B=f.length||0,q=R.length||0;f.length=B+q;for(let ee=0;ee<q;ee++)f[B+ee]=R[ee]}else f.push(R)}}class _{constructor(v,A){this.i=v,this.j=A,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function b(f){return/^[\s\xa0]*$/.test(f)}function w(){var f=s.navigator;return f&&(f=f.userAgent)?f:""}function O(f){return O[" "](f),f}O[" "]=function(){};var T=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function P(f,v,A){for(const R in f)v.call(A,f[R],R,f)}function E(f,v){for(const A in f)v.call(void 0,f[A],A,f)}function S(f){const v={};for(const A in f)v[A]=f[A];return v}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(f,v){let A,R;for(let B=1;B<arguments.length;B++){R=arguments[B];for(A in R)f[A]=R[A];for(let q=0;q<I.length;q++)A=I[q],Object.prototype.hasOwnProperty.call(R,A)&&(f[A]=R[A])}}function C(f){var v=1;f=f.split(":");const A=[];for(;0<v&&f.length;)A.push(f.shift()),v--;return f.length&&A.push(f.join(":")),A}function j(f){s.setTimeout(()=>{throw f},0)}function k(){var f=V;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class W{constructor(){this.h=this.g=null}add(v,A){const R=H.get();R.set(v,A),this.h?this.h.next=R:this.g=R,this.h=R}}var H=new _(()=>new $,f=>f.reset());class ${constructor(){this.next=this.g=this.h=null}set(v,A){this.h=v,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let F,M=!1,V=new W,K=()=>{const f=s.Promise.resolve(void 0);F=()=>{f.then(D)}};var D=()=>{for(var f;f=k();){try{f.h.call(f.g)}catch(A){j(A)}var v=H;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}M=!1};function z(){this.s=this.s,this.C=this.C}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const A=()=>{};s.addEventListener("test",A,v),s.removeEventListener("test",A,v)}catch{}return f}();function ve(f,v){if(Q.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var A=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(T){e:{try{O(v.nodeName);var B=!0;break e}catch{}B=!1}B||(v=null)}}else A=="mouseover"?v=f.fromElement:A=="mouseout"&&(v=f.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Se[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ve.aa.h.call(this)}}g(ve,Q);var Se={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ke="closure_listenable_"+(1e6*Math.random()|0),ct=0;function re(f,v,A,R,B){this.listener=f,this.proxy=null,this.src=v,this.type=A,this.capture=!!R,this.ha=B,this.key=++ct,this.da=this.fa=!1}function de(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function pe(f){this.src=f,this.g={},this.h=0}pe.prototype.add=function(f,v,A,R,B){var q=f.toString();f=this.g[q],f||(f=this.g[q]=[],this.h++);var ee=Ve(f,v,R,B);return-1<ee?(v=f[ee],A||(v.fa=!1)):(v=new re(v,this.src,q,!!R,B),v.fa=A,f.push(v)),v};function J(f,v){var A=v.type;if(A in f.g){var R=f.g[A],B=Array.prototype.indexOf.call(R,v,void 0),q;(q=0<=B)&&Array.prototype.splice.call(R,B,1),q&&(de(v),f.g[A].length==0&&(delete f.g[A],f.h--))}}function Ve(f,v,A,R){for(var B=0;B<f.length;++B){var q=f[B];if(!q.da&&q.listener==v&&q.capture==!!A&&q.ha==R)return B}return-1}var be="closure_lm_"+(1e6*Math.random()|0),Qe={};function rt(f,v,A,R,B){if(Array.isArray(v)){for(var q=0;q<v.length;q++)rt(f,v[q],A,R,B);return null}return A=Tl(A),f&&f[Ke]?f.K(v,A,u(R)?!!R.capture:!1,B):Lt(f,v,A,!1,R,B)}function Lt(f,v,A,R,B,q){if(!v)throw Error("Invalid event type");var ee=u(B)?!!B.capture:!!B,Me=So(f);if(Me||(f[be]=Me=new pe(f)),A=Me.add(v,A,R,ee,q),A.proxy)return A;if(R=pn(),A.proxy=R,R.src=f,R.listener=A,f.addEventListener)se||(B=ee),B===void 0&&(B=!1),f.addEventListener(v.toString(),R,B);else if(f.attachEvent)f.attachEvent(mn(v.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return A}function pn(){function f(A){return v.call(f.src,f.listener,A)}const v=Dn;return f}function Rn(f,v,A,R,B){if(Array.isArray(v))for(var q=0;q<v.length;q++)Rn(f,v[q],A,R,B);else R=u(R)?!!R.capture:!!R,A=Tl(A),f&&f[Ke]?(f=f.i,v=String(v).toString(),v in f.g&&(q=f.g[v],A=Ve(q,A,R,B),-1<A&&(de(q[A]),Array.prototype.splice.call(q,A,1),q.length==0&&(delete f.g[v],f.h--)))):f&&(f=So(f))&&(v=f.g[v.toString()],f=-1,v&&(f=Ve(v,A,R,B)),(A=-1<f?v[f]:null)&&bi(A))}function bi(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[Ke])J(v.i,f);else{var A=f.type,R=f.proxy;v.removeEventListener?v.removeEventListener(A,R,f.capture):v.detachEvent?v.detachEvent(mn(A),R):v.addListener&&v.removeListener&&v.removeListener(R),(A=So(v))?(J(A,f),A.h==0&&(A.src=null,v[be]=null)):de(f)}}}function mn(f){return f in Qe?Qe[f]:Qe[f]="on"+f}function Dn(f,v){if(f.da)f=!0;else{v=new ve(v,this);var A=f.listener,R=f.ha||f.src;f.fa&&bi(f),f=A.call(R,v)}return f}function So(f){return f=f[be],f instanceof pe?f:null}var Sa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tl(f){return typeof f=="function"?f:(f[Sa]||(f[Sa]=function(v){return f.handleEvent(v)}),f[Sa])}function Vt(){z.call(this),this.i=new pe(this),this.M=this,this.F=null}g(Vt,z),Vt.prototype[Ke]=!0,Vt.prototype.removeEventListener=function(f,v,A,R){Rn(this,f,v,A,R)};function Zt(f,v){var A,R=f.F;if(R)for(A=[];R;R=R.F)A.push(R);if(f=f.M,R=v.type||v,typeof v=="string")v=new Q(v,f);else if(v instanceof Q)v.target=v.target||f;else{var B=v;v=new Q(R,f),N(v,B)}if(B=!0,A)for(var q=A.length-1;0<=q;q--){var ee=v.g=A[q];B=vf(ee,R,!0,v)&&B}if(ee=v.g=f,B=vf(ee,R,!0,v)&&B,B=vf(ee,R,!1,v)&&B,A)for(q=0;q<A.length;q++)ee=v.g=A[q],B=vf(ee,R,!1,v)&&B}Vt.prototype.N=function(){if(Vt.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var A=f.g[v],R=0;R<A.length;R++)de(A[R]);delete f.g[v],f.h--}}this.F=null},Vt.prototype.K=function(f,v,A,R){return this.i.add(String(f),v,!1,A,R)},Vt.prototype.L=function(f,v,A,R){return this.i.add(String(f),v,!0,A,R)};function vf(f,v,A,R){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var B=!0,q=0;q<v.length;++q){var ee=v[q];if(ee&&!ee.da&&ee.capture==A){var Me=ee.listener,Ot=ee.ha||ee.src;ee.fa&&J(f.i,ee),B=Me.call(Ot,R)!==!1&&B}}return B&&!R.defaultPrevented}function Nx(f,v,A){if(typeof f=="function")A&&(f=h(f,A));else if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:s.setTimeout(f,v||0)}function jx(f){f.g=Nx(()=>{f.g=null,f.i&&(f.i=!1,jx(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class VM extends z{constructor(v,A){super(),this.m=v,this.l=A,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:jx(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Al(f){z.call(this),this.h=f,this.g={}}g(Al,z);var Rx=[];function Dx(f){P(f.g,function(v,A){this.g.hasOwnProperty(A)&&bi(v)},f),f.g={}}Al.prototype.N=function(){Al.aa.N.call(this),Dx(this)},Al.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lg=s.JSON.stringify,FM=s.JSON.parse,BM=class{stringify(f){return s.JSON.stringify(f,void 0)}parse(f){return s.JSON.parse(f,void 0)}};function ug(){}ug.prototype.h=null;function Mx(f){return f.h||(f.h=f.i())}function $x(){}var Pl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cg(){Q.call(this,"d")}g(cg,Q);function fg(){Q.call(this,"c")}g(fg,Q);var To={},Lx=null;function bf(){return Lx=Lx||new Vt}To.La="serverreachability";function Vx(f){Q.call(this,To.La,f)}g(Vx,Q);function Il(f){const v=bf();Zt(v,new Vx(v))}To.STAT_EVENT="statevent";function Fx(f,v){Q.call(this,To.STAT_EVENT,f),this.stat=v}g(Fx,Q);function er(f){const v=bf();Zt(v,new Fx(v,f))}To.Ma="timingevent";function Bx(f,v){Q.call(this,To.Ma,f),this.size=v}g(Bx,Q);function Ol(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){f()},v)}function Cl(){this.g=!0}Cl.prototype.xa=function(){this.g=!1};function UM(f,v,A,R,B,q){f.info(function(){if(f.g)if(q)for(var ee="",Me=q.split("&"),Ot=0;Ot<Me.length;Ot++){var Ie=Me[Ot].split("=");if(1<Ie.length){var Ft=Ie[0];Ie=Ie[1];var Bt=Ft.split("_");ee=2<=Bt.length&&Bt[1]=="type"?ee+(Ft+"="+Ie+"&"):ee+(Ft+"=redacted&")}}else ee=null;else ee=q;return"XMLHTTP REQ ("+R+") [attempt "+B+"]: "+v+`
`+A+`
`+ee})}function zM(f,v,A,R,B,q,ee){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+B+"]: "+v+`
`+A+`
`+q+" "+ee})}function Ta(f,v,A,R){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+HM(f,A)+(R?" "+R:"")})}function WM(f,v){f.info(function(){return"TIMEOUT: "+v})}Cl.prototype.info=function(){};function HM(f,v){if(!f.g)return v;if(!v)return null;try{var A=JSON.parse(v);if(A){for(f=0;f<A.length;f++)if(Array.isArray(A[f])){var R=A[f];if(!(2>R.length)){var B=R[1];if(Array.isArray(B)&&!(1>B.length)){var q=B[0];if(q!="noop"&&q!="stop"&&q!="close")for(var ee=1;ee<B.length;ee++)B[ee]=""}}}}return lg(A)}catch{return v}}var _f={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ux={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dg;function wf(){}g(wf,ug),wf.prototype.g=function(){return new XMLHttpRequest},wf.prototype.i=function(){return{}},dg=new wf;function _i(f,v,A,R){this.j=f,this.i=v,this.l=A,this.R=R||1,this.U=new Al(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zx}function zx(){this.i=null,this.g="",this.h=!1}var Wx={},hg={};function pg(f,v,A){f.L=1,f.v=Tf(Mn(v)),f.m=A,f.P=!0,Hx(f,null)}function Hx(f,v){f.F=Date.now(),xf(f),f.A=Mn(f.v);var A=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),o1(A.i,"t",R),f.C=0,A=f.j.J,f.h=new zx,f.g=E1(f.j,A?v:null,!f.m),0<f.O&&(f.M=new VM(h(f.Y,f,f.g),f.O)),v=f.U,A=f.g,R=f.ca;var B="readystatechange";Array.isArray(B)||(B&&(Rx[0]=B.toString()),B=Rx);for(var q=0;q<B.length;q++){var ee=rt(A,B[q],R||v.handleEvent,!1,v.h||v);if(!ee)break;v.g[ee.key]=ee}v=f.H?S(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),Il(),UM(f.i,f.u,f.A,f.l,f.R,f.m)}_i.prototype.ca=function(f){f=f.target;const v=this.M;v&&$n(f)==3?v.j():this.Y(f)},_i.prototype.Y=function(f){try{if(f==this.g)e:{const Bt=$n(this.g);var v=this.g.Ba();const Ia=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||d1(this.g)))){this.J||Bt!=4||v==7||(v==8||0>=Ia?Il(3):Il(2)),mg(this);var A=this.g.Z();this.X=A;t:if(qx(this)){var R=d1(this.g);f="";var B=R.length,q=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ao(this),kl(this);var ee="";break t}this.h.i=new s.TextDecoder}for(v=0;v<B;v++)this.h.h=!0,f+=this.h.i.decode(R[v],{stream:!(q&&v==B-1)});R.length=0,this.h.g+=f,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=A==200,zM(this.i,this.u,this.A,this.l,this.R,Bt,A),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,Ot=this.g;if((Me=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Me)){var Ie=Me;break t}}Ie=null}if(A=Ie)Ta(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gg(this,A);else{this.o=!1,this.s=3,er(12),Ao(this),kl(this);break e}}if(this.P){A=!0;let Kr;for(;!this.J&&this.C<ee.length;)if(Kr=qM(this,ee),Kr==hg){Bt==4&&(this.s=4,er(14),A=!1),Ta(this.i,this.l,null,"[Incomplete Response]");break}else if(Kr==Wx){this.s=4,er(15),Ta(this.i,this.l,ee,"[Invalid Chunk]"),A=!1;break}else Ta(this.i,this.l,Kr,null),gg(this,Kr);if(qx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||ee.length!=0||this.h.h||(this.s=1,er(16),A=!1),this.o=this.o&&A,!A)Ta(this.i,this.l,ee,"[Invalid Chunked Response]"),Ao(this),kl(this);else if(0<ee.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),xg(Ft),Ft.M=!0,er(11))}}else Ta(this.i,this.l,ee,null),gg(this,ee);Bt==4&&Ao(this),this.o&&!this.J&&(Bt==4?b1(this.j,this):(this.o=!1,xf(this)))}else u$(this.g),A==400&&0<ee.indexOf("Unknown SID")?(this.s=3,er(12)):(this.s=0,er(13)),Ao(this),kl(this)}}}catch{}finally{}};function qx(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function qM(f,v){var A=f.C,R=v.indexOf(`
`,A);return R==-1?hg:(A=Number(v.substring(A,R)),isNaN(A)?Wx:(R+=1,R+A>v.length?hg:(v=v.slice(R,R+A),f.C=R+A,v)))}_i.prototype.cancel=function(){this.J=!0,Ao(this)};function xf(f){f.S=Date.now()+f.I,Gx(f,f.I)}function Gx(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Ol(h(f.ba,f),v)}function mg(f){f.B&&(s.clearTimeout(f.B),f.B=null)}_i.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(WM(this.i,this.A),this.L!=2&&(Il(),er(17)),Ao(this),this.s=2,kl(this)):Gx(this,this.S-f)};function kl(f){f.j.G==0||f.J||b1(f.j,f)}function Ao(f){mg(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,Dx(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function gg(f,v){try{var A=f.j;if(A.G!=0&&(A.g==f||yg(A.h,f))){if(!f.K&&yg(A.h,f)&&A.G==3){try{var R=A.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var B=R;if(B[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<f.F)kf(A),Of(A);else break e;wg(A),er(18)}}else A.za=B[1],0<A.za-A.T&&37500>B[2]&&A.F&&A.v==0&&!A.C&&(A.C=Ol(h(A.Za,A),6e3));if(1>=Yx(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Io(A,11)}else if((f.K||A.g==f)&&kf(A),!b(v))for(B=A.Da.g.parse(v),v=0;v<B.length;v++){let Ie=B[v];if(A.T=Ie[0],Ie=Ie[1],A.G==2)if(Ie[0]=="c"){A.K=Ie[1],A.ia=Ie[2];const Ft=Ie[3];Ft!=null&&(A.la=Ft,A.j.info("VER="+A.la));const Bt=Ie[4];Bt!=null&&(A.Aa=Bt,A.j.info("SVER="+A.Aa));const Ia=Ie[5];Ia!=null&&typeof Ia=="number"&&0<Ia&&(R=1.5*Ia,A.L=R,A.j.info("backChannelRequestTimeoutMs_="+R)),R=A;const Kr=f.g;if(Kr){const jf=Kr.g?Kr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jf){var q=R.h;q.g||jf.indexOf("spdy")==-1&&jf.indexOf("quic")==-1&&jf.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(vg(q,q.h),q.h=null))}if(R.D){const Eg=Kr.g?Kr.g.getResponseHeader("X-HTTP-Session-Id"):null;Eg&&(R.ya=Eg,Ue(R.I,R.D,Eg))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-f.F,A.j.info("Handshake RTT: "+A.R+"ms")),R=A;var ee=f;if(R.qa=x1(R,R.J?R.ia:null,R.W),ee.K){Qx(R.h,ee);var Me=ee,Ot=R.L;Ot&&(Me.I=Ot),Me.B&&(mg(Me),xf(Me)),R.g=ee}else y1(R);0<A.i.length&&Cf(A)}else Ie[0]!="stop"&&Ie[0]!="close"||Io(A,7);else A.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?Io(A,7):_g(A):Ie[0]!="noop"&&A.l&&A.l.ta(Ie),A.v=0)}}Il(4)}catch{}}var GM=class{constructor(f,v){this.g=f,this.map=v}};function Kx(f){this.l=f||10,s.PerformanceNavigationTiming?(f=s.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xx(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Yx(f){return f.h?1:f.g?f.g.size:0}function yg(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function vg(f,v){f.g?f.g.add(v):f.h=v}function Qx(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}Kx.prototype.cancel=function(){if(this.i=Jx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Jx(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const A of f.g.values())v=v.concat(A.D);return v}return y(f.i)}function KM(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var v=[],A=f.length,R=0;R<A;R++)v.push(f[R]);return v}v=[],A=0;for(R in f)v[A++]=f[R];return v}function XM(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var v=[];f=f.length;for(var A=0;A<f;A++)v.push(A);return v}v=[],A=0;for(const R in f)v[A++]=R;return v}}}function Zx(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var A=XM(f),R=KM(f),B=R.length,q=0;q<B;q++)v.call(void 0,R[q],A&&A[q],f)}var e1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function YM(f,v){if(f){f=f.split("&");for(var A=0;A<f.length;A++){var R=f[A].indexOf("="),B=null;if(0<=R){var q=f[A].substring(0,R);B=f[A].substring(R+1)}else q=f[A];v(q,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Po(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Po){this.h=f.h,Ef(this,f.j),this.o=f.o,this.g=f.g,Sf(this,f.s),this.l=f.l;var v=f.i,A=new Rl;A.i=v.i,v.g&&(A.g=new Map(v.g),A.h=v.h),t1(this,A),this.m=f.m}else f&&(v=String(f).match(e1))?(this.h=!1,Ef(this,v[1]||"",!0),this.o=Nl(v[2]||""),this.g=Nl(v[3]||"",!0),Sf(this,v[4]),this.l=Nl(v[5]||"",!0),t1(this,v[6]||"",!0),this.m=Nl(v[7]||"")):(this.h=!1,this.i=new Rl(null,this.h))}Po.prototype.toString=function(){var f=[],v=this.j;v&&f.push(jl(v,r1,!0),":");var A=this.g;return(A||v=="file")&&(f.push("//"),(v=this.o)&&f.push(jl(v,r1,!0),"@"),f.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&f.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&f.push("/"),f.push(jl(A,A.charAt(0)=="/"?ZM:JM,!0))),(A=this.i.toString())&&f.push("?",A),(A=this.m)&&f.push("#",jl(A,t$)),f.join("")};function Mn(f){return new Po(f)}function Ef(f,v,A){f.j=A?Nl(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function Sf(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function t1(f,v,A){v instanceof Rl?(f.i=v,r$(f.i,f.h)):(A||(v=jl(v,e$)),f.i=new Rl(v,f.h))}function Ue(f,v,A){f.i.set(v,A)}function Tf(f){return Ue(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Nl(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function jl(f,v,A){return typeof f=="string"?(f=encodeURI(f).replace(v,QM),A&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function QM(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var r1=/[#\/\?@]/g,JM=/[#\?:]/g,ZM=/[#\?]/g,e$=/[#\?@]/g,t$=/#/g;function Rl(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function wi(f){f.g||(f.g=new Map,f.h=0,f.i&&YM(f.i,function(v,A){f.add(decodeURIComponent(v.replace(/\+/g," ")),A)}))}t=Rl.prototype,t.add=function(f,v){wi(this),this.i=null,f=Aa(this,f);var A=this.g.get(f);return A||this.g.set(f,A=[]),A.push(v),this.h+=1,this};function n1(f,v){wi(f),v=Aa(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function i1(f,v){return wi(f),v=Aa(f,v),f.g.has(v)}t.forEach=function(f,v){wi(this),this.g.forEach(function(A,R){A.forEach(function(B){f.call(v,B,R,this)},this)},this)},t.na=function(){wi(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),A=[];for(let R=0;R<v.length;R++){const B=f[R];for(let q=0;q<B.length;q++)A.push(v[R])}return A},t.V=function(f){wi(this);let v=[];if(typeof f=="string")i1(this,f)&&(v=v.concat(this.g.get(Aa(this,f))));else{f=Array.from(this.g.values());for(let A=0;A<f.length;A++)v=v.concat(f[A])}return v},t.set=function(f,v){return wi(this),this.i=null,f=Aa(this,f),i1(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},t.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function o1(f,v,A){n1(f,v),0<A.length&&(f.i=null,f.g.set(Aa(f,v),y(A)),f.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var A=0;A<v.length;A++){var R=v[A];const q=encodeURIComponent(String(R)),ee=this.V(R);for(R=0;R<ee.length;R++){var B=q;ee[R]!==""&&(B+="="+encodeURIComponent(String(ee[R]))),f.push(B)}}return this.i=f.join("&")};function Aa(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function r$(f,v){v&&!f.j&&(wi(f),f.i=null,f.g.forEach(function(A,R){var B=R.toLowerCase();R!=B&&(n1(this,R),o1(this,B,A))},f)),f.j=v}function n$(f,v){const A=new Cl;if(s.Image){const R=new Image;R.onload=p(xi,A,"TestLoadImage: loaded",!0,v,R),R.onerror=p(xi,A,"TestLoadImage: error",!1,v,R),R.onabort=p(xi,A,"TestLoadImage: abort",!1,v,R),R.ontimeout=p(xi,A,"TestLoadImage: timeout",!1,v,R),s.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else v(!1)}function i$(f,v){const A=new Cl,R=new AbortController,B=setTimeout(()=>{R.abort(),xi(A,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:R.signal}).then(q=>{clearTimeout(B),q.ok?xi(A,"TestPingServer: ok",!0,v):xi(A,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(B),xi(A,"TestPingServer: error",!1,v)})}function xi(f,v,A,R,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),R(A)}catch{}}function o$(){this.g=new BM}function a$(f,v,A){const R=A||"";try{Zx(f,function(B,q){let ee=B;u(B)&&(ee=lg(B)),v.push(R+q+"="+encodeURIComponent(ee))})}catch(B){throw v.push(R+"type="+encodeURIComponent("_badmap")),B}}function Af(f){this.l=f.Ub||null,this.j=f.eb||!1}g(Af,ug),Af.prototype.g=function(){return new Pf(this.l,this.j)},Af.prototype.i=function(f){return function(){return f}}({});function Pf(f,v){Vt.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Pf,Vt),t=Pf.prototype,t.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,Ml(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||s).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dl(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ml(this)),this.g&&(this.readyState=3,Ml(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;a1(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function a1(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?Dl(this):Ml(this),this.readyState==3&&a1(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Dl(this))},t.Qa=function(f){this.g&&(this.response=f,Dl(this))},t.ga=function(){this.g&&Dl(this)};function Dl(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Ml(f)}t.setRequestHeader=function(f,v){this.u.append(f,v)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var A=v.next();!A.done;)A=A.value,f.push(A[0]+": "+A[1]),A=v.next();return f.join(`\r
`)};function Ml(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Pf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function s1(f){let v="";return P(f,function(A,R){v+=R,v+=":",v+=A,v+=`\r
`}),v}function bg(f,v,A){e:{for(R in A){var R=!1;break e}R=!0}R||(A=s1(A),typeof f=="string"?A!=null&&encodeURIComponent(String(A)):Ue(f,v,A))}function nt(f){Vt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(nt,Vt);var s$=/^https?$/i,l$=["POST","PUT"];t=nt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,v,A,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dg.g(),this.v=this.o?Mx(this.o):Mx(dg),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(q){l1(this,q);return}if(f=A||"",A=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var B in R)A.set(B,R[B]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const q of R.keys())A.set(q,R.get(q));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(A.keys()).find(q=>q.toLowerCase()=="content-type"),B=s.FormData&&f instanceof s.FormData,!(0<=Array.prototype.indexOf.call(l$,v,void 0))||R||B||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ee]of A)this.g.setRequestHeader(q,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{f1(this),this.u=!0,this.g.send(f),this.u=!1}catch(q){l1(this,q)}};function l1(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,u1(f),If(f)}function u1(f){f.A||(f.A=!0,Zt(f,"complete"),Zt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Zt(this,"complete"),Zt(this,"abort"),If(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),If(this,!0)),nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?c1(this):this.bb())},t.bb=function(){c1(this)};function c1(f){if(f.h&&typeof a<"u"&&(!f.v[1]||$n(f)!=4||f.Z()!=2)){if(f.u&&$n(f)==4)Nx(f.Ea,0,f);else if(Zt(f,"readystatechange"),$n(f)==4){f.h=!1;try{const ee=f.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var A;if(!(A=v)){var R;if(R=ee===0){var B=String(f.D).match(e1)[1]||null;!B&&s.self&&s.self.location&&(B=s.self.location.protocol.slice(0,-1)),R=!s$.test(B?B.toLowerCase():"")}A=R}if(A)Zt(f,"complete"),Zt(f,"success");else{f.m=6;try{var q=2<$n(f)?f.g.statusText:""}catch{q=""}f.l=q+" ["+f.Z()+"]",u1(f)}}finally{If(f)}}}}function If(f,v){if(f.g){f1(f);const A=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||Zt(f,"ready");try{A.onreadystatechange=R}catch{}}}function f1(f){f.I&&(s.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function $n(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),FM(v)}};function d1(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function u$(f){const v={};f=(f.g&&2<=$n(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(b(f[R]))continue;var A=C(f[R]);const B=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const q=v[B]||[];v[B]=q,q.push(A)}E(v,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $l(f,v,A){return A&&A.internalChannelParams&&A.internalChannelParams[f]||v}function h1(f){this.Aa=0,this.i=[],this.j=new Cl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$l("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$l("baseRetryDelayMs",5e3,f),this.cb=$l("retryDelaySeedMs",1e4,f),this.Wa=$l("forwardChannelMaxRetries",2,f),this.wa=$l("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Kx(f&&f.concurrentRequestLimit),this.Da=new o$,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=h1.prototype,t.la=8,t.G=1,t.connect=function(f,v,A,R){er(0),this.W=f,this.H=v||{},A&&R!==void 0&&(this.H.OSID=A,this.H.OAID=R),this.F=this.X,this.I=x1(this,null,this.W),Cf(this)};function _g(f){if(p1(f),f.G==3){var v=f.U++,A=Mn(f.I);if(Ue(A,"SID",f.K),Ue(A,"RID",v),Ue(A,"TYPE","terminate"),Ll(f,A),v=new _i(f,f.j,v),v.L=2,v.v=Tf(Mn(A)),A=!1,s.navigator&&s.navigator.sendBeacon)try{A=s.navigator.sendBeacon(v.v.toString(),"")}catch{}!A&&s.Image&&(new Image().src=v.v,A=!0),A||(v.g=E1(v.j,null),v.g.ea(v.v)),v.F=Date.now(),xf(v)}w1(f)}function Of(f){f.g&&(xg(f),f.g.cancel(),f.g=null)}function p1(f){Of(f),f.u&&(s.clearTimeout(f.u),f.u=null),kf(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&s.clearTimeout(f.s),f.s=null)}function Cf(f){if(!Xx(f.h)&&!f.s){f.s=!0;var v=f.Ga;F||K(),M||(F(),M=!0),V.add(v,f),f.B=0}}function c$(f,v){return Yx(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Ol(h(f.Ga,f,v),_1(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const B=new _i(this,this.j,f);let q=this.o;if(this.S&&(q?(q=S(q),N(q,this.S)):q=this.S),this.m!==null||this.O||(B.H=q,q=null),this.P)e:{for(var v=0,A=0;A<this.i.length;A++){t:{var R=this.i[A];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=A;break e}if(v===4096||A===this.i.length-1){v=A+1;break e}}v=1e3}else v=1e3;v=g1(this,B,v),A=Mn(this.I),Ue(A,"RID",f),Ue(A,"CVER",22),this.D&&Ue(A,"X-HTTP-Session-Id",this.D),Ll(this,A),q&&(this.O?v="headers="+encodeURIComponent(String(s1(q)))+"&"+v:this.m&&bg(A,this.m,q)),vg(this.h,B),this.Ua&&Ue(A,"TYPE","init"),this.P?(Ue(A,"$req",v),Ue(A,"SID","null"),B.T=!0,pg(B,A,null)):pg(B,A,v),this.G=2}}else this.G==3&&(f?m1(this,f):this.i.length==0||Xx(this.h)||m1(this))};function m1(f,v){var A;v?A=v.l:A=f.U++;const R=Mn(f.I);Ue(R,"SID",f.K),Ue(R,"RID",A),Ue(R,"AID",f.T),Ll(f,R),f.m&&f.o&&bg(R,f.m,f.o),A=new _i(f,f.j,A,f.B+1),f.m===null&&(A.H=f.o),v&&(f.i=v.D.concat(f.i)),v=g1(f,A,1e3),A.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),vg(f.h,A),pg(A,R,v)}function Ll(f,v){f.H&&P(f.H,function(A,R){Ue(v,R,A)}),f.l&&Zx({},function(A,R){Ue(v,R,A)})}function g1(f,v,A){A=Math.min(f.i.length,A);var R=f.l?h(f.l.Na,f.l,f):null;e:{var B=f.i;let q=-1;for(;;){const ee=["count="+A];q==-1?0<A?(q=B[0].g,ee.push("ofs="+q)):q=0:ee.push("ofs="+q);let Me=!0;for(let Ot=0;Ot<A;Ot++){let Ie=B[Ot].g;const Ft=B[Ot].map;if(Ie-=q,0>Ie)q=Math.max(0,B[Ot].g-100),Me=!1;else try{a$(Ft,ee,"req"+Ie+"_")}catch{R&&R(Ft)}}if(Me){R=ee.join("&");break e}}}return f=f.i.splice(0,A),v.D=f,R}function y1(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;F||K(),M||(F(),M=!0),V.add(v,f),f.v=0}}function wg(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Ol(h(f.Fa,f),_1(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,v1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Ol(h(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,er(10),Of(this),v1(this))};function xg(f){f.A!=null&&(s.clearTimeout(f.A),f.A=null)}function v1(f){f.g=new _i(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=Mn(f.qa);Ue(v,"RID","rpc"),Ue(v,"SID",f.K),Ue(v,"AID",f.T),Ue(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ue(v,"TO",f.ja),Ue(v,"TYPE","xmlhttp"),Ll(f,v),f.m&&f.o&&bg(v,f.m,f.o),f.L&&(f.g.I=f.L);var A=f.g;f=f.ia,A.L=1,A.v=Tf(Mn(v)),A.m=null,A.P=!0,Hx(A,f)}t.Za=function(){this.C!=null&&(this.C=null,Of(this),wg(this),er(19))};function kf(f){f.C!=null&&(s.clearTimeout(f.C),f.C=null)}function b1(f,v){var A=null;if(f.g==v){kf(f),xg(f),f.g=null;var R=2}else if(yg(f.h,v))A=v.D,Qx(f.h,v),R=1;else return;if(f.G!=0){if(v.o)if(R==1){A=v.m?v.m.length:0,v=Date.now()-v.F;var B=f.B;R=bf(),Zt(R,new Bx(R,A)),Cf(f)}else y1(f);else if(B=v.s,B==3||B==0&&0<v.X||!(R==1&&c$(f,v)||R==2&&wg(f)))switch(A&&0<A.length&&(v=f.h,v.i=v.i.concat(A)),B){case 1:Io(f,5);break;case 4:Io(f,10);break;case 3:Io(f,6);break;default:Io(f,2)}}}function _1(f,v){let A=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(A*=2),A*v}function Io(f,v){if(f.j.info("Error code "+v),v==2){var A=h(f.fb,f),R=f.Xa;const B=!R;R=new Po(R||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Ef(R,"https"),Tf(R),B?n$(R.toString(),A):i$(R.toString(),A)}else er(2);f.G=0,f.l&&f.l.sa(v),w1(f),p1(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),er(2)):(this.j.info("Failed to ping google.com"),er(1))};function w1(f){if(f.G=0,f.ka=[],f.l){const v=Jx(f.h);(v.length!=0||f.i.length!=0)&&(x(f.ka,v),x(f.ka,f.i),f.h.i.length=0,y(f.i),f.i.length=0),f.l.ra()}}function x1(f,v,A){var R=A instanceof Po?Mn(A):new Po(A);if(R.g!="")v&&(R.g=v+"."+R.g),Sf(R,R.s);else{var B=s.location;R=B.protocol,v=v?v+"."+B.hostname:B.hostname,B=+B.port;var q=new Po(null);R&&Ef(q,R),v&&(q.g=v),B&&Sf(q,B),A&&(q.l=A),R=q}return A=f.D,v=f.ya,A&&v&&Ue(R,A,v),Ue(R,"VER",f.la),Ll(f,R),R}function E1(f,v,A){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new nt(new Af({eb:A})):new nt(f.pa),v.Ha(f.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function S1(){}t=S1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Nf(){}Nf.prototype.g=function(f,v){return new br(f,v)};function br(f,v){Vt.call(this),this.g=new h1(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!b(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!b(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Pa(this)}g(br,Vt),br.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},br.prototype.close=function(){_g(this.g)},br.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var A={};A.__data__=f,f=A}else this.u&&(A={},A.__data__=lg(f),f=A);v.i.push(new GM(v.Ya++,f)),v.G==3&&Cf(v)},br.prototype.N=function(){this.g.l=null,delete this.j,_g(this.g),delete this.g,br.aa.N.call(this)};function T1(f){cg.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const A in v){f=A;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}g(T1,cg);function A1(){fg.call(this),this.status=1}g(A1,fg);function Pa(f){this.g=f}g(Pa,S1),Pa.prototype.ua=function(){Zt(this.g,"a")},Pa.prototype.ta=function(f){Zt(this.g,new T1(f))},Pa.prototype.sa=function(f){Zt(this.g,new A1)},Pa.prototype.ra=function(){Zt(this.g,"b")},Nf.prototype.createWebChannel=Nf.prototype.g,br.prototype.send=br.prototype.o,br.prototype.open=br.prototype.m,br.prototype.close=br.prototype.close,E2=function(){return new Nf},x2=function(){return bf()},w2=To,Lv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_f.NO_ERROR=0,_f.TIMEOUT=8,_f.HTTP_ERROR=6,Dd=_f,Ux.COMPLETE="complete",_2=Ux,$x.EventType=Pl,Pl.OPEN="a",Pl.CLOSE="b",Pl.ERROR="c",Pl.MESSAGE="d",Vt.prototype.listen=Vt.prototype.K,uu=$x,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,b2=nt}).apply(typeof Zf<"u"?Zf:typeof self<"u"?self:typeof window<"u"?window:{});const pS="@firebase/firestore",mS="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let al="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new E_("@firebase/firestore");function Ra(){return oa.logLevel}function ne(t,...e){if(oa.logLevel<=we.DEBUG){const r=e.map(D_);oa.debug(`Firestore (${al}): ${t}`,...r)}}function ai(t,...e){if(oa.logLevel<=we.ERROR){const r=e.map(D_);oa.error(`Firestore (${al}): ${t}`,...r)}}function Ss(t,...e){if(oa.logLevel<=we.WARN){const r=e.map(D_);oa.warn(`Firestore (${al}): ${t}`,...r)}}function D_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,S2(t,n,r)}function S2(t,e,r){let n=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw ai(n),new Error(n)}function Ne(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||S2(e,i,n)}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends mi{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $F{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(qt.UNAUTHENTICATED))}shutdown(){}}class LF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class VF{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Ne(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let o=new Yn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Yn,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Yn)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ne(typeof n.accessToken=="string",31837,{l:n}),new T2(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string",2055,{h:e}),new qt(e)}}class FF{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BF{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new FF(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UF{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$r(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Ne(this.o===void 0,3512);const n=o=>{o.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,ne("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const i=o=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new gS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Ne(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new gS(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=zF(40);for(let o=0;o<i.length;++o)n.length<20&&i[o]<r&&(n+=e.charAt(i[o]%62))}return n}}function ye(t,e){return t<e?-1:t>e?1:0}function Vv(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),i=e.codePointAt(r);if(n!==i){if(n<128&&i<128)return ye(n,i);{const o=A2(),a=WF(o.encode(yS(t,r)),o.encode(yS(e,r)));return a!==0?a:ye(n,i)}}r+=n>65535?2:1}return ye(t.length,e.length)}function yS(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function WF(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return ye(t[r],e[r]);return ye(t.length,e.length)}function Ts(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=-62135596800,bS=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*bS);return new _t(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ie(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ie(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<vS)throw new ie(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bS}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-vS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{static fromTimestamp(e){return new he(e)}static min(){return new he(new _t(0,0))}static max(){return new he(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="__name__";class bn{constructor(e,r,n){r===void 0?r=0:r>e.length&&fe(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&fe(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return bn.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof bn?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const o=bn.compareSegments(e.get(i),r.get(i));if(o!==0)return o}return ye(e.length,r.length)}static compareSegments(e,r){const n=bn.isNumericId(e),i=bn.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?bn.extractNumericId(e).compare(bn.extractNumericId(r)):Vv(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yi.fromString(e.substring(4,e.length-2))}}class qe extends bn{construct(e,r,n){return new qe(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new ie(X.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new qe(r)}static emptyPath(){return new qe([])}}const HF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends bn{construct(e,r,n){return new jt(e,r,n)}static isValidIdentifier(e){return HF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_S}static keyField(){return new jt([_S])}static fromServerFormat(e){const r=[];let n="",i=0;const o=()=>{if(n.length===0)throw new ie(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new ie(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ie(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(n+=s,i++):(o(),i++)}if(o(),a)throw new ie(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(r)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(qe.fromString(e))}static fromName(e){return new le(qe.fromString(e).popFirst(5))}static empty(){return new le(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return qe.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new qe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=-1;function qF(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=he.fromTimestamp(n===1e9?new _t(r+1,0):new _t(r,n));return new ro(i,le.empty(),e)}function GF(t){return new ro(t.readTime,t.key,tc)}class ro{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new ro(he.min(),le.empty(),tc)}static max(){return new ro(he.max(),le.empty(),tc)}}function KF(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=le.comparator(t.documentKey,e.documentKey),r!==0?r:ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==XF)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Y((n,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,i)},this.catchCallback=o=>{this.wrapFailure(r,o).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Y?r:Y.resolve(r)}catch(r){return Y.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Y.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Y.reject(r)}static resolve(e){return new Y((r,n)=>{r(e)})}static reject(e){return new Y((r,n)=>{n(e)})}static waitFor(e){return new Y((r,n)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&r()},l=>n(l))}),a=!0,o===i&&r()})}static or(e){let r=Y.resolve(!1);for(const n of e)r=r.next(i=>i?Y.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,o)=>{n.push(r.call(this,i,o))}),this.waitFor(n)}static mapArray(e,r){return new Y((n,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;r(e[u]).next(c=>{a[u]=c,++s,s===o&&n(a)},c=>i(c))}})}static doWhile(e,r){return new Y((n,i)=>{const o=()=>{e()===!0?r().next(()=>{o()},i):n()};o()})}}function QF(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function ll(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Zp.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=-1;function em(t){return t==null}function vh(t){return t===0&&1/t==-1/0}function JF(t){return typeof t=="number"&&Number.isInteger(t)&&!vh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="";function ZF(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=wS(e)),e=e5(t.get(r),e);return wS(e)}function e5(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const o=t.charAt(i);switch(o){case"\0":r+="";break;case I2:r+="";break;default:r+=o}}return r}function wS(t){return t+I2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function mo(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function O2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,r){this.comparator=e,this.root=r||Nt.EMPTY}insert(e,r){return new tt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ed(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ed(this.root,e,this.comparator,!1)}getReverseIterator(){return new ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ed(this.root,e,this.comparator,!0)}}class ed{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=r?n(e.key,r):1,r&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,r,n,i,o){this.key=e,this.value=r,this.color=n??Nt.RED,this.left=i??Nt.EMPTY,this.right=o??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,o){return new Nt(e??this.key,r??this.value,n??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const o=n(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,r,n),null):o===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Nt.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw fe(27949);return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw fe(57766)}get value(){throw fe(16141)}get color(){throw fe(16727)}get left(){throw fe(29726)}get right(){throw fe(36894)}copy(e,r,n,i,o){return this}insert(e,r,n){return new Nt(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new ES(this.data.getIterator())}getIteratorFrom(e){return new ES(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=n.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new wt(this.comparator);return r.data=e,r}}class ES{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new Ar([])}unionWith(e){let r=new wt(jt.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Ar(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Ts(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new C2("Invalid base64 string: "+o):o}}(e);return new $t(r)}static fromUint8Array(e){const r=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new $t(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const t5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function no(t){if(Ne(!!t,39018),typeof t=="string"){let e=0;const r=t5.exec(t);if(Ne(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function io(t){return typeof t=="string"?$t.fromBase64String(t):$t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="server_timestamp",N2="__type__",j2="__previous_value__",R2="__local_write_time__";function $_(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[N2])===null||r===void 0?void 0:r.stringValue)===k2}function tm(t){const e=t.mapValue.fields[j2];return $_(e)?tm(e):e}function rc(t){const e=no(t.mapValue.fields[R2].timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e,r,n,i,o,a,s,l,u,c){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const bh="(default)";class nc{constructor(e,r){this.projectId=e,this.database=r||bh}static empty(){return new nc("","")}get isDefaultDatabase(){return this.database===bh}isEqual(e){return e instanceof nc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2="__type__",n5="__max__",td={mapValue:{}},M2="__vector__",_h="value";function oo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$_(t)?4:o5(t)?9007199254740991:i5(t)?10:11:fe(28295,{value:t})}function Cn(t,e){if(t===e)return!0;const r=oo(t);if(r!==oo(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rc(t).isEqual(rc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=no(i.timestampValue),s=no(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return io(i.bytesValue).isEqual(io(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return st(i.geoPointValue.latitude)===st(o.geoPointValue.latitude)&&st(i.geoPointValue.longitude)===st(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return st(i.integerValue)===st(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=st(i.doubleValue),s=st(o.doubleValue);return a===s?vh(a)===vh(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return Ts(t.arrayValue.values||[],e.arrayValue.values||[],Cn);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(xS(a)!==xS(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!Cn(a[l],s[l])))return!1;return!0}(t,e);default:return fe(52216,{left:t})}}function ic(t,e){return(t.values||[]).find(r=>Cn(r,e))!==void 0}function As(t,e){if(t===e)return 0;const r=oo(t),n=oo(e);if(r!==n)return ye(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=st(o.integerValue||o.doubleValue),l=st(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return SS(t.timestampValue,e.timestampValue);case 4:return SS(rc(t),rc(e));case 5:return Vv(t.stringValue,e.stringValue);case 6:return function(o,a){const s=io(o),l=io(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=ye(s[u],l[u]);if(c!==0)return c}return ye(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=ye(st(o.latitude),st(a.latitude));return s!==0?s:ye(st(o.longitude),st(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return TS(t.arrayValue,e.arrayValue);case 10:return function(o,a){var s,l,u,c;const d=o.fields||{},h=a.fields||{},p=(s=d[_h])===null||s===void 0?void 0:s.arrayValue,g=(l=h[_h])===null||l===void 0?void 0:l.arrayValue,y=ye(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return y!==0?y:TS(p,g)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===td.mapValue&&a===td.mapValue)return 0;if(o===td.mapValue)return 1;if(a===td.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=Vv(l[d],c[d]);if(h!==0)return h;const p=As(s[l[d]],u[c[d]]);if(p!==0)return p}return ye(l.length,c.length)}(t.mapValue,e.mapValue);default:throw fe(23264,{Pe:r})}}function SS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);const r=no(t),n=no(e),i=ye(r.seconds,n.seconds);return i!==0?i:ye(r.nanos,n.nanos)}function TS(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const o=As(r[i],n[i]);if(o)return o}return ye(r.length,n.length)}function Ps(t){return Fv(t)}function Fv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=no(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return io(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return le.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const o of r.values||[])i?i=!1:n+=",",n+=Fv(o);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const a of n)o?o=!1:i+=",",i+=`${a}:${Fv(r.fields[a])}`;return i+"}"}(t.mapValue):fe(61005,{value:t})}function Md(t){switch(oo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tm(t);return e?16+Md(e):16;case 5:return 2*t.stringValue.length;case 6:return io(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,o)=>i+Md(o),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return mo(n.fields,(o,a)=>{i+=o.length+Md(a)}),i}(t.mapValue);default:throw fe(13486,{value:t})}}function AS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Bv(t){return!!t&&"integerValue"in t}function L_(t){return!!t&&"arrayValue"in t}function PS(t){return!!t&&"nullValue"in t}function IS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $d(t){return!!t&&"mapValue"in t}function i5(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[D2])===null||r===void 0?void 0:r.stringValue)===M2}function Tu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return mo(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Tu(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Tu(t.arrayValue.values[r]);return e}return Object.assign({},t)}function o5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===n5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.value=e}static empty(){return new fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!$d(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tu(r)}setAll(e){let r=jt.emptyPath(),n={},i=[];e.forEach((a,s)=>{if(!r.isImmediateParentOf(s)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=s.popLast()}a?n[s.lastSegment()]=Tu(a):i.push(s.lastSegment())});const o=this.getFieldsMap(r);this.applyChanges(o,n,i)}delete(e){const r=this.field(e.popLast());$d(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Cn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];$d(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){mo(r,(i,o)=>e[i]=o);for(const i of n)delete e[i]}clone(){return new fr(Tu(this.value))}}function $2(t){const e=[];return mo(t.fields,(r,n)=>{const i=new jt([r]);if($d(n)){const o=$2(n.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,r,n,i,o,a,s){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new Kt(e,0,he.min(),he.min(),he.min(),fr.empty(),0)}static newFoundDocument(e,r,n,i){return new Kt(e,1,r,he.min(),n,i,0)}static newNoDocument(e,r){return new Kt(e,2,r,he.min(),he.min(),fr.empty(),0)}static newUnknownDocument(e,r){return new Kt(e,3,r,he.min(),he.min(),fr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,r){this.position=e,this.inclusive=r}}function OS(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?n=le.comparator(le.fromName(a.referenceValue),r.key):n=As(a,r.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function CS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Cn(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,r="asc"){this.field=e,this.dir=r}}function a5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{}class pt extends L2{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new l5(e,r,n):r==="array-contains"?new f5(e,n):r==="in"?new d5(e,n):r==="not-in"?new h5(e,n):r==="array-contains-any"?new p5(e,n):new pt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new u5(e,n):new c5(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(As(r,this.value)):r!==null&&oo(this.value)===oo(r)&&this.matchesComparison(As(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dn extends L2{constructor(e,r){super(),this.filters=e,this.op=r,this.Te=null}static create(e,r){return new dn(e,r)}matches(e){return V2(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function V2(t){return t.op==="and"}function F2(t){return s5(t)&&V2(t)}function s5(t){for(const e of t.filters)if(e instanceof dn)return!1;return!0}function Uv(t){if(t instanceof pt)return t.field.canonicalString()+t.op.toString()+Ps(t.value);if(F2(t))return t.filters.map(e=>Uv(e)).join(",");{const e=t.filters.map(r=>Uv(r)).join(",");return`${t.op}(${e})`}}function B2(t,e){return t instanceof pt?function(n,i){return i instanceof pt&&n.op===i.op&&n.field.isEqual(i.field)&&Cn(n.value,i.value)}(t,e):t instanceof dn?function(n,i){return i instanceof dn&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((o,a,s)=>o&&B2(a,i.filters[s]),!0):!1}(t,e):void fe(19439)}function U2(t){return t instanceof pt?function(r){return`${r.field.canonicalString()} ${r.op} ${Ps(r.value)}`}(t):t instanceof dn?function(r){return r.op.toString()+" {"+r.getFilters().map(U2).join(" ,")+"}"}(t):"Filter"}class l5 extends pt{constructor(e,r,n){super(e,r,n),this.key=le.fromName(n.referenceValue)}matches(e){const r=le.comparator(e.key,this.key);return this.matchesComparison(r)}}class u5 extends pt{constructor(e,r){super(e,"in",r),this.keys=z2("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class c5 extends pt{constructor(e,r){super(e,"not-in",r),this.keys=z2("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function z2(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>le.fromName(n.referenceValue))}class f5 extends pt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return L_(r)&&ic(r.arrayValue,this.value)}}class d5 extends pt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&ic(this.value.arrayValue,r)}}class h5 extends pt{constructor(e,r){super(e,"not-in",r)}matches(e){if(ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!ic(this.value.arrayValue,r)}}class p5 extends pt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!L_(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>ic(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e,r=null,n=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.Ie=null}}function kS(t,e=null,r=[],n=[],i=null,o=null,a=null){return new m5(t,e,r,n,i,o,a)}function V_(t){const e=me(t);if(e.Ie===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Uv(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),em(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Ps(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Ps(n)).join(",")),e.Ie=r}return e.Ie}function F_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!a5(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!B2(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!CS(t.startAt,e.startAt)&&CS(t.endAt,e.endAt)}function zv(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,r=null,n=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function g5(t,e,r,n,i,o,a,s){return new ul(t,e,r,n,i,o,a,s)}function B_(t){return new ul(t)}function NS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function W2(t){return t.collectionGroup!==null}function Au(t){const e=me(t);if(e.Ee===null){e.Ee=[];const r=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),r.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new wt(jt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(o=>{r.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new oc(o,n))}),r.has(jt.keyField().canonicalString())||e.Ee.push(new oc(jt.keyField(),n))}return e.Ee}function An(t){const e=me(t);return e.de||(e.de=y5(e,Au(t))),e.de}function y5(t,e){if(t.limitType==="F")return kS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new oc(i.field,o)});const r=t.endAt?new wh(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new wh(t.startAt.position,t.startAt.inclusive):null;return kS(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Wv(t,e){const r=t.filters.concat([e]);return new ul(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function xh(t,e,r){return new ul(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function rm(t,e){return F_(An(t),An(e))&&t.limitType===e.limitType}function H2(t){return`${V_(An(t))}|lt:${t.limitType}`}function Da(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>U2(i)).join(", ")}]`),em(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Ps(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Ps(i)).join(",")),`Target(${n})`}(An(t))}; limitType=${t.limitType})`}function nm(t,e){return e.isFoundDocument()&&function(n,i){const o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):le.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,i){for(const o of Au(n))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const o of n.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(a,s,l){const u=OS(a,s,l);return a.inclusive?u<=0:u<0}(n.startAt,Au(n),i)||n.endAt&&!function(a,s,l){const u=OS(a,s,l);return a.inclusive?u>=0:u>0}(n.endAt,Au(n),i))}(t,e)}function v5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function q2(t){return(e,r)=>{let n=!1;for(const i of Au(t)){const o=b5(i,e,r);if(o!==0)return o;n=n||i.field.isKeyField()}return 0}}function b5(t,e,r){const n=t.field.isKeyField()?le.comparator(e.key,r.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?As(l,u):fe(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return fe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,o]of n)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mo(this.inner,(r,n)=>{for(const[i,o]of n)e(i,o)})}isEmpty(){return O2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5=new tt(le.comparator);function si(){return _5}const G2=new tt(le.comparator);function cu(...t){let e=G2;for(const r of t)e=e.insert(r.key,r);return e}function K2(t){let e=G2;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Fo(){return Pu()}function X2(){return Pu()}function Pu(){return new ya(t=>t.toString(),(t,e)=>t.isEqual(e))}const w5=new tt(le.comparator),x5=new wt(le.comparator);function xe(...t){let e=x5;for(const r of t)e=e.add(r);return e}const E5=new wt(ye);function S5(){return E5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function Y2(t){return{integerValue:""+t}}function T5(t,e){return JF(e)?Y2(e):U_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(){this._=void 0}}function A5(t,e,r){return t instanceof ac?function(i,o){const a={fields:{[N2]:{stringValue:k2},[R2]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&$_(o)&&(o=tm(o)),o&&(a.fields[j2]=o),{mapValue:a}}(r,e):t instanceof sc?J2(t,e):t instanceof lc?Z2(t,e):function(i,o){const a=Q2(i,o),s=jS(a)+jS(i.Re);return Bv(a)&&Bv(i.Re)?Y2(s):U_(i.serializer,s)}(t,e)}function P5(t,e,r){return t instanceof sc?J2(t,e):t instanceof lc?Z2(t,e):r}function Q2(t,e){return t instanceof Eh?function(n){return Bv(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}class ac extends im{}class sc extends im{constructor(e){super(),this.elements=e}}function J2(t,e){const r=eN(e);for(const n of t.elements)r.some(i=>Cn(i,n))||r.push(n);return{arrayValue:{values:r}}}class lc extends im{constructor(e){super(),this.elements=e}}function Z2(t,e){let r=eN(e);for(const n of t.elements)r=r.filter(i=>!Cn(i,n));return{arrayValue:{values:r}}}class Eh extends im{constructor(e,r){super(),this.serializer=e,this.Re=r}}function jS(t){return st(t.integerValue||t.doubleValue)}function eN(t){return L_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,r){this.field=e,this.transform=r}}function O5(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof sc&&i instanceof sc||n instanceof lc&&i instanceof lc?Ts(n.elements,i.elements,Cn):n instanceof Eh&&i instanceof Eh?Cn(n.Re,i.Re):n instanceof ac&&i instanceof ac}(t.transform,e.transform)}class C5{constructor(e,r){this.version=e,this.transformResults=r}}class un{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new un}static exists(e){return new un(void 0,e)}static updateTime(e){return new un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ld(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class om{}function tN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new nN(t.key,un.none()):new rf(t.key,t.data,un.none());{const r=t.data,n=fr.empty();let i=new wt(jt.comparator);for(let o of e.fields)if(!i.has(o)){let a=r.field(o);a===null&&o.length>1&&(o=o.popLast(),a=r.field(o)),a===null?n.delete(o):n.set(o,a),i=i.add(o)}return new go(t.key,n,new Ar(i.toArray()),un.none())}}function k5(t,e,r){t instanceof rf?function(i,o,a){const s=i.value.clone(),l=DS(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,r):t instanceof go?function(i,o,a){if(!Ld(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=DS(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(rN(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,r):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,r)}function Iu(t,e,r,n){return t instanceof rf?function(o,a,s,l){if(!Ld(o.precondition,a))return s;const u=o.value.clone(),c=MS(o.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof go?function(o,a,s,l){if(!Ld(o.precondition,a))return s;const u=MS(o.fieldTransforms,l,a),c=a.data;return c.setAll(rN(o)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,r,n):function(o,a,s){return Ld(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,r)}function N5(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),o=Q2(n.transform,i||null);o!=null&&(r===null&&(r=fr.empty()),r.set(n.field,o))}return r||null}function RS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Ts(n,i,(o,a)=>O5(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class rf extends om{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class go extends om{constructor(e,r,n,i,o=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function rN(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function DS(t,e,r){const n=new Map;Ne(t.length===r.length,32656,{Ve:r.length,me:t.length});for(let i=0;i<r.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);n.set(o.field,P5(a,s,r[i]))}return n}function MS(t,e,r){const n=new Map;for(const i of t){const o=i.transform,a=r.data.field(i.field);n.set(i.field,A5(o,a,e))}return n}class nN extends om{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j5 extends om{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&k5(o,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Iu(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Iu(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=X2();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=r.has(i.key)?null:s;const l=tN(a,s);l!==null&&n.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(he.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),xe())}isEqual(e){return this.batchId===e.batchId&&Ts(this.mutations,e.mutations,(r,n)=>RS(r,n))&&Ts(this.baseMutations,e.baseMutations,(r,n)=>RS(r,n))}}class z_{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Ne(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let i=function(){return w5}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,n[a].version);return new z_(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,Ae;function $5(t){switch(t){case X.OK:return fe(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return fe(15467,{code:t})}}function iN(t){if(t===void 0)return ai("GRPC error has no .code"),X.UNKNOWN;switch(t){case ft.OK:return X.OK;case ft.CANCELLED:return X.CANCELLED;case ft.UNKNOWN:return X.UNKNOWN;case ft.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ft.INTERNAL:return X.INTERNAL;case ft.UNAVAILABLE:return X.UNAVAILABLE;case ft.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ft.NOT_FOUND:return X.NOT_FOUND;case ft.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ft.ABORTED:return X.ABORTED;case ft.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ft.DATA_LOSS:return X.DATA_LOSS;default:return fe(39323,{code:t})}}(Ae=ft||(ft={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=new Yi([4294967295,4294967295],0);function $S(t){const e=A2().encode(t),r=new v2;return r.update(e),new Uint8Array(r.digest())}function LS(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Yi([r,n],0),new Yi([i,o],0)]}class W_{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new fu(`Invalid padding: ${r}`);if(n<0)throw new fu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new fu(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new fu(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*e.length-r,this.ye=Yi.fromNumber(this.pe)}we(e,r,n){let i=e.add(r.multiply(Yi.fromNumber(n)));return i.compare(L5)===1&&(i=new Yi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const r=$S(e),[n,i]=LS(r);for(let o=0;o<this.hashCount;o++){const a=this.we(n,i,o);if(!this.be(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new W_(o,i,r);return n.forEach(s=>a.insert(s)),a}insert(e){if(this.pe===0)return;const r=$S(e),[n,i]=LS(r);for(let o=0;o<this.hashCount;o++){const a=this.we(n,i,o);this.Se(a)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,r,n,i,o){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,nf.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new am(he.min(),i,new tt(ye),si(),xe())}}class nf{constructor(e,r,n,i,o){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new nf(n,r,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,r,n,i){this.De=e,this.removedTargetIds=r,this.key=n,this.ve=i}}class oN{constructor(e,r){this.targetId=e,this.Ce=r}}class aN{constructor(e,r,n=$t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class VS{constructor(){this.Fe=0,this.Me=FS(),this.xe=$t.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=xe(),r=xe(),n=xe();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:fe(38017,{changeType:o})}}),new nf(this.xe,this.Oe,e,r,n)}Qe(){this.Ne=!1,this.Me=FS()}$e(e,r){this.Ne=!0,this.Me=this.Me.insert(e,r)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ne(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class V5{constructor(e){this.ze=e,this.je=new Map,this.He=si(),this.Je=rd(),this.Ye=rd(),this.Ze=new tt(ye)}Xe(e){for(const r of e.De)e.ve&&e.ve.isFoundDocument()?this.et(r,e.ve):this.tt(r,e.key,e.ve);for(const r of e.removedTargetIds)this.tt(r,e.key,e.ve)}nt(e){this.forEachTarget(e,r=>{const n=this.rt(r);switch(e.state){case 0:this.it(r)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(r);break;case 3:this.it(r)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(r)&&(this.st(r),n.ke(e.resumeToken));break;default:fe(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.je.forEach((n,i)=>{this.it(i)&&r(i)})}ot(e){const r=e.targetId,n=e.Ce.count,i=this._t(r);if(i){const o=i.target;if(zv(o))if(n===0){const a=new le(o.path);this.tt(r,a,Kt.newNoDocument(a,he.min()))}else Ne(n===1,20013,{expectedCount:n});else{const a=this.ut(r);if(a!==n){const s=this.ct(e),l=s?this.lt(s,e,a):1;if(l!==0){this.st(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,u)}}}}}ct(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:o=0}=r;let a,s;try{a=io(n).toUint8Array()}catch(l){if(l instanceof C2)return Ss("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new W_(a,i,o)}catch(l){return Ss(l instanceof fu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.pe===0?null:s}lt(e,r,n){return r.Ce.count===n-this.Tt(e,r.targetId)?0:2}Tt(e,r){const n=this.ze.getRemoteKeysForTarget(r);let i=0;return n.forEach(o=>{const a=this.ze.Pt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.tt(r,o,null),i++)}),i}It(e){const r=new Map;this.je.forEach((o,a)=>{const s=this._t(a);if(s){if(o.current&&zv(s.target)){const l=new le(s.target.path);this.Et(l).has(a)||this.dt(a,l)||this.tt(a,l,Kt.newNoDocument(l,e))}o.Le&&(r.set(a,o.qe()),o.Qe())}});let n=xe();this.Ye.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(n=n.add(o))}),this.He.forEach((o,a)=>a.setReadTime(e));const i=new am(e,r,this.Ze,this.He,n);return this.He=si(),this.Je=rd(),this.Ye=rd(),this.Ze=new tt(ye),i}et(e,r){if(!this.it(e))return;const n=this.dt(e,r.key)?2:0;this.rt(e).$e(r.key,n),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(e)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(e))}tt(e,r,n){if(!this.it(e))return;const i=this.rt(e);this.dt(e,r)?i.$e(r,1):i.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(e)),this.Ye=this.Ye.insert(r,this.At(r).add(e)),n&&(this.He=this.He.insert(r,n))}removeTarget(e){this.je.delete(e)}ut(e){const r=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let r=this.je.get(e);return r||(r=new VS,this.je.set(e,r)),r}At(e){let r=this.Ye.get(e);return r||(r=new wt(ye),this.Ye=this.Ye.insert(e,r)),r}Et(e){let r=this.Je.get(e);return r||(r=new wt(ye),this.Je=this.Je.insert(e,r)),r}it(e){const r=this._t(e)!==null;return r||ne("WatchChangeAggregator","Detected inactive target",e),r}_t(e){const r=this.je.get(e);return r&&r.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new VS),this.ze.getRemoteKeysForTarget(e).forEach(r=>{this.tt(e,r,null)})}dt(e,r){return this.ze.getRemoteKeysForTarget(e).has(r)}}function rd(){return new tt(le.comparator)}function FS(){return new tt(le.comparator)}const F5={asc:"ASCENDING",desc:"DESCENDING"},B5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},U5={and:"AND",or:"OR"};class z5{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Hv(t,e){return t.useProto3Json||em(e)?e:{value:e}}function Sh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function W5(t,e){return Sh(t,e.toTimestamp())}function Pn(t){return Ne(!!t,49232),he.fromTimestamp(function(r){const n=no(r);return new _t(n.seconds,n.nanos)}(t))}function H_(t,e){return qv(t,e).canonicalString()}function qv(t,e){const r=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function lN(t){const e=qe.fromString(t);return Ne(hN(e),10190,{key:e.toString()}),e}function Gv(t,e){return H_(t.databaseId,e.path)}function ny(t,e){const r=lN(e);if(r.get(1)!==t.databaseId.projectId)throw new ie(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new ie(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new le(cN(r))}function uN(t,e){return H_(t.databaseId,e)}function H5(t){const e=lN(t);return e.length===4?qe.emptyPath():cN(e)}function Kv(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cN(t){return Ne(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function BS(t,e,r){return{name:Gv(t,e),fields:r.value.mapValue.fields}}function q5(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:fe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Ne(c===void 0||typeof c=="string",58123),$t.fromBase64String(c||"")):(Ne(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),$t.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const c=u.code===void 0?X.UNKNOWN:iN(u.code);return new ie(c,u.message||"")}(a);r=new aN(n,i,o,s||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=ny(t,n.document.name),o=Pn(n.document.updateTime),a=n.document.createTime?Pn(n.document.createTime):he.min(),s=new fr({mapValue:{fields:n.document.fields}}),l=Kt.newFoundDocument(i,o,a,s),u=n.targetIds||[],c=n.removedTargetIds||[];r=new Vd(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=ny(t,n.document),o=n.readTime?Pn(n.readTime):he.min(),a=Kt.newNoDocument(i,o),s=n.removedTargetIds||[];r=new Vd([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=ny(t,n.document),o=n.removedTargetIds||[];r=new Vd([],o,i,null)}else{if(!("filter"in e))return fe(11601,{Vt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:o}=n,a=new M5(i,o),s=n.targetId;r=new oN(s,a)}}return r}function G5(t,e){let r;if(e instanceof rf)r={update:BS(t,e.key,e.value)};else if(e instanceof nN)r={delete:Gv(t,e.key)};else if(e instanceof go)r={update:BS(t,e.key,e.data),updateMask:rB(e.fieldMask)};else{if(!(e instanceof j5))return fe(16599,{ft:e.type});r={verify:Gv(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(o,a){const s=a.transform;if(s instanceof ac)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof sc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof lc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Eh)return{fieldPath:a.field.canonicalString(),increment:s.Re};throw fe(20930,{transform:a.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:W5(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:fe(27497)}(t,e.precondition)),r}function K5(t,e){return t&&t.length>0?(Ne(e!==void 0,14353),t.map(r=>function(i,o){let a=i.updateTime?Pn(i.updateTime):Pn(o);return a.isEqual(he.min())&&(a=Pn(o)),new C5(a,i.transformResults||[])}(r,e))):[]}function X5(t,e){return{documents:[uN(t,e.path)]}}function Y5(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=uN(t,i);const o=function(u){if(u.length!==0)return dN(dn.create(u,"and"))}(e.filters);o&&(r.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Ma(h.field),direction:Z5(h.dir)}}(c))}(e.orderBy);a&&(r.structuredQuery.orderBy=a);const s=Hv(t,e.limit);return s!==null&&(r.structuredQuery.limit=s),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:r,parent:i}}function Q5(t){let e=H5(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Ne(n===1,65062);const c=r.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];r.where&&(o=function(d){const h=fN(d);return h instanceof dn&&F2(h)?h.getFilters():[h]}(r.where));let a=[];r.orderBy&&(a=function(d){return d.map(h=>function(g){return new oc($a(g.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(r.orderBy));let s=null;r.limit&&(s=function(d){let h;return h=typeof d=="object"?d.value:d,em(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new wh(p,h)}(r.startAt));let u=null;return r.endAt&&(u=function(d){const h=!d.before,p=d.values||[];return new wh(p,h)}(r.endAt)),g5(e,i,a,o,s,"F",l,u)}function J5(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function fN(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=$a(r.unaryFilter.field);return pt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=$a(r.unaryFilter.field);return pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=$a(r.unaryFilter.field);return pt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=$a(r.unaryFilter.field);return pt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fe(61313);default:return fe(60726)}}(t):t.fieldFilter!==void 0?function(r){return pt.create($a(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fe(58110);default:return fe(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return dn.create(r.compositeFilter.filters.map(n=>fN(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return fe(1026)}}(r.compositeFilter.op))}(t):fe(30097,{filter:t})}function Z5(t){return F5[t]}function eB(t){return B5[t]}function tB(t){return U5[t]}function Ma(t){return{fieldPath:t.canonicalString()}}function $a(t){return jt.fromServerFormat(t.fieldPath)}function dN(t){return t instanceof pt?function(r){if(r.op==="=="){if(IS(r.value))return{unaryFilter:{field:Ma(r.field),op:"IS_NAN"}};if(PS(r.value))return{unaryFilter:{field:Ma(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(IS(r.value))return{unaryFilter:{field:Ma(r.field),op:"IS_NOT_NAN"}};if(PS(r.value))return{unaryFilter:{field:Ma(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ma(r.field),op:eB(r.op),value:r.value}}}(t):t instanceof dn?function(r){const n=r.getFilters().map(i=>dN(i));return n.length===1?n[0]:{compositeFilter:{op:tB(r.op),filters:n}}}(t):fe(54877,{filter:t})}function rB(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function hN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,r,n,i,o=he.min(),a=he.min(),s=$t.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new $i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e){this.wt=e}}function iB(t){const e=Q5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(){this.Cn=new aB}addToCollectionParentIndex(e,r){return this.Cn.add(r),Y.resolve()}getCollectionParents(e,r){return Y.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return Y.resolve()}deleteFieldIndex(e,r){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,r){return Y.resolve()}getDocumentsMatchingTarget(e,r){return Y.resolve(null)}getIndexType(e,r){return Y.resolve(0)}getFieldIndexes(e,r){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,r){return Y.resolve(ro.min())}getMinOffsetFromCollectionGroup(e,r){return Y.resolve(ro.min())}updateCollectionGroup(e,r,n){return Y.resolve()}updateIndexEntries(e,r){return Y.resolve()}}class aB{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new wt(qe.comparator),o=!i.has(n);return this.index[r]=i.add(n),o}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new wt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pN=41943040;class lr{static withCacheSize(e){return new lr(e,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr.DEFAULT_COLLECTION_PERCENTILE=10,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lr.DEFAULT=new lr(pN,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lr.DISABLED=new lr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Is(0)}static lr(){return new Is(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="LruGarbageCollector",sB=1048576;function WS([t,e],[r,n]){const i=ye(t,r);return i===0?ye(e,n):i}class lB{constructor(e){this.Er=e,this.buffer=new wt(WS),this.dr=0}Ar(){return++this.dr}Rr(e){const r=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();WS(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class uB{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ne(zS,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){ll(r)?ne(zS,"Ignoring IndexedDB error during garbage collection: ",r):await sl(r)}await this.mr(3e5)})}}class cB{constructor(e,r){this.gr=e,this.params=r}calculateTargetCount(e,r){return this.gr.pr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return Y.resolve(Zp.le);const n=new lB(r);return this.gr.forEachTarget(e,i=>n.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>n.Rr(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.gr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.gr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(US)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),US):this.wr(e,r))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,r){let n,i,o,a,s,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,a=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(n=d,s=Date.now(),this.removeTargets(e,n,r))).next(d=>(o=d,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(d=>(u=Date.now(),Ra()<=we.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-c}ms
	Determined least recently used ${i} in `+(s-a)+`ms
	Removed ${o} targets in `+(l-s)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:d})))}}function fB(t,e){return new cB(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(){this.changes=new ya(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Y.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Iu(n.mutation,i,Ar.empty(),_t.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,xe()).next(()=>n))}getLocalViewOfDocuments(e,r,n=xe()){const i=Fo();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(o=>{let a=cu();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,r){const n=Fo();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,xe()))}populateOverlays(e,r,n){const i=[];return n.forEach(o=>{r.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{r.set(a,s)})})}computeViews(e,r,n,i){let o=si();const a=Pu(),s=function(){return Pu()}();return r.forEach((l,u)=>{const c=n.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof go)?o=o.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),Iu(c.mutation,u,c.mutation.getFieldMask(),_t.now())):a.set(u.key,Ar.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>a.set(u,c)),r.forEach((u,c)=>{var d;return s.set(u,new hB(c,(d=a.get(u))!==null&&d!==void 0?d:null))}),s))}recalculateAndSaveOverlays(e,r){const n=Pu();let i=new tt((a,s)=>a-s),o=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let c=n.get(l)||Ar.empty();c=s.applyToLocalView(u,c),n.set(l,c);const d=(i.get(s.batchId)||xe()).add(l);i=i.insert(s.batchId,d)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,d=X2();c.forEach(h=>{if(!o.has(h)){const p=tN(r.get(h),n.get(h));p!==null&&d.set(h,p),o=o.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Y.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(a){return le.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):W2(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-o.size):Y.resolve(Fo());let s=tc,l=o;return a.next(u=>Y.forEach(u,(c,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),o.get(c)?Y.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,xe())).next(c=>({batchId:s,changes:K2(c)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new le(r)).next(n=>{let i=cu();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const o=r.collectionGroup;let a=cu();return this.indexManager.getCollectionParents(e,o).next(s=>Y.forEach(s,l=>{const u=function(d,h){return new ul(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(c=>{c.forEach((d,h)=>{a=a.insert(d,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,r,n,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,o,i))).next(a=>{o.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,Kt.newInvalidDocument(c)))});let s=cu();return a.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Iu(c.mutation,u,Ar.empty(),_t.now()),nm(r,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,r){return Y.resolve(this.kr.get(r))}saveBundleMetadata(e,r){return this.kr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Pn(i.createTime)}}(r)),Y.resolve()}getNamedQuery(e,r){return Y.resolve(this.qr.get(r))}saveNamedQuery(e,r){return this.qr.set(r.name,function(i){return{name:i.name,query:iB(i.bundledQuery),readTime:Pn(i.readTime)}}(r)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(){this.overlays=new tt(le.comparator),this.Qr=new Map}getOverlay(e,r){return Y.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Fo();return Y.forEach(r,i=>this.getOverlay(e,i).next(o=>{o!==null&&n.set(i,o)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,o)=>{this.St(e,r,o)}),Y.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Qr.get(n);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(n)),Y.resolve()}getOverlaysForCollection(e,r,n){const i=Fo(),o=r.length+1,a=new le(r.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>n&&i.set(l.getKey(),l)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let o=new tt((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let c=o.get(u.largestBatchId);c===null&&(c=Fo(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=Fo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return Y.resolve(s)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.Qr.get(i.largestBatchId).delete(n.key);this.Qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new D5(r,n));let o=this.Qr.get(r);o===void 0&&(o=xe(),this.Qr.set(r,o)),this.Qr.set(r,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.$r=new wt(Et.Ur),this.Kr=new wt(Et.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,r){const n=new Et(e,r);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.zr(new Et(e,r))}jr(e,r){e.forEach(n=>this.removeReference(n,r))}Hr(e){const r=new le(new qe([])),n=new Et(r,e),i=new Et(r,e+1),o=[];return this.Kr.forEachInRange([n,i],a=>{this.zr(a),o.push(a.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const r=new le(new qe([])),n=new Et(r,e),i=new Et(r,e+1);let o=xe();return this.Kr.forEachInRange([n,i],a=>{o=o.add(a.key)}),o}containsKey(e){const r=new Et(e,0),n=this.$r.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Et{constructor(e,r){this.key=e,this.Zr=r}static Ur(e,r){return le.comparator(e.key,r.key)||ye(e.Zr,r.Zr)}static Wr(e,r){return ye(e.Zr,r.Zr)||le.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.nr=1,this.Xr=new wt(Et.Ur)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new R5(o,r,n,i);this.mutationQueue.push(a);for(const s of i)this.Xr=this.Xr.add(new Et(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Y.resolve(a)}lookupMutationBatch(e,r){return Y.resolve(this.ei(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ti(n),o=i<0?0:i;return Y.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?M_:this.nr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Et(r,0),i=new Et(r,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([n,i],a=>{const s=this.ei(a.Zr);o.push(s)}),Y.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new wt(ye);return r.forEach(i=>{const o=new Et(i,0),a=new Et(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,a],s=>{n=n.add(s.Zr)})}),Y.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let o=n;le.isDocumentKey(o)||(o=o.child(""));const a=new Et(new le(o),0);let s=new wt(ye);return this.Xr.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.Zr)),!0)},a),Y.resolve(this.ni(s))}ni(e){const r=[];return e.forEach(n=>{const i=this.ei(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Ne(this.ri(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Xr;return Y.forEach(r.mutations,i=>{const o=new Et(i.key,r.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=n})}sr(e){}containsKey(e,r){const n=new Et(r,0),i=this.Xr.firstAfterOrEqual(n);return Y.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ri(e,r){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const r=this.ti(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(e){this.ii=e,this.docs=function(){return new tt(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),o=i?i.size:0,a=this.ii(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Y.resolve(n?n.document.mutableCopy():Kt.newInvalidDocument(r))}getEntries(e,r){let n=si();return r.forEach(i=>{const o=this.docs.get(i);n=n.insert(i,o?o.document.mutableCopy():Kt.newInvalidDocument(i))}),Y.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let o=si();const a=r.path,s=new le(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||KF(GF(c),n)<=0||(i.has(c.key)||nm(r,c))&&(o=o.insert(c.key,c.mutableCopy()))}return Y.resolve(o)}getAllFromCollectionGroup(e,r,n,i){fe(9500)}si(e,r){return Y.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new _B(this)}getSize(e){return Y.resolve(this.size)}}class _B extends dB{constructor(e){super(),this.Br=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Br.addEntry(e,i)):this.Br.removeEntry(n)}),Y.waitFor(r)}getFromCache(e,r){return this.Br.getEntry(e,r)}getAllFromCache(e,r){return this.Br.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(e){this.persistence=e,this.oi=new ya(r=>V_(r),F_),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this._i=0,this.ai=new q_,this.targetCount=0,this.ui=Is.cr()}forEachTarget(e,r){return this.oi.forEach((n,i)=>r(i)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this._i&&(this._i=r),Y.resolve()}Tr(e){this.oi.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ui=new Is(r),this.highestTargetId=r),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,r){return this.Tr(r),this.targetCount+=1,Y.resolve()}updateTargetData(e,r){return this.Tr(r),Y.resolve()}removeTargetData(e,r){return this.oi.delete(r.target),this.ai.Hr(r.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,r,n){let i=0;const o=[];return this.oi.forEach((a,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.oi.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),Y.waitFor(o).next(()=>i)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,r){const n=this.oi.get(r)||null;return Y.resolve(n)}addMatchingKeys(e,r,n){return this.ai.Gr(r,n),Y.resolve()}removeMatchingKeys(e,r,n){this.ai.jr(r,n);const i=this.persistence.referenceDelegate,o=[];return i&&r.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),Y.waitFor(o)}removeMatchingKeysForTargetId(e,r){return this.ai.Hr(r),Y.resolve()}getMatchingKeysForTargetId(e,r){const n=this.ai.Yr(r);return Y.resolve(n)}containsKey(e,r){return Y.resolve(this.ai.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,r){this.ci={},this.overlays={},this.li=new Zp(0),this.hi=!1,this.hi=!0,this.Pi=new yB,this.referenceDelegate=e(this),this.Ti=new wB(this),this.indexManager=new oB,this.remoteDocumentCache=function(i){return new bB(i)}(n=>this.referenceDelegate.Ii(n)),this.serializer=new nB(r),this.Ei=new mB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new gB,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ci[e.toKey()];return n||(n=new vB(r,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,r,n){ne("MemoryPersistence","Starting transaction:",e);const i=new xB(this.li.next());return this.referenceDelegate.di(),n(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,r){return Y.or(Object.values(this.ci).map(n=>()=>n.containsKey(e,r)))}}class xB extends YF{constructor(e){super(),this.currentSequenceNumber=e}}class G_{constructor(e){this.persistence=e,this.Vi=new q_,this.mi=null}static fi(e){return new G_(e)}get gi(){if(this.mi)return this.mi;throw fe(60996)}addReference(e,r,n){return this.Vi.addReference(n,r),this.gi.delete(n.toString()),Y.resolve()}removeReference(e,r,n){return this.Vi.removeReference(n,r),this.gi.add(n.toString()),Y.resolve()}markPotentiallyOrphaned(e,r){return this.gi.add(r.toString()),Y.resolve()}removeTarget(e,r){this.Vi.Hr(r.targetId).forEach(i=>this.gi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>n.removeTargetData(e,r))}di(){this.mi=new Set}Ai(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.gi,n=>{const i=le.fromPath(n);return this.pi(e,i).next(o=>{o||r.removeEntry(i,he.min())})}).next(()=>(this.mi=null,r.apply(e)))}updateLimboDocument(e,r){return this.pi(e,r).next(n=>{n?this.gi.delete(r.toString()):this.gi.add(r.toString())})}Ii(e){return 0}pi(e,r){return Y.or([()=>Y.resolve(this.Vi.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ri(e,r)])}}class Th{constructor(e,r){this.persistence=e,this.yi=new ya(n=>ZF(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=fB(this,r)}static fi(e,r){return new Th(e,r)}di(){}Ai(e){return Y.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}pr(e){const r=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}br(e){let r=0;return this.yr(e,n=>{r++}).next(()=>r)}yr(e,r){return Y.forEach(this.yi,(n,i)=>this.Dr(e,n,i).next(o=>o?Y.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,a=>this.Dr(e,a,r).next(s=>{s||(n++,o.removeEntry(a,he.min()))})).next(()=>o.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.yi.set(r,e.currentSequenceNumber),Y.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.yi.set(n,e.currentSequenceNumber),Y.resolve()}removeReference(e,r,n){return this.yi.set(n,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,r){return this.yi.set(r,e.currentSequenceNumber),Y.resolve()}Ii(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Md(e.data.value)),r}Dr(e,r,n){return Y.or([()=>this.persistence.Ri(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.yi.get(r);return Y.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.ds=n,this.As=i}static Rs(e,r){let n=xe(),i=xe();for(const o of r.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new K_(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return r3()?8:QF(Jt())>0?6:4}()}initialize(e,r){this.ys=e,this.indexManager=r,this.Vs=!0}getDocumentsMatchingQuery(e,r,n,i){const o={result:null};return this.ws(e,r).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.bs(e,r,i,n).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new EB;return this.Ss(e,r,a).next(s=>{if(o.result=s,this.fs)return this.Ds(e,r,a,s.size)})}).next(()=>o.result)}Ds(e,r,n,i){return n.documentReadCount<this.gs?(Ra()<=we.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",Da(r),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Y.resolve()):(Ra()<=we.DEBUG&&ne("QueryEngine","Query:",Da(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ps*i?(Ra()<=we.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",Da(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,An(r))):Y.resolve())}ws(e,r){if(NS(r))return Y.resolve(null);let n=An(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=xh(r,null,"F"),n=An(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const a=xe(...o);return this.ys.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,n).next(l=>{const u=this.vs(r,s);return this.Cs(r,u,a,l.readTime)?this.ws(e,xh(r,null,"F")):this.Fs(e,u,r,l)}))})))}bs(e,r,n,i){return NS(r)||i.isEqual(he.min())?Y.resolve(null):this.ys.getDocuments(e,n).next(o=>{const a=this.vs(r,o);return this.Cs(r,a,n,i)?Y.resolve(null):(Ra()<=we.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Da(r)),this.Fs(e,a,r,qF(i,tc)).next(s=>s))})}vs(e,r){let n=new wt(q2(e));return r.forEach((i,o)=>{nm(e,o)&&(n=n.add(o))}),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const o=e.limitType==="F"?r.last():r.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,r,n){return Ra()<=we.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",Da(r)),this.ys.getDocumentsMatchingQuery(e,r,ro.min(),n)}Fs(e,r,n,i){return this.ys.getDocumentsMatchingQuery(e,n,i).next(o=>(r.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="LocalStore",TB=3e8;class AB{constructor(e,r,n,i){this.persistence=e,this.Ms=r,this.serializer=i,this.xs=new tt(ye),this.Os=new ya(o=>V_(o),F_),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pB(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.xs))}}function PB(t,e,r,n){return new AB(t,e,r,n)}async function gN(t,e){const r=me(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(o=>(i=o,r.Ls(e),r.mutationQueue.getAllMutationBatches(n))).next(o=>{const a=[],s=[];let l=xe();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return r.localDocuments.getDocuments(n,l).next(u=>({ks:u,removedBatchIds:a,addedBatchIds:s}))})})}function IB(t,e){const r=me(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),o=r.Bs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const d=u.batch,h=d.keys();let p=Y.resolve();return h.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(y=>{const x=u.docVersions.get(g);Ne(x!==null,48541),y.version.compareTo(x)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,d))}(r,n,e,o).next(()=>o.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(s){let l=xe();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function yN(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ti.getLastRemoteSnapshotVersion(r))}function OB(t,e){const r=me(t),n=e.snapshotVersion;let i=r.xs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=r.Bs.newChangeBuffer({trackRemovals:!0});i=r.xs;const s=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;s.push(r.Ti.removeMatchingKeys(o,c.removedDocuments,d).next(()=>r.Ti.addMatchingKeys(o,c.addedDocuments,d)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken($t.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,n)),i=i.insert(d,p),function(y,x,_){return y.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=TB?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,p,c)&&s.push(r.Ti.updateTargetData(o,p))});let l=si(),u=xe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(o,c))}),s.push(CB(o,a,e.documentUpdates).next(c=>{l=c.qs,u=c.Qs})),!n.isEqual(he.min())){const c=r.Ti.getLastRemoteSnapshotVersion(o).next(d=>r.Ti.setTargetsMetadata(o,o.currentSequenceNumber,n));s.push(c)}return Y.waitFor(s).next(()=>a.apply(o)).next(()=>r.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(r.xs=i,o))}function CB(t,e,r){let n=xe(),i=xe();return r.forEach(o=>n=n.add(o)),e.getEntries(t,n).next(o=>{let a=si();return r.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(he.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):ne(X_,"Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{qs:a,Qs:i}})}function kB(t,e){const r=me(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=M_),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function NB(t,e){const r=me(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ti.getTargetData(n,e).next(o=>o?(i=o,Y.resolve(i)):r.Ti.allocateTargetId(n).next(a=>(i=new $i(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Ti.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.xs.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.xs=r.xs.insert(n.targetId,n),r.Os.set(e,n.targetId)),n})}async function Xv(t,e,r){const n=me(t),i=n.xs.get(e),o=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",o,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!ll(a))throw a;ne(X_,`Failed to update sequence numbers for target ${e}: ${a}`)}n.xs=n.xs.remove(e),n.Os.delete(i.target)}function HS(t,e,r){const n=me(t);let i=he.min(),o=xe();return n.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const d=me(l),h=d.Os.get(c);return h!==void 0?Y.resolve(d.xs.get(h)):d.Ti.getTargetData(u,c)}(n,a,An(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.Ti.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>n.Ms.getDocumentsMatchingQuery(a,e,r?i:he.min(),r?o:xe())).next(s=>(jB(n,v5(e),s),{documents:s,$s:o})))}function jB(t,e,r){let n=t.Ns.get(e)||he.min();r.forEach((i,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),t.Ns.set(e,n)}class qS{constructor(){this.activeTargetIds=S5()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RB{constructor(){this.xo=new qS,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,r,n){this.Oo[e]=r}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new qS,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="ConnectivityMonitor";class KS{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ne(GS,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ne(GS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nd=null;function Yv(){return nd===null?nd=function(){return 268435456+Math.round(2147483648*Math.random())}():nd++,"0x"+nd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="RestConnection",MB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $B{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=r+"://"+e.host,this.Wo=`projects/${n}/databases/${i}`,this.Go=this.databaseId.database===bh?`project_id=${n}`:`project_id=${n}&database_id=${i}`}zo(e,r,n,i,o){const a=Yv(),s=this.jo(e,r.toUriEncodedString());ne(iy,`Sending RPC '${e}' ${a}:`,s,n);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,i,o);const{host:u}=new URL(s),c=nl(u);return this.Jo(e,s,l,n,c).then(d=>(ne(iy,`Received RPC '${e}' ${a}: `,d),d),d=>{throw Ss(iy,`RPC '${e}' ${a} failed with error: `,d,"url: ",s,"request:",n),d})}Yo(e,r,n,i,o,a){return this.zo(e,r,n,i,o)}Ho(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+al}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>e[o]=i),n&&n.headers.forEach((i,o)=>e[o]=i)}jo(e,r){const n=MB[e];return`${this.Ko}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class VB extends $B{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,o){const a=Yv();return new Promise((s,l)=>{const u=new b2;u.setWithCredentials(!0),u.listenOnce(_2.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Dd.NO_ERROR:const d=u.getResponseJson();ne(Wt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(d)),s(d);break;case Dd.TIMEOUT:ne(Wt,`RPC '${e}' ${a} timed out`),l(new ie(X.DEADLINE_EXCEEDED,"Request time out"));break;case Dd.HTTP_ERROR:const h=u.getStatus();if(ne(Wt,`RPC '${e}' ${a} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const y=function(_){const b=_.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(b)>=0?b:X.UNKNOWN}(g.status);l(new ie(y,g.message))}else l(new ie(X.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ie(X.UNAVAILABLE,"Connection failed."));break;default:fe(9055,{h_:e,streamId:a,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{ne(Wt,`RPC '${e}' ${a} completed.`)}});const c=JSON.stringify(i);ne(Wt,`RPC '${e}' ${a} sending request:`,i),u.send(r,"POST",c,n,15)})}I_(e,r,n){const i=Yv(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=E2(),s=x2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const c=o.join("");ne(Wt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=a.createWebChannel(c,l);this.E_(d);let h=!1,p=!1;const g=new LB({Zo:x=>{p?ne(Wt,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(h||(ne(Wt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),ne(Wt,`RPC '${e}' stream ${i} sending:`,x),d.send(x))},Xo:()=>d.close()}),y=(x,_,b)=>{x.listen(_,w=>{try{b(w)}catch(O){setTimeout(()=>{throw O},0)}})};return y(d,uu.EventType.OPEN,()=>{p||(ne(Wt,`RPC '${e}' stream ${i} transport opened.`),g.__())}),y(d,uu.EventType.CLOSE,()=>{p||(p=!0,ne(Wt,`RPC '${e}' stream ${i} transport closed`),g.u_(),this.d_(d))}),y(d,uu.EventType.ERROR,x=>{p||(p=!0,Ss(Wt,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),g.u_(new ie(X.UNAVAILABLE,"The operation could not be completed")))}),y(d,uu.EventType.MESSAGE,x=>{var _;if(!p){const b=x.data[0];Ne(!!b,16349);const w=b,O=(w==null?void 0:w.error)||((_=w[0])===null||_===void 0?void 0:_.error);if(O){ne(Wt,`RPC '${e}' stream ${i} received error:`,O);const T=O.status;let P=function(I){const N=ft[I];if(N!==void 0)return iN(N)}(T),E=O.message;P===void 0&&(P=X.INTERNAL,E="Unknown error status: "+T+" with message "+O.message),p=!0,g.u_(new ie(P,E)),d.close()}else ne(Wt,`RPC '${e}' stream ${i} received:`,b),g.c_(b)}}),y(s,w2.STAT_EVENT,x=>{x.stat===Lv.PROXY?ne(Wt,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Lv.NOPROXY&&ne(Wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.a_()},0),g}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(r=>r===e)}}function oy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(t){return new z5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,r,n=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=r,this.A_=n,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const r=Math.floor(this.m_+this.w_()),n=Math.max(0,Date.now()-this.g_),i=Math.max(0,r-n);i>0&&ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="PersistentStream";class bN{constructor(e,r,n,i,o,a,s,l){this.xi=e,this.S_=n,this.D_=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new vN(e,r)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,r){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():r&&r.code===X.RESOURCE_EXHAUSTED?(ai(r.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):r&&r.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(r)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),r=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.v_===r&&this.z_(n,i)},n=>{e(()=>{const i=new ie(X.UNKNOWN,"Fetching auth token failed: "+n.message);return this.j_(i)})})}z_(e,r){const n=this.G_(this.v_);this.stream=this.H_(e,r),this.stream.e_(()=>{n(()=>this.listener.e_())}),this.stream.n_(()=>{n(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{n(()=>this.j_(i))}),this.stream.onMessage(i=>{n(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ne(XS,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return r=>{this.xi.enqueueAndForget(()=>this.v_===e?r():(ne(XS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FB extends bN{constructor(e,r,n,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=o}H_(e,r){return this.connection.I_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const r=q5(this.serializer,e),n=function(o){if(!("targetChange"in o))return he.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?he.min():a.readTime?Pn(a.readTime):he.min()}(e);return this.listener.Y_(r,n)}Z_(e){const r={};r.database=Kv(this.serializer),r.addTarget=function(o,a){let s;const l=a.target;if(s=zv(l)?{documents:X5(o,l)}:{query:Y5(o,l).gt},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=sN(o,a.resumeToken);const u=Hv(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(he.min())>0){s.readTime=Sh(o,a.snapshotVersion.toTimestamp());const u=Hv(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const n=J5(this.serializer,e);n&&(r.labels=n),this.Q_(r)}X_(e){const r={};r.database=Kv(this.serializer),r.removeTarget=e,this.Q_(r)}}class BB extends bN{constructor(e,r,n,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,r){return this.connection.I_("Write",e,r)}J_(e){return Ne(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ne(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ne(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const r=K5(e.writeResults,e.commitTime),n=Pn(e.commitTime);return this.listener.ra(n,r)}ia(){const e={};e.database=Kv(this.serializer),this.Q_(e)}ta(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>G5(this.serializer,n))};this.Q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{}class zB extends UB{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new ie(X.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,r,n,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.zo(e,qv(r,n),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(X.UNKNOWN,o.toString())})}Yo(e,r,n,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Yo(e,qv(r,n),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ie(X.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class WB{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ai(r),this.ua=!1):ne("OnlineStateTracker",r)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="RemoteStore";class HB{constructor(e,r,n,i,o){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(a=>{n.enqueueAndForget(async()=>{va(this)&&(ne(aa,"Restarting streams for network reachability change."),await async function(l){const u=me(l);u.da.add(4),await of(u),u.Va.set("Unknown"),u.da.delete(4),await lm(u)}(this))})}),this.Va=new WB(n,i)}}async function lm(t){if(va(t))for(const e of t.Aa)await e(!0)}async function of(t){for(const e of t.Aa)await e(!1)}function _N(t,e){const r=me(t);r.Ea.has(e.targetId)||(r.Ea.set(e.targetId,e),Z_(r)?J_(r):cl(r).N_()&&Q_(r,e))}function Y_(t,e){const r=me(t),n=cl(r);r.Ea.delete(e),n.N_()&&wN(r,e),r.Ea.size===0&&(n.N_()?n.k_():va(r)&&r.Va.set("Unknown"))}function Q_(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}cl(t).Z_(e)}function wN(t,e){t.ma.Ke(e),cl(t).X_(e)}function J_(t){t.ma=new V5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),cl(t).start(),t.Va.ca()}function Z_(t){return va(t)&&!cl(t).O_()&&t.Ea.size>0}function va(t){return me(t).da.size===0}function xN(t){t.ma=void 0}async function qB(t){t.Va.set("Online")}async function GB(t){t.Ea.forEach((e,r)=>{Q_(t,e)})}async function KB(t,e){xN(t),Z_(t)?(t.Va.Pa(e),J_(t)):t.Va.set("Unknown")}async function XB(t,e,r){if(t.Va.set("Online"),e instanceof aN&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.Ea.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.Ea.delete(s),i.ma.removeTarget(s))}(t,e)}catch(n){ne(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Ah(t,n)}else if(e instanceof Vd?t.ma.Xe(e):e instanceof oN?t.ma.ot(e):t.ma.nt(e),!r.isEqual(he.min()))try{const n=await yN(t.localStore);r.compareTo(n)>=0&&await function(o,a){const s=o.ma.It(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.Ea.get(u);c&&o.Ea.set(u,c.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const c=o.Ea.get(l);if(!c)return;o.Ea.set(l,c.withResumeToken($t.EMPTY_BYTE_STRING,c.snapshotVersion)),wN(o,l);const d=new $i(c.target,l,u,c.sequenceNumber);Q_(o,d)}),o.remoteSyncer.applyRemoteEvent(s)}(t,r)}catch(n){ne(aa,"Failed to raise snapshot:",n),await Ah(t,n)}}async function Ah(t,e,r){if(!ll(e))throw e;t.da.add(1),await of(t),t.Va.set("Offline"),r||(r=()=>yN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne(aa,"Retrying IndexedDB access"),await r(),t.da.delete(1),await lm(t)})}function EN(t,e){return e().catch(r=>Ah(t,r,e))}async function um(t){const e=me(t),r=ao(e);let n=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:M_;for(;YB(e);)try{const i=await kB(e.localStore,n);if(i===null){e.Ia.length===0&&r.k_();break}n=i.batchId,QB(e,i)}catch(i){await Ah(e,i)}SN(e)&&TN(e)}function YB(t){return va(t)&&t.Ia.length<10}function QB(t,e){t.Ia.push(e);const r=ao(t);r.N_()&&r.ea&&r.ta(e.mutations)}function SN(t){return va(t)&&!ao(t).O_()&&t.Ia.length>0}function TN(t){ao(t).start()}async function JB(t){ao(t).ia()}async function ZB(t){const e=ao(t);for(const r of t.Ia)e.ta(r.mutations)}async function eU(t,e,r){const n=t.Ia.shift(),i=z_.from(n,e,r);await EN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await um(t)}async function tU(t,e){e&&ao(t).ea&&await async function(n,i){if(function(a){return $5(a)&&a!==X.ABORTED}(i.code)){const o=n.Ia.shift();ao(n).L_(),await EN(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i)),await um(n)}}(t,e),SN(t)&&TN(t)}async function YS(t,e){const r=me(t);r.asyncQueue.verifyOperationInProgress(),ne(aa,"RemoteStore received new credentials");const n=va(r);r.da.add(3),await of(r),n&&r.Va.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.da.delete(3),await lm(r)}async function rU(t,e){const r=me(t);e?(r.da.delete(2),await lm(r)):e||(r.da.add(2),await of(r),r.Va.set("Unknown"))}function cl(t){return t.fa||(t.fa=function(r,n,i){const o=me(r);return o.oa(),new FB(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:qB.bind(null,t),n_:GB.bind(null,t),i_:KB.bind(null,t),Y_:XB.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),Z_(t)?J_(t):t.Va.set("Unknown")):(await t.fa.stop(),xN(t))})),t.fa}function ao(t){return t.ga||(t.ga=function(r,n,i){const o=me(r);return o.oa(),new BB(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:JB.bind(null,t),i_:tU.bind(null,t),na:ZB.bind(null,t),ra:eU.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await um(t)):(await t.ga.stop(),t.Ia.length>0&&(ne(aa,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,r,n,i,o){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=o,this.deferred=new Yn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,o){const a=Date.now()+n,s=new ew(e,r,a,i,o);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tw(t,e){if(ai("AsyncQueue",`${e}: ${t}`),ll(t))return new ie(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{static emptySet(e){return new us(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||le.comparator(r.key,n.key):(r,n)=>le.comparator(r.key,n.key),this.keyedMap=cu(),this.sortedSet=new tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof us)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new us;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this.pa=new tt(le.comparator)}track(e){const r=e.doc.key,n=this.pa.get(r);n?e.type!==0&&n.type===3?this.pa=this.pa.insert(r,e):e.type===3&&n.type!==1?this.pa=this.pa.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.pa=this.pa.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.pa=this.pa.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.pa=this.pa.remove(r):e.type===1&&n.type===2?this.pa=this.pa.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.pa=this.pa.insert(r,{type:2,doc:e.doc}):fe(63341,{Vt:e,ya:n}):this.pa=this.pa.insert(r,e)}wa(){const e=[];return this.pa.inorderTraversal((r,n)=>{e.push(n)}),e}}class Os{constructor(e,r,n,i,o,a,s,l,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,o){const a=[];return r.forEach(s=>{a.push({type:0,doc:s})}),new Os(e,r,us.emptySet(r),a,n,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class iU{constructor(){this.queries=JS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=me(r),o=i.queries;i.queries=JS(),o.forEach((a,s)=>{for(const l of s.Sa)l.onError(n)})})(this,new ie(X.ABORTED,"Firestore shutting down"))}}function JS(){return new ya(t=>H2(t),rm)}async function AN(t,e){const r=me(t);let n=3;const i=e.query;let o=r.queries.get(i);o?!o.Da()&&e.va()&&(n=2):(o=new nU,n=e.va()?0:1);try{switch(n){case 0:o.ba=await r.onListen(i,!0);break;case 1:o.ba=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const s=tw(a,`Initialization of query '${Da(e.query)}' failed`);return void e.onError(s)}r.queries.set(i,o),o.Sa.push(e),e.Fa(r.onlineState),o.ba&&e.Ma(o.ba)&&rw(r)}async function PN(t,e){const r=me(t),n=e.query;let i=3;const o=r.queries.get(n);if(o){const a=o.Sa.indexOf(e);a>=0&&(o.Sa.splice(a,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function oU(t,e){const r=me(t);let n=!1;for(const i of e){const o=i.query,a=r.queries.get(o);if(a){for(const s of a.Sa)s.Ma(i)&&(n=!0);a.ba=i}}n&&rw(r)}function aU(t,e,r){const n=me(t),i=n.queries.get(e);if(i)for(const o of i.Sa)o.onError(r);n.queries.delete(e)}function rw(t){t.Ca.forEach(e=>{e.next()})}var Qv,ZS;(ZS=Qv||(Qv={})).xa="default",ZS.Cache="cache";class IN{constructor(e,r,n){this.query=e,this.Oa=r,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=n||{}}Ma(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Os(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Na?this.La(e)&&(this.Oa.next(e),r=!0):this.ka(e,this.onlineState)&&(this.qa(e),r=!0),this.Ba=e,r}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let r=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),r=!0),r}ka(e,r){if(!e.fromCache||!this.va())return!0;const n=r!=="Offline";return(!this.options.Qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}La(e){if(e.docChanges.length>0)return!0;const r=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}qa(e){e=Os.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Qv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.key=e}}class CN{constructor(e){this.key=e}}class sU{constructor(e,r){this.query=e,this.Ha=r,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=xe(),this.mutatedKeys=xe(),this.Za=q2(e),this.Xa=new us(this.Za)}get eu(){return this.Ha}tu(e,r){const n=r?r.nu:new QS,i=r?r.Xa:this.Xa;let o=r?r.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),p=nm(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;h&&p?h.data.isEqual(p.data)?g!==y&&(n.track({type:3,doc:p}),x=!0):this.ru(h,p)||(n.track({type:2,doc:p}),x=!0,(l&&this.Za(p,l)>0||u&&this.Za(p,u)<0)&&(s=!0)):!h&&p?(n.track({type:0,doc:p}),x=!0):h&&!p&&(n.track({type:1,doc:h}),x=!0,(l||u)&&(s=!0)),x&&(p?(a=a.add(p),o=y?o.add(c):o.delete(c)):(a=a.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),n.track({type:1,doc:c})}return{Xa:a,nu:n,Cs:s,mutatedKeys:o}}ru(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const a=e.nu.wa();a.sort((c,d)=>function(p,g){const y=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe(20277,{Vt:x})}};return y(p)-y(g)}(c.type,d.type)||this.Za(c.doc,d.doc)),this.iu(n),i=i!=null&&i;const s=r&&!i?this.su():[],l=this.Ya.size===0&&this.current&&!i?1:0,u=l!==this.Ja;return this.Ja=l,a.length!==0||u?{snapshot:new Os(this.query,e.Xa,o,a,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),ou:s}:{ou:s}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new QS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(r=>this.Ha=this.Ha.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ha=this.Ha.delete(r)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=xe(),this.Xa.forEach(n=>{this._u(n.key)&&(this.Ya=this.Ya.add(n.key))});const r=[];return e.forEach(n=>{this.Ya.has(n)||r.push(new CN(n))}),this.Ya.forEach(n=>{e.has(n)||r.push(new ON(n))}),r}au(e){this.Ha=e.$s,this.Ya=xe();const r=this.tu(e.documents);return this.applyChanges(r,!0)}uu(){return Os.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const nw="SyncEngine";class lU{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class uU{constructor(e){this.key=e,this.cu=!1}}class cU{constructor(e,r,n,i,o,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new ya(s=>H2(s),rm),this.Pu=new Map,this.Tu=new Set,this.Iu=new tt(le.comparator),this.Eu=new Map,this.du=new q_,this.Au={},this.Ru=new Map,this.Vu=Is.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function fU(t,e,r=!0){const n=MN(t);let i;const o=n.hu.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=await kN(n,e,r,!0),i}async function dU(t,e){const r=MN(t);await kN(r,e,!0,!1)}async function kN(t,e,r,n){const i=await NB(t.localStore,An(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,r);let s;return n&&(s=await hU(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&_N(t.remoteStore,i),s}async function hU(t,e,r,n,i){t.fu=(d,h,p)=>async function(y,x,_,b){let w=x.view.tu(_);w.Cs&&(w=await HS(y.localStore,x.query,!1).then(({documents:E})=>x.view.tu(E,w)));const O=b&&b.targetChanges.get(x.targetId),T=b&&b.targetMismatches.get(x.targetId)!=null,P=x.view.applyChanges(w,y.isPrimaryClient,O,T);return tT(y,x.targetId,P.ou),P.snapshot}(t,d,h,p);const o=await HS(t.localStore,e,!0),a=new sU(e,o.$s),s=a.tu(o.documents),l=nf.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,l);tT(t,r,u.ou);const c=new lU(e,r,a);return t.hu.set(e,c),t.Pu.has(r)?t.Pu.get(r).push(e):t.Pu.set(r,[e]),u.snapshot}async function pU(t,e,r){const n=me(t),i=n.hu.get(e),o=n.Pu.get(i.targetId);if(o.length>1)return n.Pu.set(i.targetId,o.filter(a=>!rm(a,e))),void n.hu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Xv(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&Y_(n.remoteStore,i.targetId),Jv(n,i.targetId)}).catch(sl)):(Jv(n,i.targetId),await Xv(n.localStore,i.targetId,!0))}async function mU(t,e){const r=me(t),n=r.hu.get(e),i=r.Pu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Y_(r.remoteStore,n.targetId))}async function gU(t,e,r){const n=EU(t);try{const i=await function(a,s){const l=me(a),u=_t.now(),c=s.reduce((p,g)=>p.add(g.key),xe());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=si(),y=xe();return l.Bs.getEntries(p,c).next(x=>{g=x,g.forEach((_,b)=>{b.isValidDocument()||(y=y.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(x=>{d=x;const _=[];for(const b of s){const w=N5(b,d.get(b.key).overlayedDocument);w!=null&&_.push(new go(b.key,w,$2(w.value.mapValue),un.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,_,s)}).next(x=>{h=x;const _=x.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(p,x.batchId,_)})}).then(()=>({batchId:h.batchId,changes:K2(d)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.Au[a.currentUser.toKey()];u||(u=new tt(ye)),u=u.insert(s,l),a.Au[a.currentUser.toKey()]=u}(n,i.batchId,r),await af(n,i.changes),await um(n.remoteStore)}catch(i){const o=tw(i,"Failed to persist write");r.reject(o)}}async function NN(t,e){const r=me(t);try{const n=await OB(r.localStore,e);e.targetChanges.forEach((i,o)=>{const a=r.Eu.get(o);a&&(Ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.cu=!0:i.modifiedDocuments.size>0?Ne(a.cu,14607):i.removedDocuments.size>0&&(Ne(a.cu,42227),a.cu=!1))}),await af(r,n,e)}catch(n){await sl(n)}}function eT(t,e,r){const n=me(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.hu.forEach((o,a)=>{const s=a.view.Fa(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=me(a);l.onlineState=s;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.Sa)h.Fa(s)&&(u=!0)}),u&&rw(l)}(n.eventManager,e),i.length&&n.lu.Y_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function yU(t,e,r){const n=me(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Eu.get(e),o=i&&i.key;if(o){let a=new tt(le.comparator);a=a.insert(o,Kt.newNoDocument(o,he.min()));const s=xe().add(o),l=new am(he.min(),new Map,new tt(ye),a,s);await NN(n,l),n.Iu=n.Iu.remove(o),n.Eu.delete(e),iw(n)}else await Xv(n.localStore,e,!1).then(()=>Jv(n,e,r)).catch(sl)}async function vU(t,e){const r=me(t),n=e.batch.batchId;try{const i=await IB(r.localStore,e);RN(r,n,null),jN(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await af(r,i)}catch(i){await sl(i)}}async function bU(t,e,r){const n=me(t);try{const i=await function(a,s){const l=me(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(d=>(Ne(d!==null,37113),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(n.localStore,e);RN(n,e,r),jN(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await af(n,i)}catch(i){await sl(i)}}function jN(t,e){(t.Ru.get(e)||[]).forEach(r=>{r.resolve()}),t.Ru.delete(e)}function RN(t,e,r){const n=me(t);let i=n.Au[n.currentUser.toKey()];if(i){const o=i.get(e);o&&(r?o.reject(r):o.resolve(),i=i.remove(e)),n.Au[n.currentUser.toKey()]=i}}function Jv(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Pu.get(e))t.hu.delete(n),r&&t.lu.gu(n,r);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(n=>{t.du.containsKey(n)||DN(t,n)})}function DN(t,e){t.Tu.delete(e.path.canonicalString());const r=t.Iu.get(e);r!==null&&(Y_(t.remoteStore,r),t.Iu=t.Iu.remove(e),t.Eu.delete(r),iw(t))}function tT(t,e,r){for(const n of r)n instanceof ON?(t.du.addReference(n.key,e),_U(t,n)):n instanceof CN?(ne(nw,"Document no longer in limbo: "+n.key),t.du.removeReference(n.key,e),t.du.containsKey(n.key)||DN(t,n.key)):fe(19791,{pu:n})}function _U(t,e){const r=e.key,n=r.path.canonicalString();t.Iu.get(r)||t.Tu.has(n)||(ne(nw,"New document in limbo: "+r),t.Tu.add(n),iw(t))}function iw(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const r=new le(qe.fromString(e)),n=t.Vu.next();t.Eu.set(n,new uU(r)),t.Iu=t.Iu.insert(r,n),_N(t.remoteStore,new $i(An(B_(r.path)),n,"TargetPurposeLimboResolution",Zp.le))}}async function af(t,e,r){const n=me(t),i=[],o=[],a=[];n.hu.isEmpty()||(n.hu.forEach((s,l)=>{a.push(n.fu(l,e,r).then(u=>{var c;if((u||r)&&n.isPrimaryClient){const d=u?!u.fromCache:(c=r==null?void 0:r.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=K_.Rs(l.targetId,u);o.push(d)}}))}),await Promise.all(a),n.lu.Y_(i),await async function(l,u){const c=me(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Y.forEach(u,h=>Y.forEach(h.ds,p=>c.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>Y.forEach(h.As,p=>c.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!ll(d))throw d;ne(X_,"Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const p=c.xs.get(h),g=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(g);c.xs=c.xs.insert(h,y)}}}(n.localStore,o))}async function wU(t,e){const r=me(t);if(!r.currentUser.isEqual(e)){ne(nw,"User change. New user:",e.toKey());const n=await gN(r.localStore,e);r.currentUser=e,function(o,a){o.Ru.forEach(s=>{s.forEach(l=>{l.reject(new ie(X.CANCELLED,a))})}),o.Ru.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await af(r,n.ks)}}function xU(t,e){const r=me(t),n=r.Eu.get(e);if(n&&n.cu)return xe().add(n.key);{let i=xe();const o=r.Pu.get(e);if(!o)return i;for(const a of o){const s=r.hu.get(a);i=i.unionWith(s.view.eu)}return i}}function MN(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=NN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yU.bind(null,e),e.lu.Y_=oU.bind(null,e.eventManager),e.lu.gu=aU.bind(null,e.eventManager),e}function EU(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bU.bind(null,e),e}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,r){return null}Cu(e,r){return null}Du(e){return PB(this.persistence,new SB,e.initialUser,this.serializer)}Su(e){return new mN(G_.fi,this.serializer)}bu(e){return new RB}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class SU extends Ph{constructor(e){super(),this.cacheSizeBytes=e}vu(e,r){Ne(this.persistence.referenceDelegate instanceof Th,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new uB(n,e.asyncQueue,r)}Su(e){const r=this.cacheSizeBytes!==void 0?lr.withCacheSize(this.cacheSizeBytes):lr.DEFAULT;return new mN(n=>Th.fi(n,r),this.serializer)}}class Zv{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>eT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=wU.bind(null,this.syncEngine),await rU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iU}()}createDatastore(e){const r=sm(e.databaseInfo.databaseId),n=function(o){return new VB(o)}(e.databaseInfo);return function(o,a,s,l){return new zB(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,o,a,s){return new HB(n,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,r=>eT(this.syncEngine,r,0),function(){return KS.C()?new KS:new DB}())}createSyncEngine(e,r){return function(i,o,a,s,l,u,c){const d=new cU(i,o,a,s,l,u);return c&&(d.mu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const o=me(i);ne(aa,"RemoteStore shutting down."),o.da.add(5),await of(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Zv.provider={build:()=>new Zv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):ai("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="FirestoreClient";class TU{constructor(e,r,n,i,o){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=qt.UNAUTHENTICATED,this.clientId=P2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async a=>{ne(so,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(ne(so,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=tw(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function ay(t,e){t.asyncQueue.verifyOperationInProgress(),ne(so,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await gN(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function rT(t,e){t.asyncQueue.verifyOperationInProgress();const r=await AU(t);ne(so,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>YS(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>YS(e.remoteStore,i)),t._onlineComponents=e}async function AU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne(so,"Using user provided OfflineComponentProvider");try{await ay(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===X.FAILED_PRECONDITION||i.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Ss("Error using user provided cache. Falling back to memory cache: "+r),await ay(t,new Ph)}}else ne(so,"Using default OfflineComponentProvider"),await ay(t,new SU(void 0));return t._offlineComponents}async function LN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne(so,"Using user provided OnlineComponentProvider"),await rT(t,t._uninitializedComponentsProvider._online)):(ne(so,"Using default OnlineComponentProvider"),await rT(t,new Zv))),t._onlineComponents}function PU(t){return LN(t).then(e=>e.syncEngine)}async function VN(t){const e=await LN(t),r=e.eventManager;return r.onListen=fU.bind(null,e.syncEngine),r.onUnlisten=pU.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=dU.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=mU.bind(null,e.syncEngine),r}function IU(t,e,r={}){const n=new Yn;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new $N({next:h=>{c.xu(),a.enqueueAndForget(()=>PN(o,d));const p=h.docs.has(s);!p&&h.fromCache?u.reject(new ie(X.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new ie(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new IN(B_(s.path),c,{includeMetadataChanges:!0,Qa:!0});return AN(o,d)}(await VN(t),t.asyncQueue,e,r,n)),n.promise}function OU(t,e,r={}){const n=new Yn;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new $N({next:h=>{c.xu(),a.enqueueAndForget(()=>PN(o,d)),h.fromCache&&l.source==="server"?u.reject(new ie(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new IN(s,c,{includeMetadataChanges:!0,Qa:!0});return AN(o,d)}(await VN(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(t,e,r){if(!r)throw new ie(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function CU(t,e,r,n){if(e===!0&&n===!0)throw new ie(X.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function iT(t){if(!le.isDocumentKey(t))throw new ie(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function oT(t){if(le.isDocumentKey(t))throw new ie(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe(12329,{type:typeof t})}function kn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=cm(t);throw new ie(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN="firestore.googleapis.com",aT=!0;class sT{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UN,this.ssl=aT}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:aT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sB)throw new ie(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FN((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ie(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ie(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ie(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fm{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new $F;switch(n.type){case"firstParty":return new BF(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ie(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=nT.get(r);n&&(ne("ComponentProvider","Removing Datastore"),nT.delete(r),n.terminate())}(this),Promise.resolve()}}function kU(t,e,r,n={}){var i;t=kn(t,fm);const o=nl(e),a=t._getSettings(),s=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${r}`;o&&(Ck(`https://${l}`),kk("Firestore",!0)),a.host!==UN&&a.host!==l&&Ss("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},a),{host:l,ssl:o,emulatorOptions:n});if(!ta(u,s)&&(t._setSettings(u),n.mockUserToken)){let c,d;if(typeof n.mockUserToken=="string")c=n.mockUserToken,d=qt.MOCK_USER;else{c=G4(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new ie(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new qt(h)}t._authCredentials=new LF(new T2(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new yo(this.firestore,e,this._query)}}class or{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new or(this.firestore,e,this._key)}}class Qi extends yo{constructor(e,r,n){super(e,r,B_(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new or(this.firestore,null,new le(e))}withConverter(e){return new Qi(this.firestore,e,this._path)}}function sa(t,e,...r){if(t=Pt(t),BN("collection","path",e),t instanceof fm){const n=qe.fromString(e,...r);return oT(n),new Qi(t,null,n)}{if(!(t instanceof or||t instanceof Qi))throw new ie(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(qe.fromString(e,...r));return oT(n),new Qi(t.firestore,null,n)}}function vo(t,e,...r){if(t=Pt(t),arguments.length===1&&(e=P2.newId()),BN("doc","path",e),t instanceof fm){const n=qe.fromString(e,...r);return iT(n),new or(t,null,new le(n))}{if(!(t instanceof or||t instanceof Qi))throw new ie(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(qe.fromString(e,...r));return iT(n),new or(t.firestore,t instanceof Qi?t.converter:null,new le(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="AsyncQueue";class uT{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new vN(this,"async_queue_retry"),this.rc=()=>{const n=oy();n&&ne(lT,"Visibility state changed to "+n.visibilityState),this.x_.b_()},this.sc=e;const r=oy();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const r=oy();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const r=new Yn;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!ll(e))throw e;ne(lT,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const r=this.sc.then(()=>(this.ec=!0,e().catch(n=>{throw this.Xu=n,this.ec=!1,ai("INTERNAL UNHANDLED ERROR: ",cT(n)),n}).then(n=>(this.ec=!1,n))));return this.sc=r,r}enqueueAfterDelay(e,r,n){this.oc(),this.nc.indexOf(e)>-1&&(r=0);const i=ew.createAndSchedule(this,e,r,n,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&fe(47125,{cc:cT(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const r of this.Zu)if(r.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Zu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const r=this.Zu.indexOf(e);this.Zu.splice(r,1)}}function cT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class fl extends fm{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new uT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uT(e),this._firestoreClient=void 0,await e}}}function NU(t,e){const r=typeof t=="object"?t:Dk(),n=typeof t=="string"?t:bh,i=T_(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const o=H4("firestore");o&&kU(i,...o)}return i}function ow(t){if(t._terminated)throw new ie(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||jU(t),t._firestoreClient}function jU(t){var e,r,n;const i=t._freezeSettings(),o=function(s,l,u,c){return new r5(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,FN(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new TU(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cs($t.fromBase64String(e))}catch(r){throw new ie(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Cs($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ie(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ie(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ie(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU=/^__.*__$/;class DU{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new go(e,this.data,this.fieldMask,r,this.fieldTransforms):new rf(e,this.data,r,this.fieldTransforms)}}class zN{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new go(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function WN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe(40011,{Ic:t})}}class lw{constructor(e,r,n,i,o,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new lw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.dc({path:n,Rc:!1});return i.Vc(e),i}mc(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.dc({path:n,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Ih(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(WN(this.Ic)&&RU.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class MU{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||sm(e)}bc(e,r,n,i=!1){return new lw({Ic:e,methodName:r,wc:n,path:jt.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pm(t){const e=t._freezeSettings(),r=sm(t._databaseId);return new MU(t._databaseId,!!e.ignoreUndefinedProperties,r)}function HN(t,e,r,n,i,o={}){const a=t.bc(o.merge||o.mergeFields?2:0,e,r,i);cw("Data must be an object, but it was:",a,n);const s=qN(n,a);let l,u;if(o.merge)l=new Ar(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const h=e0(e,d,r);if(!a.contains(h))throw new ie(X.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);KN(c,h)||c.push(h)}l=new Ar(c),u=a.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=a.fieldTransforms;return new DU(new fr(s),l,u)}class mm extends hm{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mm}}class uw extends hm{_toFieldTransform(e){return new I5(e.path,new ac)}isEqual(e){return e instanceof uw}}function $U(t,e,r,n){const i=t.bc(1,e,r);cw("Data must be an object, but it was:",i,n);const o=[],a=fr.empty();mo(n,(l,u)=>{const c=fw(e,l,r);u=Pt(u);const d=i.mc(c);if(u instanceof mm)o.push(c);else{const h=sf(u,d);h!=null&&(o.push(c),a.set(c,h))}});const s=new Ar(o);return new zN(a,s,i.fieldTransforms)}function LU(t,e,r,n,i,o){const a=t.bc(1,e,r),s=[e0(e,n,r)],l=[i];if(o.length%2!=0)throw new ie(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)s.push(e0(e,o[h])),l.push(o[h+1]);const u=[],c=fr.empty();for(let h=s.length-1;h>=0;--h)if(!KN(u,s[h])){const p=s[h];let g=l[h];g=Pt(g);const y=a.mc(p);if(g instanceof mm)u.push(p);else{const x=sf(g,y);x!=null&&(u.push(p),c.set(p,x))}}const d=new Ar(u);return new zN(c,d,a.fieldTransforms)}function VU(t,e,r,n=!1){return sf(r,t.bc(n?4:3,e))}function sf(t,e){if(GN(t=Pt(t)))return cw("Unsupported field value:",e,t),qN(t,e);if(t instanceof hm)return function(n,i){if(!WN(i.Ic))throw i.gc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(n,i){const o=[];let a=0;for(const s of n){let l=sf(s,i.fc(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(n,i){if((n=Pt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return T5(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=_t.fromDate(n);return{timestampValue:Sh(i.serializer,o)}}if(n instanceof _t){const o=new _t(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Sh(i.serializer,o)}}if(n instanceof aw)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Cs)return{bytesValue:sN(i.serializer,n._byteString)};if(n instanceof or){const o=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(o))throw i.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:H_(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof sw)return function(a,s){return{mapValue:{fields:{[D2]:{stringValue:M2},[_h]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw s.gc("VectorValues must only contain numeric values.");return U_(s.serializer,u)})}}}}}}(n,i);throw i.gc(`Unsupported field value: ${cm(n)}`)}(t,e)}function qN(t,e){const r={};return O2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mo(t,(n,i)=>{const o=sf(i,e.Ac(n));o!=null&&(r[n]=o)}),{mapValue:{fields:r}}}function GN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof aw||t instanceof Cs||t instanceof or||t instanceof hm||t instanceof sw)}function cw(t,e,r){if(!GN(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=cm(r);throw n==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+n)}}function e0(t,e,r){if((e=Pt(e))instanceof dm)return e._internalPath;if(typeof e=="string")return fw(t,e);throw Ih("Field path arguments must be of type string or ",t,!1,void 0,r)}const FU=new RegExp("[~\\*/\\[\\]]");function fw(t,e,r){if(e.search(FU)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new dm(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Ih(t,e,r,n,i){const o=n&&!n.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${n}`),a&&(l+=` in document ${i}`),l+=")"),new ie(X.INVALID_ARGUMENT,s+t+l)}function KN(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,r,n,i,o){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new or(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(gm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class BU extends XN{data(){return super.data()}}function gm(t,e){return typeof e=="string"?fw(t,e):e instanceof dm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dw{}class hw extends dw{}function lf(t,e,...r){let n=[];e instanceof dw&&n.push(e),n=n.concat(r),function(o){const a=o.filter(l=>l instanceof mw).length,s=o.filter(l=>l instanceof ym).length;if(a>1||a>0&&s>0)throw new ie(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class ym extends hw{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new ym(e,r,n)}_apply(e){const r=this._parse(e);return QN(e._query,r),new yo(e.firestore,e.converter,Wv(e._query,r))}_parse(e){const r=pm(e.firestore);return function(o,a,s,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ie(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){dT(d,c);const g=[];for(const y of d)g.push(fT(l,o,y));h={arrayValue:{values:g}}}else h=fT(l,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||dT(d,c),h=VU(s,a,d,c==="in"||c==="not-in");return pt.create(u,c,h)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function pw(t,e,r){const n=e,i=gm("where",t);return ym._create(i,n,r)}class mw extends dw{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new mw(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:dn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,o){let a=i;const s=o.getFlattenedFilters();for(const l of s)QN(a,l),a=Wv(a,l)}(e._query,r),new yo(e.firestore,e.converter,Wv(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gw extends hw{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new gw(e,r)}_apply(e){const r=function(i,o,a){if(i.startAt!==null)throw new ie(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ie(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new oc(o,a)}(e._query,this._field,this._direction);return new yo(e.firestore,e.converter,function(i,o){const a=i.explicitOrderBy.concat([o]);return new ul(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function vm(t,e="asc"){const r=e,n=gm("orderBy",t);return gw._create(n,r)}class yw extends hw{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new yw(e,r,n)}_apply(e){return new yo(e.firestore,e.converter,xh(e._query,this._limit,this._limitType))}}function YN(t){return yw._create("limit",t,"F")}function fT(t,e,r){if(typeof(r=Pt(r))=="string"){if(r==="")throw new ie(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!W2(e)&&r.indexOf("/")!==-1)throw new ie(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(qe.fromString(r));if(!le.isDocumentKey(n))throw new ie(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return AS(t,new le(n))}if(r instanceof or)return AS(t,r._key);throw new ie(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cm(r)}.`)}function dT(t,e){if(!Array.isArray(t)||t.length===0)throw new ie(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QN(t,e){const r=function(i,o){for(const a of i)for(const s of a.getFlattenedFilters())if(o.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new ie(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class zU{convertValue(e,r="none"){switch(oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw fe(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return mo(e,(i,o)=>{n[i]=this.convertValue(o,r)}),n}convertVectorValue(e){var r,n,i;const o=(i=(n=(r=e.fields)===null||r===void 0?void 0:r[_h].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(a=>st(a.doubleValue));return new sw(o)}convertGeoPoint(e){return new aw(st(e.latitude),st(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=tm(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(rc(e));default:return null}}convertTimestamp(e){const r=no(e);return new _t(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=qe.fromString(e);Ne(hN(n),9688,{name:e});const i=new nc(n.get(1),n.get(3)),o=new le(n.popFirst(5));return i.isEqual(r)||ai(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(t,e,r){let n;return n=t?t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZN extends XN{constructor(e,r,n,i,o,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Fd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(gm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Fd extends ZN{data(e={}){return super.data(e)}}class WU{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new du(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Fd(this._firestore,this._userDataWriter,n.key,n,new du(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ie(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new Fd(i._firestore,i._userDataWriter,s.doc.key,s.doc,new du(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new Fd(i._firestore,i._userDataWriter,s.doc.key,s.doc,new du(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),c=a.indexOf(s.doc.key)),{type:HU(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function HU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(t){t=kn(t,or);const e=kn(t.firestore,fl);return IU(ow(e),t._key).then(r=>GU(e,t,r))}class ej extends zU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cs(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new or(this.firestore,null,r)}}function ks(t){t=kn(t,yo);const e=kn(t.firestore,fl),r=ow(e),n=new ej(e);return UU(t._query),OU(r,t._query).then(i=>new WU(e,n,t,i))}function tj(t,e,r){t=kn(t,or);const n=kn(t.firestore,fl),i=JN(t.converter,e);return bw(n,[HN(pm(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,un.none())])}function rj(t,e,r,...n){t=kn(t,or);const i=kn(t.firestore,fl),o=pm(i);let a;return a=typeof(e=Pt(e))=="string"||e instanceof dm?LU(o,"updateDoc",t._key,e,r,n):$U(o,"updateDoc",t._key,e),bw(i,[a.toMutation(t._key,un.exists(!0))])}function qU(t,e){const r=kn(t.firestore,fl),n=vo(t),i=JN(t.converter,e);return bw(r,[HN(pm(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,un.exists(!1))]).then(()=>n)}function bw(t,e){return function(n,i){const o=new Yn;return n.asyncQueue.enqueueAndForget(async()=>gU(await PU(n),i,o)),o.promise}(ow(t),e)}function GU(t,e,r){const n=r.docs.get(e._key),i=new ej(t);return new ZN(t,i,e._key,n,new du(r.hasPendingWrites,r.fromCache),e.converter)}function Oh(){return new uw("serverTimestamp")}(function(e,r=!0){(function(i){al=i})(il),Es(new ra("firestore",(n,{instanceIdentifier:i,options:o})=>{const a=n.getProvider("app").getImmediate(),s=new fl(new VF(n.getProvider("auth-internal")),new UF(a,n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ie(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nc(u.options.projectId,c)}(a,i),a);return o=Object.assign({useFetchStreams:r},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),Xi(pS,mS,e),Xi(pS,mS,"esm2017")})();const KU={apiKey:"AIzaSyDB9h7WjFukfO5T-lpLmYI_pYmPiXOgTIU",authDomain:"habit-trackerv1.firebaseapp.com",projectId:"habit-trackerv1",storageBucket:"habit-trackerv1.firebasestorage.app",messagingSenderId:"988878396336",appId:"1:988878396336:web:bf2845cffb76c3eed45475",measurementId:"G-9J6ZRHC9V2"};let Ch;WE().length===0?Ch=Rk(KU):Ch=WE()[0];const yr=NU(Ch),id=jF(Ch),nj=()=>{const[t,e]=U.useState(null),[r,n]=U.useState(!0),[i,o]=U.useState(null),[a,s]=U.useState(null),l=h=>h==="pvcmonteiro@gmail.com"?"admin":"simple";return U.useEffect(()=>{const h=w6(id,p=>{if(e(p),p){const g=l(p.email);s(g)}else s(null);n(!1)});return()=>h()},[]),{user:t,userType:a,loading:r,error:i,login:async(h,p)=>{try{o(null),n(!0),await v6(id,h,p)}catch(g){o(hT(g.code))}finally{n(!1)}},register:async(h,p)=>{try{o(null),n(!0),await y6(id,h,p)}catch(g){o(hT(g.code))}finally{n(!1)}},logout:async()=>{try{await x6(id)}catch{o("Erro ao fazer logout")}}}},hT=t=>{switch(t){case"auth/user-not-found":return"Usurio no encontrado";case"auth/wrong-password":return"Senha incorreta";case"auth/email-already-in-use":return"Email j est em uso";case"auth/weak-password":return"Senha muito fraca (mnimo 6 caracteres)";case"auth/invalid-email":return"Email invlido";case"auth/invalid-credential":return"Email ou senha incorretos";case"auth/too-many-requests":return"Muitas tentativas. Tente novamente mais tarde";default:return"Erro de autenticao. Tente novamente"}},XU=()=>{const[t,e]=U.useState(!1),[r,n]=U.useState("semana-atual");return U.useEffect(()=>{localStorage.getItem("sidebar-preference")==="open"&&e(!0)},[]),{isOpen:t,currentSection:r,toggleSidebar:()=>{const s=!t;e(s),localStorage.setItem("sidebar-preference",s?"open":"closed")},navigateToSection:s=>{n(s),window.innerWidth<768&&(e(!1),localStorage.setItem("sidebar-preference","closed"))},closeSidebar:()=>{e(!1),localStorage.setItem("sidebar-preference","closed")}}};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),at=(t,e)=>{const r=U.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:l,...u},c)=>U.createElement("svg",{ref:c,...YU,width:i,height:i,stroke:n,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${QU(t)}`,s].join(" "),...u},[...e.map(([d,h])=>U.createElement(d,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=at("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=at("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=at("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=at("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=at("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=at("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=at("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=at("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=at("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=at("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=at("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=at("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=at("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=at("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=at("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=at("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=at("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=at("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=at("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=at("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=at("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=at("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),l9=()=>{const[t,e]=U.useState(""),[r,n]=U.useState(""),[i,o]=U.useState(!1),[a,s]=U.useState(!1),{login:l,register:u,loading:c,error:d}=nj(),h=async p=>{p.preventDefault(),a?await u(t,r):await l(t,r)};return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center p-6",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"flex items-center justify-center mb-6",children:m.jsx("img",{src:"/assets/thy-logo.png",alt:"Thy",className:"h-24 w-auto"})}),m.jsx("p",{className:"text-gray-600 text-lg",children:a?"Crie sua conta":"Entre na sua conta"})]}),m.jsxs("form",{onSubmit:h,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),m.jsxs("div",{className:"relative",children:[m.jsx(i9,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),m.jsx("input",{type:"email",value:t,onChange:p=>e(p.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4682B4] focus:border-transparent",placeholder:"seu@email.com",required:!0})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha"}),m.jsxs("div",{className:"relative",children:[m.jsx(n9,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),m.jsx("input",{type:i?"text":"password",value:r,onChange:p=>n(p.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4682B4] focus:border-transparent",placeholder:"",required:!0,minLength:6}),m.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?m.jsx(t9,{size:20}):m.jsx(r9,{size:20})})]})]}),d&&m.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:m.jsx("p",{className:"text-red-600 text-sm",children:d})}),m.jsx("button",{type:"submit",disabled:c,className:"w-full bg-[#4682B4] hover:bg-[#3a6d99] text-white font-medium py-3 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Carregando...":a?"Criar Conta":"Entrar"}),m.jsx("div",{className:"text-center",children:m.jsx("button",{type:"button",onClick:()=>s(!a),className:"text-[#4682B4] hover:text-[#3a6d99] text-sm font-medium",children:a?"J tem conta? Faa login":"No tem conta? Cadastre-se"})})]})]})})},u9=({isOpen:t,onToggle:e})=>{const[r,n]=U.useState(!1),i=()=>t?m.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",className:"text-gray-600",children:[m.jsx("path",{d:"M15 18L9 12L15 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),m.jsx("path",{d:"M21 18L15 12L21 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}):r?m.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",className:"text-gray-600",children:[m.jsx("path",{d:"M9 18L15 12L9 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),m.jsx("path",{d:"M3 18L9 12L3 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}):m.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",className:"text-gray-600",children:[m.jsx("path",{d:"M3 12H21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),m.jsx("path",{d:"M3 6H21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),m.jsx("path",{d:"M3 18H21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),o=()=>{const a="p-2.5 rounded-lg transition-all duration-300 ease-in-out text-gray-600 hover:text-gray-800 hover:bg-gray-100";return t?`${a} bg-gray-50 border border-gray-200`:a};return m.jsx("button",{onClick:e,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),className:o(),title:t?"Fechar menu lateral":"Abrir menu lateral",children:m.jsx("div",{className:"transition-transform duration-300 ease-in-out",children:i()})})},sj="/assets/thy-caS-cSu3.png",c9=({isOpen:t,currentSection:e,onNavigate:r,onClose:n,onLogout:i})=>{const o=[{id:"semana-atual",label:"Semana Atual",icon:"",description:"Progresso da semana em andamento"},{id:"semana-anterior",label:"Semana Anterior",icon:"",description:"Anlise da ltima semana completa"},{id:"evolucao-geral",label:"Evoluo Geral",icon:"",description:"Progresso ao longo do tempo"},{id:"performance-habito",label:"Performance por Hbito",icon:"",description:"Anlise detalhada por hbito"},{id:"insights-principais",label:"Insights Principais",icon:"",description:"Descobertas e padres"}];return m.jsx("div",{className:`
        h-screen bg-white border-r border-gray-100 flex flex-col
        transition-all duration-500 ease-in-out transform
        ${t?"w-72 translate-x-0 opacity-100 shadow-lg":"w-0 -translate-x-full opacity-0 shadow-none"}
      `,style:{transition:"width 0.4s cubic-bezier(0.4, 0, 0.2, 1), transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s ease-in-out, box-shadow 0.3s ease-in-out"},children:t&&m.jsxs("div",{className:"w-72 flex flex-col h-full",children:[m.jsx("div",{className:"p-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"flex items-center",children:m.jsx("img",{src:sj,alt:"Thy",className:"h-10 w-auto"})}),m.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-gray-100 text-gray-500 hover:text-gray-700 transition-colors duration-200",title:"Fechar menu",children:m.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:[m.jsx("path",{d:"M15 18L9 12L15 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),m.jsx("path",{d:"M21 18L15 12L21 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]})}),m.jsx("nav",{className:"p-4 flex-1",children:m.jsx("div",{className:"space-y-1",children:o.map(a=>m.jsxs("button",{onClick:()=>r(a.id),className:`
                    w-full flex items-center gap-3 p-3 rounded-lg text-left 
                    transition-all duration-200 ease-in-out
                    ${e===a.id?"bg-blue-50 text-blue-700 border border-blue-200 shadow-sm":"text-gray-700 hover:bg-gray-50 hover:text-gray-900 border border-transparent"}
                  `,children:[m.jsx("span",{className:"text-lg",children:a.icon}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("div",{className:"font-medium text-sm",children:a.label}),m.jsx("div",{className:"text-xs text-gray-500 mt-1 truncate",children:a.description})]}),e===a.id&&m.jsx("span",{className:"text-blue-500 text-xs",children:""})]},a.id))})}),m.jsx("div",{className:"p-4 border-t border-gray-100",children:m.jsxs("div",{className:"space-y-1",children:[m.jsxs("button",{className:"w-full flex items-center gap-3 p-3 rounded-lg text-gray-600 hover:bg-gray-50 hover:text-gray-800 text-left transition-colors duration-200",children:[m.jsx("span",{className:"text-lg",children:""}),m.jsx("span",{className:"text-sm",children:"Configuraes"})]}),m.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 p-3 rounded-lg text-red-600 hover:bg-red-50 hover:text-red-700 text-left transition-colors duration-200",children:[m.jsx("span",{className:"text-lg",children:""}),m.jsx("span",{className:"text-sm",children:"Sair"})]})]})})]})})},ww="daily_habits",kh="weekly_aggregates",Oo={meditar:7,medicar:3,exercitar:7,comunicar:5,alimentar:6,estudar:6,descansar:6},gT=t=>{const[e,r,n]=t.split("-").map(Number),a=-new Date(Date.UTC(e,r-1,n)).getUTCDay();return new Date(Date.UTC(e,r-1,n+a)).toISOString().split("T")[0]},xw=t=>{const[e,r,n]=t.split("-");return`${n}/${r}`},Ew=(t,e)=>{const r=new Date(t);return r.setDate(r.getDate()+e),r.toISOString().split("T")[0]},f9=t=>{const e=new Date(t);return["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][e.getDay()]},d9=async(t,e)=>{try{const r={date:t,dateFormatted:xw(t),weekStart:gT(t),dayOfWeek:f9(t),peso:e.peso||null,meditar:e.meditar||!1,medicar:e.medicar||!1,exercitar:e.exercitar||!1,comunicar:e.comunicar||!1,alimentar:e.alimentar||!1,estudar:e.estudar||!1,descansar:e.descansar||!1,obs:e.obs||"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return await tj(vo(yr,ww,t),r),await h9(gT(t)),{success:!0,data:r}}catch(r){return{success:!1,error:r.message||"Erro ao salvar dia"}}},h9=async t=>{try{const e=await p9(t);if(e.length===0)return;const r=await m9(e,t);await tj(vo(yr,kh,t),r)}catch{}},p9=async t=>{try{const e=[];for(let r=0;r<7;r++){const n=Ew(t,r),i=await vw(vo(yr,ww,n));i.exists()?e.push({id:i.id,...i.data()}):e.push({date:n,dateFormatted:xw(n),peso:null,meditar:!1,medicar:!1,exercitar:!1,comunicar:!1,alimentar:!1,estudar:!1,descansar:!1,obs:""})}return e}catch{return[]}},m9=async(t,e)=>{const r=t.filter(c=>c.peso&&c.peso>0),n=r.length>0?r.reduce((c,d)=>c+d.peso,0)/r.length:null,i={meditar:Math.min(t.filter(c=>c.meditar).length,Oo.meditar),medicar:Math.min(t.filter(c=>c.medicar).length,Oo.medicar),exercitar:Math.min(t.filter(c=>c.exercitar).length,Oo.exercitar),comunicar:Math.min(t.filter(c=>c.comunicar).length,Oo.comunicar),alimentar:Math.min(t.filter(c=>c.alimentar).length,Oo.alimentar),estudar:Math.min(t.filter(c=>c.estudar).length,Oo.estudar),descansar:Math.min(t.filter(c=>c.descansar).length,Oo.descansar)},o=Object.values(i).reduce((c,d)=>c+d,0),a=await g9(n,e),s=o+a,l=Math.round(s/40*100);return{weekStart:e,weekStartFormatted:xw(e),weekEnd:Ew(e,6),pesoMedio:n?Math.round(n*10)/10:null,...i,pontosBase:o,bonusPeso:a,totalPontos:s,completude:l,updatedAt:new Date().toISOString(),source:"daily_aggregation"}},g9=async(t,e)=>{try{if(!t)return 0;const r=Ew(e,-7),n=await vw(vo(yr,kh,r));if(!n.exists())return 0;const i=n.data().pesoMedio;if(!i)return 0;const o=i-t;return o>=.3?5:o>0?3:0}catch{return 0}},y9=async()=>{try{const t=lf(sa(yr,kh),vm("weekStart","asc")),e=await ks(t),r=[];return e.forEach(n=>{const i=n.data();r.push({id:n.id,semana:i.weekStartFormatted,completude:i.completude,peso:i.pesoMedio,meditar:i.meditar,medicar:i.medicar,exercitar:i.exercitar,comunicar:i.comunicar,alimentar:i.alimentar,estudar:i.estudar,descansar:i.descansar,pontosBase:i.pontosBase,bonusPeso:i.bonusPeso,totalPontos:i.totalPontos,dateOrder:parseInt(i.weekStart.replace(/-/g,"")),obs:"",createdAt:i.updatedAt,updatedAt:i.updatedAt})}),r}catch{try{const e=await ks(sa(yr,kh)),r=[];return e.forEach(n=>{const i=n.data();r.push({id:n.id,semana:i.weekStartFormatted,completude:i.completude,peso:i.pesoMedio,meditar:i.meditar,medicar:i.medicar,exercitar:i.exercitar,comunicar:i.comunicar,alimentar:i.alimentar,estudar:i.estudar,descansar:i.descansar})}),r}catch{return[]}}},lj=async t=>{try{const e=vo(yr,ww,t),r=await vw(e);return r.exists()?{success:!0,data:{id:r.id,...r.data()}}:{success:!1,error:`Dia ${t} no encontrado`}}catch(e){return{success:!1,error:e.message}}},_m=()=>{const[t,e]=U.useState(null),[r,n]=U.useState(!0),[i,o]=U.useState(null),a=async()=>{var u,c,d;try{console.log(" [useHabitsData] Carregando dados das semanas agregadas..."),n(!0),o(null);const h=await y9();if(h&&h.length>0){const g=h[0];console.log(" [useHabitsData] Propriedades da semana agregada:",Object.keys(g)),console.log(" [useHabitsData] Estrutura compatvel?",{temSemana:!!g.semana,temCompletude:!!g.completude,temPeso:!!g.peso,temHabitos:{meditar:g.meditar,medicar:g.medicar,exercitar:g.exercitar},temPontosBase:!!g.pontosBase,temBonusPeso:!!g.bonusPeso})}const p=v9(h);console.log(" [DEBUG] Dados processados:",p),console.log(" [useHabitsData] Dados processados para dashboard:",{weeklyCompletion:((u=p==null?void 0:p.weeklyCompletionData)==null?void 0:u.length)||0,weight:((c=p==null?void 0:p.weightData)==null?void 0:c.length)||0,habits:Object.keys((p==null?void 0:p.habitDataByType)||{}),totalWeeks:((d=p==null?void 0:p.analysisInfo)==null?void 0:d.totalWeeks)||0}),e(p),console.log(" [useHabitsData] Dados carregados e processados com sucesso!")}catch(h){console.error(" [useHabitsData] Erro ao carregar dados:",h),console.error(" [useHabitsData] Stack trace:",h.stack),console.error(" [useHabitsData] Mensagem do erro:",h.message),o(h.message)}finally{n(!1),console.log(" [useHabitsData] Carregamento finalizado")}},s=async u=>{try{if(console.log(" [useHabitsData] Adicionando novo dia:",u),!u.date)throw new Error('Campo "date"  obrigatrio (formato YYYY-MM-DD)');if(!/^\d{4}-\d{2}-\d{2}$/.test(u.date))throw new Error("Data deve estar no formato YYYY-MM-DD (ex: 2025-06-21)");const d={peso:u.peso?Number(u.peso):null,meditar:!!u.meditar,medicar:!!u.medicar,exercitar:!!u.exercitar,comunicar:!!u.comunicar,alimentar:!!u.alimentar,estudar:!!u.estudar,descansar:!!u.descansar,obs:u.obs||""};console.log(" [useHabitsData] Dados para salvar:",{date:u.date,...d});const h=await d9(u.date,d);return h.success?(console.log(" [useHabitsData] Dia adicionado + semana recalculada automaticamente"),await a(),{success:!0,data:h.data}):(console.error(" [useHabitsData] Erro ao adicionar dia:",h.error),{success:!1,error:h.error})}catch(c){return console.error(" [useHabitsData] Erro inesperado ao adicionar dia:",c),{success:!1,error:c.message||"Erro inesperado"}}},l=async u=>({success:!1,error:"Funo addNewWeek() foi substituda. Use addNewDay() para salvar dias individuais."});return U.useEffect(()=>{a()},[]),console.log(" [useHabitsData] Estado atual:",{hasData:!!t,loading:r,hasError:!!i}),{data:t,loading:r,error:i,refreshData:a,addNewDay:s,addNewWeek:l}},v9=t=>{var e,r;if(!t||t.length===0)return{weeklyCompletionData:[],weightData:[],habitDataByType:{},habitsList:[],analysisInfo:{}};try{const n=t.map(c=>({semana:c.semana,completude:c.completude||0}));console.log(" [processFirestoreData] Completude processada:",n.length,"entradas");const i=t.filter(c=>c.peso&&c.peso>0).map(c=>({semana:c.semana,peso:c.peso}));console.log(" [processFirestoreData] Peso processado:",i.length,"entradas");const o=["meditar","medicar","exercitar","comunicar","alimentar","estudar","descansar"],a={meditar:7,medicar:3,exercitar:7,comunicar:5,alimentar:7,estudar:7,descansar:7},s={};o.forEach(c=>{console.log(` [processFirestoreData] Processando hbito: ${c}`);const d=t.map(h=>{const p=h[c]||0,g=a[c],y=g>0?Math.round(p/g*100):0;return{semana:h.semana,valor:y}});s[c]={data:d,habit:c.charAt(0).toUpperCase()+c.slice(1)},console.log(` [processFirestoreData] ${c}:`,d.length,"entradas (convertidas para %)")});const l={startDate:((e=t[0])==null?void 0:e.semana)||"N/A",endDate:((r=t[t.length-1])==null?void 0:r.semana)||"N/A",totalWeeks:t.length,userName:"Paulo"},u={weeklyCompletionData:n,weightData:i,habitDataByType:s,habitsList:o,analysisInfo:l};if(console.log(" [processFirestoreData] Processamento concludo com sucesso!"),console.log(" [processFirestoreData] Resultado final compatvel:",{weeklyCompletion:u.weeklyCompletionData.length,weight:u.weightData.length,habits:Object.keys(u.habitDataByType).length,totalWeeks:u.analysisInfo.totalWeeks}),t.length>0&&u.habitDataByType.meditar){const c=t[0],d=u.habitDataByType.meditar.data[0];console.log(" [processFirestoreData] Exemplo de converso - Meditar:",{original:`${c.meditar} dias de ${a.meditar}`,convertido:`${d.valor}%`})}return u}catch(n){throw console.error(" [processFirestoreData] Erro durante processamento:",n),console.error(" [processFirestoreData] Stack trace:",n.stack),n}},b9=({isOpen:t,onClose:e})=>{const{addNewDay:r}=_m(),n=()=>{try{const D=localStorage.getItem("habitTracker_lastUsedDate"),z=new Date().toISOString().split("T")[0];if(D){const Q=new Date(D),se=new Date(z);if(!isNaN(Q.getTime())&&Q<=se)return console.log(" [AddDayForm] Recuperando ltima data usada:",D),D}return console.log(" [AddDayForm] Usando data de hoje:",z),z}catch{return console.warn(" [AddDayForm] Erro ao recuperar ltima data, usando hoje"),new Date().toISOString().split("T")[0]}},i=new Date().toISOString().split("T")[0];new Date().toLocaleDateString("pt-BR");const[o,a]=U.useState({date:i,peso:"",meditar:!1,medicar:!1,exercitar:!1,comunicar:!1,alimentar:!1,estudar:!1,descansar:!1,obs:"",sentimento:""}),[s,l]=U.useState(!1),[u,c]=U.useState({}),[d,h]=U.useState(""),[p,g]=U.useState("idle"),[y,x]=U.useState(null),[_,b]=U.useState(!1),[w,O]=U.useState(!1),[T,P]=U.useState(1),E=[{key:"meditar",label:" Meditar",description:"Meditao ou mindfulness"},{key:"medicar",label:" Medicar",description:"Tomar medicamentos"},{key:"exercitar",label:" Exercitar",description:"Atividade fsica"},{key:"comunicar",label:" Comunicar",description:"Comunicao importante"},{key:"alimentar",label:" Alimentar",description:"Alimentao saudvel"},{key:"estudar",label:" Estudar",description:"Estudos ou aprendizado"},{key:"descansar",label:" Descansar",description:"Descanso adequado"}],S=[{key:"ansioso",label:" Ansioso",color:"orange"},{key:"normal",label:" Normal",color:"gray"},{key:"produtivo",label:" Produtivo",color:"green"}],I=D=>{try{localStorage.setItem("habitTracker_lastUsedDate",D),console.log(" [AddDayForm] Data salva no localStorage:",D)}catch(z){console.warn(" [AddDayForm] Erro ao salvar data no localStorage:",z)}},N=U.useCallback(async D=>{try{console.log(" [AddDayForm] Carregando dados existentes para:",D);const z=await lj(D);if(z.success&&z.data){const Q=z.data;console.log(" [AddDayForm] Dados encontrados:",Q),a(se=>({...se,peso:Q.peso?Q.peso.toString():"",meditar:Q.meditar||!1,medicar:Q.medicar||!1,exercitar:Q.exercitar||!1,comunicar:Q.comunicar||!1,alimentar:Q.alimentar||!1,estudar:Q.estudar||!1,descansar:Q.descansar||!1,obs:Q.obs||"",sentimento:Q.sentimento||""})),g("saved"),b(!0),console.log(" [AddDayForm] Dados carregados no formulrio")}else console.log(" [AddDayForm] Nenhum dado encontrado para",D,"- novo dia"),a(Q=>({...Q,peso:"",meditar:!1,medicar:!1,exercitar:!1,comunicar:!1,alimentar:!1,estudar:!1,descansar:!1,obs:"",sentimento:""})),b(!0),g("idle")}catch(z){console.error(" [AddDayForm] Erro ao carregar dados existentes:",z),b(!0),g("idle")}},[]),C=U.useCallback(async D=>{try{g("saving"),console.log(" [AddDayForm] Auto-salvando...",D.date);const z=await r(D);z.success?(g("saved"),console.log(" [AddDayForm] Auto-save realizado com sucesso"),setTimeout(()=>{g("idle")},2e3)):(g("error"),console.error(" [AddDayForm] Erro no auto-save:",z.error),setTimeout(()=>{g("idle")},3e3))}catch(z){g("error"),console.error(" [AddDayForm] Erro inesperado no auto-save:",z),setTimeout(()=>{g("idle")},3e3)}},[r]),j=U.useCallback(D=>{if(!_||!D.date)return;if(!(D.peso||D.meditar||D.medicar||D.exercitar||D.comunicar||D.alimentar||D.estudar||D.descansar||D.obs||D.sentimento)){console.log(" [AddDayForm] Nenhum dado significativo para auto-save");return}y&&clearTimeout(y);const Q=setTimeout(()=>{console.log(" [AddDayForm] Trigger auto-save aps debounce");const se={date:D.date,peso:D.peso?Number(D.peso):null,meditar:!!D.meditar,medicar:!!D.medicar,exercitar:!!D.exercitar,comunicar:!!D.comunicar,alimentar:!!D.alimentar,estudar:!!D.estudar,descansar:!!D.descansar,obs:D.obs||"",sentimento:D.sentimento||""};C(se)},1500);x(Q)},[y,_,C]),k=(D,z)=>{const Q={...o,[D]:z};a(Q),D==="date"&&(I(z),b(!1),N(z)),u[D]&&c(se=>({...se,[D]:void 0})),D!=="date"&&j(Q)},W=D=>{const z={...o,[D]:!o[D]};a(z),j(z)};U.useEffect(()=>{if(t&&!w){console.log(" [AddDayForm] Inicializando formulrio...");const D=n();a(z=>({...z,date:D})),N(D),O(!0)}},[t,w,N]),U.useEffect(()=>()=>{y&&clearTimeout(y)},[y]);const H=()=>{const D={};if(!o.date)D.date="Data  obrigatria";else if(!/^\d{4}-\d{2}-\d{2}$/.test(o.date))D.date="Formato de data invlido";else{const Q=new Date(o.date);isNaN(Q.getTime())&&(D.date="Data invlida");const se=new Date;se.setHours(23,59,59,999),Q>se&&(D.date="No  possvel registrar dias futuros")}return o.peso&&(isNaN(o.peso)||o.peso<0||o.peso>200)&&(D.peso="Peso deve ser um nmero vlido entre 0 e 200kg"),c(D),Object.keys(D).length===0},$=async D=>{if(D.preventDefault(),!!H()){y&&clearTimeout(y),l(!0),h(""),c({});try{const z={date:o.date,peso:o.peso?Number(o.peso):null,meditar:!!o.meditar,medicar:!!o.medicar,exercitar:!!o.exercitar,comunicar:!!o.comunicar,alimentar:!!o.alimentar,estudar:!!o.estudar,descansar:!!o.descansar,obs:o.obs||"",sentimento:o.sentimento||""},Q=await r(z);Q.success?(h(" Dia salvo com sucesso! Semana recalculada automaticamente "),g("saved"),setTimeout(()=>{e(),h("")},2e3)):(c({submit:Q.error||"Erro ao salvar dia"}),g("error"))}catch{c({submit:"Erro inesperado. Tente novamente."}),g("error")}finally{l(!1)}}},F=()=>{s||(y&&clearTimeout(y),a({date:i,peso:"",meditar:!1,medicar:!1,exercitar:!1,comunicar:!1,alimentar:!1,estudar:!1,descansar:!1,obs:"",sentimento:""}),c({}),h(""),g("idle"),b(!1),O(!1),e())},M=()=>{const z={idle:{icon:null,text:"",color:""},saving:{icon:m.jsx(_w,{size:16,className:"animate-spin"}),text:"Salvando...",color:"text-blue-600"},saved:{icon:m.jsx(t0,{size:16}),text:"Salvo automaticamente",color:"text-green-600"},error:{icon:m.jsx(ij,{size:16}),text:"Erro ao salvar",color:"text-red-600"}}[p];return p==="idle"?null:m.jsxs("div",{className:`flex items-center gap-2 text-sm ${z.color} bg-white px-3 py-1 rounded-full shadow-sm border`,children:[z.icon,m.jsx("span",{children:z.text})]})};if(E.filter(D=>o[D.key]).length,!t)return null;const V=()=>{P(1),F()},K=async D=>{D&&D.preventDefault(),await $(D),P(1)};return m.jsxs("div",{className:"fixed inset-0 bg-white flex items-center justify-center z-50 p-0 sm:p-4",children:[m.jsxs("div",{className:"w-full h-full max-w-md mx-auto flex flex-col justify-between p-0 sm:max-w-lg md:max-w-xl lg:hidden relative bg-white",children:[m.jsxs("div",{className:"w-full flex items-center justify-between px-4 py-3 border-b border-gray-100 sticky top-0 bg-white z-10",style:{minHeight:56},children:[m.jsx(M,{}),m.jsx("button",{onClick:V,disabled:s,className:"text-gray-400 hover:text-gray-700 text-3xl",style:{zIndex:10},children:m.jsx(n0,{size:32})})]}),T===1&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex-1 overflow-y-auto px-4 pt-2 pb-32 w-full",children:[m.jsx("input",{type:"date",value:o.date,onChange:D=>k("date",D.target.value),max:i,className:"w-full text-xl px-3 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 text-center font-semibold mb-3",disabled:s,style:{fontSize:"1.2rem"}}),m.jsx("input",{type:"number",step:"0.1",value:o.peso,onChange:D=>k("peso",D.target.value),placeholder:"Peso (kg)",className:"w-full text-xl px-3 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 text-center font-semibold mb-4",disabled:s,style:{fontSize:"1.2rem"}}),m.jsx("div",{className:"flex flex-col gap-3 my-4",children:E.map((D,z)=>m.jsxs("button",{type:"button",onClick:()=>W(D.key),className:`flex items-center gap-4 p-4 rounded-2xl border-2 transition-all duration-150 focus:outline-none focus:ring-2 focus:ring-green-300 text-3xl w-full ${o[D.key]?"bg-green-100 border-green-500 scale-105":"bg-gray-50 border-gray-200 opacity-90"}`,style:{minHeight:64},disabled:s,children:[m.jsx("span",{className:"text-5xl",children:D.label.split(" ")[0]}),m.jsx("span",{className:"text-base font-semibold text-gray-800 flex-1 text-left",children:D.label.replace(/^[^ ]+ /,"")}),m.jsx("span",{className:`w-7 h-7 flex items-center justify-center rounded-full border-2 ${o[D.key]?"bg-green-500 border-green-500":"border-gray-300 bg-white"}`,children:o[D.key]&&m.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},D.key))})]}),m.jsx("div",{className:"w-full px-4 pb-4 pt-2 bg-white fixed bottom-0 left-0 z-20",children:m.jsx("button",{type:"button",onClick:()=>P(2),disabled:s,className:"w-full py-5 rounded-2xl bg-blue-600 text-white text-2xl font-bold flex items-center justify-center gap-3 shadow-lg disabled:opacity-60",style:{minHeight:64},children:"Prximo 1/2"})})]}),T===2&&m.jsx(m.Fragment,{children:m.jsxs("div",{className:"flex flex-col justify-between h-full w-full px-4",children:[m.jsxs("div",{className:"mb-8 mt-4",children:[m.jsx("div",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:"Como voc est se sentindo?"}),m.jsx("div",{className:"flex gap-3 mb-8",children:S.map(D=>m.jsxs("button",{type:"button",onClick:()=>k("sentimento",D.key),className:`flex-1 p-4 rounded-2xl border-2 transition-all duration-150 text-center ${o.sentimento===D.key?`bg-${D.color}-100 border-${D.color}-500 scale-105`:"bg-gray-50 border-gray-200"}`,disabled:s,children:[m.jsx("div",{className:"text-3xl mb-1",children:D.label.split(" ")[0]}),m.jsx("div",{className:"text-sm font-semibold text-gray-700",children:D.label.split(" ")[1]})]},D.key))}),m.jsx("div",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"Como foi seu dia?"}),m.jsx("textarea",{value:o.obs,onChange:D=>k("obs",D.target.value),placeholder:"Escreva aqui seu comentrio, reflexo ou diagnstico do dia...",rows:6,className:"w-full px-4 py-4 rounded-xl border-2 border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 text-lg resize-none",style:{minHeight:140},disabled:s})]}),m.jsx("div",{className:"pb-4",children:m.jsx("button",{type:"button",onClick:K,disabled:s,className:"w-full py-5 rounded-2xl bg-blue-600 text-white text-2xl font-bold flex items-center justify-center gap-3 shadow-lg disabled:opacity-60",style:{minHeight:64},children:s?m.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"}):m.jsxs(m.Fragment,{children:[m.jsx(mT,{size:28}),"Finalizar Dia"]})})}),m.jsx("button",{type:"button",onClick:()=>P(1),disabled:s,className:"absolute top-4 left-4 text-gray-400 hover:text-gray-700 text-3xl",style:{zIndex:10},children:""})]})})]}),m.jsx("div",{className:"hidden lg:flex items-center justify-center fixed inset-0 z-50 bg-black bg-opacity-10",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full p-0 relative flex flex-col",style:{maxHeight:"90vh",minWidth:"520px"},children:[m.jsxs("div",{className:"flex items-center justify-between px-10 pt-6",children:[m.jsx(M,{}),m.jsx("button",{onClick:V,disabled:s,className:"text-gray-400 hover:text-gray-700 text-3xl z-20",children:m.jsx(n0,{size:32})})]}),m.jsx("div",{className:"flex-1 overflow-y-auto px-10 pt-4 pb-32",children:m.jsxs("form",{onSubmit:K,className:"flex flex-col gap-8",children:[m.jsx("input",{type:"date",value:o.date,onChange:D=>k("date",D.target.value),max:i,className:"w-full max-w-2xl mx-auto text-xl px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 text-center font-semibold",disabled:s,style:{fontSize:"1.2rem"}}),m.jsx("input",{type:"number",step:"0.1",value:o.peso,onChange:D=>k("peso",D.target.value),placeholder:"Peso (kg)",className:"w-full max-w-2xl mx-auto text-xl px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 text-center font-semibold",disabled:s,style:{fontSize:"1.2rem"}}),m.jsx("div",{className:"flex flex-col gap-6 w-full max-w-2xl mx-auto",children:E.map((D,z)=>m.jsxs("button",{type:"button",onClick:()=>W(D.key),className:`flex items-center gap-4 p-4 rounded-2xl border-2 transition-all duration-150 focus:outline-none focus:ring-2 focus:ring-green-300 w-full ${o[D.key]?"bg-green-100 border-green-500 scale-105":"bg-gray-50 border-gray-200 opacity-90"}`,style:{minHeight:72},disabled:s,children:[m.jsx("span",{className:"text-5xl",children:D.label.split(" ")[0]}),m.jsx("span",{className:"text-lg font-semibold text-gray-800 flex-1 text-left",children:D.label.replace(/^[^ ]+ /,"")}),m.jsx("span",{className:`w-8 h-8 flex items-center justify-center rounded-full border-2 ${o[D.key]?"bg-green-500 border-green-500":"border-gray-300 bg-white"}`,children:o[D.key]&&m.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},D.key))}),m.jsxs("div",{className:"w-full max-w-2xl mx-auto",children:[m.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"Como voc est se sentindo?"}),m.jsx("div",{className:"flex gap-4",children:S.map(D=>m.jsxs("button",{type:"button",onClick:()=>k("sentimento",D.key),className:`flex-1 p-4 rounded-2xl border-2 transition-all duration-150 text-center ${o.sentimento===D.key?`bg-${D.color}-100 border-${D.color}-500 scale-105`:"bg-gray-50 border-gray-200"}`,disabled:s,style:{minHeight:72},children:[m.jsx("div",{className:"text-4xl mb-2",children:D.label.split(" ")[0]}),m.jsx("div",{className:"text-base font-semibold text-gray-700",children:D.label.split(" ")[1]})]},D.key))})]}),m.jsxs("div",{className:"w-full max-w-2xl mx-auto",children:[m.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"Como foi seu dia?"}),m.jsx("textarea",{value:o.obs,onChange:D=>k("obs",D.target.value),placeholder:"Escreva aqui seu comentrio, reflexo ou diagnstico do dia...",rows:5,className:"w-full px-4 py-4 rounded-xl border-2 border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 text-lg resize-none",style:{minHeight:120},disabled:s})]})]})}),m.jsx("div",{className:"w-full px-10 pb-8 pt-4 bg-white sticky bottom-0 left-0 z-30 border-t border-gray-100",children:m.jsx("button",{type:"button",onClick:K,disabled:s,className:"w-full max-w-2xl mx-auto py-5 rounded-2xl bg-blue-600 text-white text-2xl font-bold flex items-center justify-center gap-3 shadow-lg disabled:opacity-60",style:{minHeight:64},children:s?m.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"}):m.jsxs(m.Fragment,{children:[m.jsx(mT,{size:28}),"Finalizar Dia"]})})})]})}),d&&m.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 bg-green-100 border border-green-400 text-green-700 px-6 py-3 rounded-lg shadow-lg z-50",children:d})]})};function uj(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=uj(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Oe(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=uj(t))&&(n&&(n+=" "),n+=e);return n}var _9=Array.isArray,vr=_9,w9=typeof Rf=="object"&&Rf&&Rf.Object===Object&&Rf,cj=w9,x9=cj,E9=typeof self=="object"&&self&&self.Object===Object&&self,S9=x9||E9||Function("return this")(),jn=S9,T9=jn,A9=T9.Symbol,uf=A9,yT=uf,fj=Object.prototype,P9=fj.hasOwnProperty,I9=fj.toString,Gl=yT?yT.toStringTag:void 0;function O9(t){var e=P9.call(t,Gl),r=t[Gl];try{t[Gl]=void 0;var n=!0}catch{}var i=I9.call(t);return n&&(e?t[Gl]=r:delete t[Gl]),i}var C9=O9,k9=Object.prototype,N9=k9.toString;function j9(t){return N9.call(t)}var R9=j9,vT=uf,D9=C9,M9=R9,$9="[object Null]",L9="[object Undefined]",bT=vT?vT.toStringTag:void 0;function V9(t){return t==null?t===void 0?L9:$9:bT&&bT in Object(t)?D9(t):M9(t)}var gi=V9;function F9(t){return t!=null&&typeof t=="object"}var yi=F9,B9=gi,U9=yi,z9="[object Symbol]";function W9(t){return typeof t=="symbol"||U9(t)&&B9(t)==z9}var dl=W9,H9=vr,q9=dl,G9=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,K9=/^\w*$/;function X9(t,e){if(H9(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||q9(t)?!0:K9.test(t)||!G9.test(t)||e!=null&&t in Object(e)}var Sw=X9;function Y9(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var bo=Y9;const hl=Le(bo);var Q9=gi,J9=bo,Z9="[object AsyncFunction]",e8="[object Function]",t8="[object GeneratorFunction]",r8="[object Proxy]";function n8(t){if(!J9(t))return!1;var e=Q9(t);return e==e8||e==t8||e==Z9||e==r8}var Tw=n8;const ge=Le(Tw);var i8=jn,o8=i8["__core-js_shared__"],a8=o8,sy=a8,_T=function(){var t=/[^.]+$/.exec(sy&&sy.keys&&sy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function s8(t){return!!_T&&_T in t}var l8=s8,u8=Function.prototype,c8=u8.toString;function f8(t){if(t!=null){try{return c8.call(t)}catch{}try{return t+""}catch{}}return""}var dj=f8,d8=Tw,h8=l8,p8=bo,m8=dj,g8=/[\\^$.*+?()[\]{}|]/g,y8=/^\[object .+?Constructor\]$/,v8=Function.prototype,b8=Object.prototype,_8=v8.toString,w8=b8.hasOwnProperty,x8=RegExp("^"+_8.call(w8).replace(g8,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function E8(t){if(!p8(t)||h8(t))return!1;var e=d8(t)?x8:y8;return e.test(m8(t))}var S8=E8;function T8(t,e){return t==null?void 0:t[e]}var A8=T8,P8=S8,I8=A8;function O8(t,e){var r=I8(t,e);return P8(r)?r:void 0}var ba=O8,C8=ba,k8=C8(Object,"create"),wm=k8,wT=wm;function N8(){this.__data__=wT?wT(null):{},this.size=0}var j8=N8;function R8(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var D8=R8,M8=wm,$8="__lodash_hash_undefined__",L8=Object.prototype,V8=L8.hasOwnProperty;function F8(t){var e=this.__data__;if(M8){var r=e[t];return r===$8?void 0:r}return V8.call(e,t)?e[t]:void 0}var B8=F8,U8=wm,z8=Object.prototype,W8=z8.hasOwnProperty;function H8(t){var e=this.__data__;return U8?e[t]!==void 0:W8.call(e,t)}var q8=H8,G8=wm,K8="__lodash_hash_undefined__";function X8(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=G8&&e===void 0?K8:e,this}var Y8=X8,Q8=j8,J8=D8,Z8=B8,ez=q8,tz=Y8;function pl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}pl.prototype.clear=Q8;pl.prototype.delete=J8;pl.prototype.get=Z8;pl.prototype.has=ez;pl.prototype.set=tz;var rz=pl;function nz(){this.__data__=[],this.size=0}var iz=nz;function oz(t,e){return t===e||t!==t&&e!==e}var Aw=oz,az=Aw;function sz(t,e){for(var r=t.length;r--;)if(az(t[r][0],e))return r;return-1}var xm=sz,lz=xm,uz=Array.prototype,cz=uz.splice;function fz(t){var e=this.__data__,r=lz(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():cz.call(e,r,1),--this.size,!0}var dz=fz,hz=xm;function pz(t){var e=this.__data__,r=hz(e,t);return r<0?void 0:e[r][1]}var mz=pz,gz=xm;function yz(t){return gz(this.__data__,t)>-1}var vz=yz,bz=xm;function _z(t,e){var r=this.__data__,n=bz(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var wz=_z,xz=iz,Ez=dz,Sz=mz,Tz=vz,Az=wz;function ml(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ml.prototype.clear=xz;ml.prototype.delete=Ez;ml.prototype.get=Sz;ml.prototype.has=Tz;ml.prototype.set=Az;var Em=ml,Pz=ba,Iz=jn,Oz=Pz(Iz,"Map"),Pw=Oz,xT=rz,Cz=Em,kz=Pw;function Nz(){this.size=0,this.__data__={hash:new xT,map:new(kz||Cz),string:new xT}}var jz=Nz;function Rz(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Dz=Rz,Mz=Dz;function $z(t,e){var r=t.__data__;return Mz(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Sm=$z,Lz=Sm;function Vz(t){var e=Lz(this,t).delete(t);return this.size-=e?1:0,e}var Fz=Vz,Bz=Sm;function Uz(t){return Bz(this,t).get(t)}var zz=Uz,Wz=Sm;function Hz(t){return Wz(this,t).has(t)}var qz=Hz,Gz=Sm;function Kz(t,e){var r=Gz(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Xz=Kz,Yz=jz,Qz=Fz,Jz=zz,Zz=qz,e7=Xz;function gl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}gl.prototype.clear=Yz;gl.prototype.delete=Qz;gl.prototype.get=Jz;gl.prototype.has=Zz;gl.prototype.set=e7;var Iw=gl,hj=Iw,t7="Expected a function";function Ow(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(t7);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(Ow.Cache||hj),r}Ow.Cache=hj;var pj=Ow;const r7=Le(pj);var n7=pj,i7=500;function o7(t){var e=n7(t,function(n){return r.size===i7&&r.clear(),n}),r=e.cache;return e}var a7=o7,s7=a7,l7=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u7=/\\(\\)?/g,c7=s7(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(l7,function(r,n,i,o){e.push(i?o.replace(u7,"$1"):n||r)}),e}),f7=c7;function d7(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var Cw=d7,ET=uf,h7=Cw,p7=vr,m7=dl,ST=ET?ET.prototype:void 0,TT=ST?ST.toString:void 0;function mj(t){if(typeof t=="string")return t;if(p7(t))return h7(t,mj)+"";if(m7(t))return TT?TT.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var g7=mj,y7=g7;function v7(t){return t==null?"":y7(t)}var gj=v7,b7=vr,_7=Sw,w7=f7,x7=gj;function E7(t,e){return b7(t)?t:_7(t,e)?[t]:w7(x7(t))}var yj=E7,S7=dl;function T7(t){if(typeof t=="string"||S7(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Tm=T7,A7=yj,P7=Tm;function I7(t,e){e=A7(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[P7(e[r++])];return r&&r==n?t:void 0}var kw=I7,O7=kw;function C7(t,e,r){var n=t==null?void 0:O7(t,e);return n===void 0?r:n}var vj=C7;const Br=Le(vj);function k7(t){return t==null}var N7=k7;const Ee=Le(N7);var j7=gi,R7=vr,D7=yi,M7="[object String]";function $7(t){return typeof t=="string"||!R7(t)&&D7(t)&&j7(t)==M7}var L7=$7;const la=Le(L7);var bj={exports:{}},Re={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nw=Symbol.for("react.element"),jw=Symbol.for("react.portal"),Am=Symbol.for("react.fragment"),Pm=Symbol.for("react.strict_mode"),Im=Symbol.for("react.profiler"),Om=Symbol.for("react.provider"),Cm=Symbol.for("react.context"),V7=Symbol.for("react.server_context"),km=Symbol.for("react.forward_ref"),Nm=Symbol.for("react.suspense"),jm=Symbol.for("react.suspense_list"),Rm=Symbol.for("react.memo"),Dm=Symbol.for("react.lazy"),F7=Symbol.for("react.offscreen"),_j;_j=Symbol.for("react.module.reference");function qr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Nw:switch(t=t.type,t){case Am:case Im:case Pm:case Nm:case jm:return t;default:switch(t=t&&t.$$typeof,t){case V7:case Cm:case km:case Dm:case Rm:case Om:return t;default:return e}}case jw:return e}}}Re.ContextConsumer=Cm;Re.ContextProvider=Om;Re.Element=Nw;Re.ForwardRef=km;Re.Fragment=Am;Re.Lazy=Dm;Re.Memo=Rm;Re.Portal=jw;Re.Profiler=Im;Re.StrictMode=Pm;Re.Suspense=Nm;Re.SuspenseList=jm;Re.isAsyncMode=function(){return!1};Re.isConcurrentMode=function(){return!1};Re.isContextConsumer=function(t){return qr(t)===Cm};Re.isContextProvider=function(t){return qr(t)===Om};Re.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nw};Re.isForwardRef=function(t){return qr(t)===km};Re.isFragment=function(t){return qr(t)===Am};Re.isLazy=function(t){return qr(t)===Dm};Re.isMemo=function(t){return qr(t)===Rm};Re.isPortal=function(t){return qr(t)===jw};Re.isProfiler=function(t){return qr(t)===Im};Re.isStrictMode=function(t){return qr(t)===Pm};Re.isSuspense=function(t){return qr(t)===Nm};Re.isSuspenseList=function(t){return qr(t)===jm};Re.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Am||t===Im||t===Pm||t===Nm||t===jm||t===F7||typeof t=="object"&&t!==null&&(t.$$typeof===Dm||t.$$typeof===Rm||t.$$typeof===Om||t.$$typeof===Cm||t.$$typeof===km||t.$$typeof===_j||t.getModuleId!==void 0)};Re.typeOf=qr;bj.exports=Re;var B7=bj.exports,U7=gi,z7=yi,W7="[object Number]";function H7(t){return typeof t=="number"||z7(t)&&U7(t)==W7}var wj=H7;const q7=Le(wj);var G7=wj;function K7(t){return G7(t)&&t!=+t}var X7=K7;const cf=Le(X7);var an=function(e){return e===0?0:e>0?1:-1},Uo=function(e){return la(e)&&e.indexOf("%")===e.length-1},te=function(e){return q7(e)&&!cf(e)},bt=function(e){return te(e)||la(e)},Y7=0,ff=function(e){var r=++Y7;return"".concat(e||"").concat(r)},ua=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!te(e)&&!la(e))return n;var o;if(Uo(e)){var a=e.indexOf("%");o=r*parseFloat(e.slice(0,a))/100}else o=+e;return cf(o)&&(o=n),i&&o>r&&(o=r),o},Ri=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Q7=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},rn=function(e,r){return te(e)&&te(r)?function(n){return e+n*(r-e)}:function(){return r}};function Nh(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Br(n,e))===r})}var J7=function(e,r){return te(e)&&te(r)?e-r:la(e)&&la(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function fs(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function i0(t){"@babel/helpers - typeof";return i0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i0(t)}var Z7=["viewBox","children"],eW=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],AT=["points","pathLength"],ly={svg:Z7,polygon:AT,polyline:AT},Rw=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],jh=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(U.isValidElement(e)&&(n=e.props),!hl(n))return null;var i={};return Object.keys(n).forEach(function(o){Rw.includes(o)&&(i[o]=r||function(a){return n[o](n,a)})}),i},tW=function(e,r,n){return function(i){return e(r,n,i),null}},Rh=function(e,r,n){if(!hl(e)||i0(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];Rw.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=tW(a,r,n))}),i},rW=["children"],nW=["children"];function PT(t,e){if(t==null)return{};var r=iW(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function o0(t){"@babel/helpers - typeof";return o0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o0(t)}var IT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Qn=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},OT=null,uy=null,Dw=function t(e){if(e===OT&&Array.isArray(uy))return uy;var r=[];return U.Children.forEach(e,function(n){Ee(n)||(B7.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),uy=r,OT=e,r};function Ur(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Qn(i)}):n=[Qn(e)],Dw(t).forEach(function(i){var o=Br(i,"type.displayName")||Br(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}function Er(t,e){var r=Ur(t,e);return r&&r[0]}var CT=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!te(n)||n<=0||!te(i)||i<=0)},oW=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],aW=function(e){return e&&e.type&&la(e.type)&&oW.indexOf(e.type)>=0},sW=function(e){return e&&o0(e)==="object"&&"clipDot"in e},lW=function(e,r,n,i){var o,a=(o=ly==null?void 0:ly[i])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!ge(e)&&(i&&a.includes(r)||eW.includes(r))||n&&Rw.includes(r)},Te=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(U.isValidElement(e)&&(i=e.props),!hl(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;lW((s=i)===null||s===void 0?void 0:s[a],a,r,n)&&(o[a]=i[a])}),o},a0=function t(e,r){if(e===r)return!0;var n=U.Children.count(e);if(n!==U.Children.count(r))return!1;if(n===0)return!0;if(n===1)return kT(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var o=e[i],a=r[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!kT(o,a))return!1}return!0},kT=function(e,r){if(Ee(e)&&Ee(r))return!0;if(!Ee(e)&&!Ee(r)){var n=e.props||{},i=n.children,o=PT(n,rW),a=r.props||{},s=a.children,l=PT(a,nW);return i&&s?fs(o,l)&&a0(i,s):!i&&!s?fs(o,l):!1}return!1},NT=function(e,r){var n=[],i={};return Dw(e).forEach(function(o,a){if(aW(o))n.push(o);else if(o){var s=Qn(o.type),l=r[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var d=u(o,s,a);n.push(d),i[s]=!0}}}),n},uW=function(e){var r=e&&e.type;return r&&IT[r]?IT[r]:null},cW=function(e,r){return Dw(r).indexOf(e)},fW=["children","width","height","viewBox","className","style","title","desc"];function s0(){return s0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s0.apply(this,arguments)}function dW(t,e){if(t==null)return{};var r=hW(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function l0(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=dW(t,fW),c=i||{width:r,height:n,x:0,y:0},d=Oe("recharts-surface",o);return L.createElement("svg",s0({},Te(u,!0,"svg"),{className:d,width:r,height:n,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),L.createElement("title",null,s),L.createElement("desc",null,l),e)}var pW=["children","className"];function u0(){return u0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u0.apply(this,arguments)}function mW(t,e){if(t==null)return{};var r=gW(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ut=L.forwardRef(function(t,e){var r=t.children,n=t.className,i=mW(t,pW),o=Oe("recharts-layer",n);return L.createElement("g",u0({className:o},Te(i,!0),{ref:e}),r)}),Jn=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]};function yW(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(i);++n<i;)o[n]=t[n+e];return o}var vW=yW,bW=vW;function _W(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:bW(t,e,r)}var wW=_W,xW="\\ud800-\\udfff",EW="\\u0300-\\u036f",SW="\\ufe20-\\ufe2f",TW="\\u20d0-\\u20ff",AW=EW+SW+TW,PW="\\ufe0e\\ufe0f",IW="\\u200d",OW=RegExp("["+IW+xW+AW+PW+"]");function CW(t){return OW.test(t)}var xj=CW;function kW(t){return t.split("")}var NW=kW,Ej="\\ud800-\\udfff",jW="\\u0300-\\u036f",RW="\\ufe20-\\ufe2f",DW="\\u20d0-\\u20ff",MW=jW+RW+DW,$W="\\ufe0e\\ufe0f",LW="["+Ej+"]",c0="["+MW+"]",f0="\\ud83c[\\udffb-\\udfff]",VW="(?:"+c0+"|"+f0+")",Sj="[^"+Ej+"]",Tj="(?:\\ud83c[\\udde6-\\uddff]){2}",Aj="[\\ud800-\\udbff][\\udc00-\\udfff]",FW="\\u200d",Pj=VW+"?",Ij="["+$W+"]?",BW="(?:"+FW+"(?:"+[Sj,Tj,Aj].join("|")+")"+Ij+Pj+")*",UW=Ij+Pj+BW,zW="(?:"+[Sj+c0+"?",c0,Tj,Aj,LW].join("|")+")",WW=RegExp(f0+"(?="+f0+")|"+zW+UW,"g");function HW(t){return t.match(WW)||[]}var qW=HW,GW=NW,KW=xj,XW=qW;function YW(t){return KW(t)?XW(t):GW(t)}var QW=YW,JW=wW,ZW=xj,eH=QW,tH=gj;function rH(t){return function(e){e=tH(e);var r=ZW(e)?eH(e):void 0,n=r?r[0]:e.charAt(0),i=r?JW(r,1).join(""):e.slice(1);return n[t]()+i}}var nH=rH,iH=nH,oH=iH("toUpperCase"),aH=oH;const Mm=Le(aH);function Fe(t){return function(){return t}}const Oj=Math.cos,Dh=Math.sin,hn=Math.sqrt,Mh=Math.PI,$m=2*Mh,d0=Math.PI,h0=2*d0,Ro=1e-6,sH=h0-Ro;function Cj(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function lH(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Cj;const r=10**e;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class uH{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Cj:lH(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,o,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,r,n,i,o){if(e=+e,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=n-e,u=i-r,c=a-e,d=s-r,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>Ro)if(!(Math.abs(d*l-u*c)>Ro)||!o)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-a,g=i-s,y=l*l+u*u,x=p*p+g*g,_=Math.sqrt(y),b=Math.sqrt(h),w=o*Math.tan((d0-Math.acos((y+h-x)/(2*_*b)))/2),O=w/b,T=w/_;Math.abs(O-1)>Ro&&this._append`L${e+O*c},${r+O*d}`,this._append`A${o},${o},0,0,${+(d*p>c*g)},${this._x1=e+T*l},${this._y1=r+T*u}`}}arc(e,r,n,i,o,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),u=e+s,c=r+l,d=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Ro||Math.abs(this._y1-c)>Ro)&&this._append`L${u},${c}`,n&&(h<0&&(h=h%h0+h0),h>sH?this._append`A${n},${n},0,1,${d},${e-s},${r-l}A${n},${n},0,1,${d},${this._x1=u},${this._y1=c}`:h>Ro&&this._append`A${n},${n},0,${+(h>=d0)},${d},${this._x1=e+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Mw(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new uH(e)}function $w(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function kj(t){this._context=t}kj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Lm(t){return new kj(t)}function Nj(t){return t[0]}function jj(t){return t[1]}function Rj(t,e){var r=Fe(!0),n=null,i=Lm,o=null,a=Mw(s);t=typeof t=="function"?t:t===void 0?Nj:Fe(t),e=typeof e=="function"?e:e===void 0?jj:Fe(e);function s(l){var u,c=(l=$w(l)).length,d,h=!1,p;for(n==null&&(o=i(p=a())),u=0;u<=c;++u)!(u<c&&r(d=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(d,u,l),+e(d,u,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Fe(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Fe(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Fe(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(o=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=o=null:o=i(n=l),s):n},s}function od(t,e,r){var n=null,i=Fe(!0),o=null,a=Lm,s=null,l=Mw(u);t=typeof t=="function"?t:t===void 0?Nj:Fe(+t),e=typeof e=="function"?e:Fe(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?jj:Fe(+r);function u(d){var h,p,g,y=(d=$w(d)).length,x,_=!1,b,w=new Array(y),O=new Array(y);for(o==null&&(s=a(b=l())),h=0;h<=y;++h){if(!(h<y&&i(x=d[h],h,d))===_)if(_=!_)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=p;--g)s.point(w[g],O[g]);s.lineEnd(),s.areaEnd()}_&&(w[h]=+t(x,h,d),O[h]=+e(x,h,d),s.point(n?+n(x,h,d):w[h],r?+r(x,h,d):O[h]))}if(b)return s=null,b+""||null}function c(){return Rj().defined(i).curve(a).context(o)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Fe(+d),n=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Fe(+d),u):t},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Fe(+d),u):n},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Fe(+d),r=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Fe(+d),u):e},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Fe(+d),u):r},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(r)},u.lineX1=function(){return c().x(n).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Fe(!!d),u):i},u.curve=function(d){return arguments.length?(a=d,o!=null&&(s=a(o)),u):a},u.context=function(d){return arguments.length?(d==null?o=s=null:s=a(o=d),u):o},u}class Dj{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function cH(t){return new Dj(t,!0)}function fH(t){return new Dj(t,!1)}const Lw={draw(t,e){const r=hn(e/Mh);t.moveTo(r,0),t.arc(0,0,r,0,$m)}},dH={draw(t,e){const r=hn(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},Mj=hn(1/3),hH=Mj*2,pH={draw(t,e){const r=hn(e/hH),n=r*Mj;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},mH={draw(t,e){const r=hn(e),n=-r/2;t.rect(n,n,r,r)}},gH=.8908130915292852,$j=Dh(Mh/10)/Dh(7*Mh/10),yH=Dh($m/10)*$j,vH=-Oj($m/10)*$j,bH={draw(t,e){const r=hn(e*gH),n=yH*r,i=vH*r;t.moveTo(0,-r),t.lineTo(n,i);for(let o=1;o<5;++o){const a=$m*o/5,s=Oj(a),l=Dh(a);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},cy=hn(3),_H={draw(t,e){const r=-hn(e/(cy*3));t.moveTo(0,r*2),t.lineTo(-cy*r,-r),t.lineTo(cy*r,-r),t.closePath()}},Nr=-.5,jr=hn(3)/2,p0=1/hn(12),wH=(p0/2+1)*3,xH={draw(t,e){const r=hn(e/wH),n=r/2,i=r*p0,o=n,a=r*p0+r,s=-o,l=a;t.moveTo(n,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Nr*n-jr*i,jr*n+Nr*i),t.lineTo(Nr*o-jr*a,jr*o+Nr*a),t.lineTo(Nr*s-jr*l,jr*s+Nr*l),t.lineTo(Nr*n+jr*i,Nr*i-jr*n),t.lineTo(Nr*o+jr*a,Nr*a-jr*o),t.lineTo(Nr*s+jr*l,Nr*l-jr*s),t.closePath()}};function EH(t,e){let r=null,n=Mw(i);t=typeof t=="function"?t:Fe(t||Lw),e=typeof e=="function"?e:Fe(e===void 0?64:+e);function i(){let o;if(r||(r=o=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Fe(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Fe(+o),i):e},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function $h(){}function Lh(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function Lj(t){this._context=t}Lj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Lh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Lh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function SH(t){return new Lj(t)}function Vj(t){this._context=t}Vj.prototype={areaStart:$h,areaEnd:$h,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Lh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function TH(t){return new Vj(t)}function Fj(t){this._context=t}Fj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Lh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function AH(t){return new Fj(t)}function Bj(t){this._context=t}Bj.prototype={areaStart:$h,areaEnd:$h,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function PH(t){return new Bj(t)}function jT(t){return t<0?-1:1}function RT(t,e,r){var n=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),s=(o*i+a*n)/(n+i);return(jT(o)+jT(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function DT(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function fy(t,e,r){var n=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-n)/3;t._context.bezierCurveTo(n+s,i+s*e,o-s,a-s*r,o,a)}function Vh(t){this._context=t}Vh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fy(this,this._t0,DT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,fy(this,DT(this,r=RT(this,t,e)),r);break;default:fy(this,this._t0,r=RT(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function Uj(t){this._context=new zj(t)}(Uj.prototype=Object.create(Vh.prototype)).point=function(t,e){Vh.prototype.point.call(this,e,t)};function zj(t){this._context=t}zj.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,o){this._context.bezierCurveTo(e,t,n,r,o,i)}};function IH(t){return new Vh(t)}function OH(t){return new Uj(t)}function Wj(t){this._context=t}Wj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=MT(t),i=MT(e),o=0,a=1;a<r;++o,++a)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function MT(t){var e,r=t.length-1,n,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function CH(t){return new Wj(t)}function Vm(t,e){this._context=t,this._t=e}Vm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function kH(t){return new Vm(t,.5)}function NH(t){return new Vm(t,0)}function jH(t){return new Vm(t,1)}function Ns(t,e){if((a=t.length)>1)for(var r=1,n,i,o=t[e[0]],a,s=o.length;r<a;++r)for(i=o,o=t[e[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function m0(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function RH(t,e){return t[e]}function DH(t){const e=[];return e.key=t,e}function MH(){var t=Fe([]),e=m0,r=Ns,n=RH;function i(o){var a=Array.from(t.apply(this,arguments),DH),s,l=a.length,u=-1,c;for(const d of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+n(d,a[s].key,u,o)]).data=d;for(s=0,c=$w(e(a));s<l;++s)a[c[s]].index=s;return r(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Fe(Array.from(o)),i):t},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:Fe(+o),i):n},i.order=function(o){return arguments.length?(e=o==null?m0:typeof o=="function"?o:Fe(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(r=o??Ns,i):r},i}function $H(t,e){if((n=t.length)>0){for(var r,n,i=0,o=t[0].length,a;i<o;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}Ns(t,e)}}function LH(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,o=n.length;r<o;++r){for(var a=0,s=0;a<i;++a)s+=t[a][r][1]||0;n[r][1]+=n[r][0]=-s/2}Ns(t,e)}}function VH(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,o,a;n<o;++n){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],d=c[n][1]||0,h=c[n-1][1]||0,p=(d-h)/2,g=0;g<s;++g){var y=t[e[g]],x=y[n][1]||0,_=y[n-1][1]||0;p+=x-_}l+=d,u+=p*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,Ns(t,e)}}function uc(t){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(t)}var FH=["type","size","sizeType"];function g0(){return g0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g0.apply(this,arguments)}function $T(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$T(Object(r),!0).forEach(function(n){BH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$T(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BH(t,e,r){return e=UH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UH(t){var e=zH(t,"string");return uc(e)=="symbol"?e:e+""}function zH(t,e){if(uc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WH(t,e){if(t==null)return{};var r=HH(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Hj={symbolCircle:Lw,symbolCross:dH,symbolDiamond:pH,symbolSquare:mH,symbolStar:bH,symbolTriangle:_H,symbolWye:xH},qH=Math.PI/180,GH=function(e){var r="symbol".concat(Mm(e));return Hj[r]||Lw},KH=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*qH;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},XH=function(e,r){Hj["symbol".concat(Mm(e))]=r},Vw=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=WH(e,FH),u=LT(LT({},l),{},{type:n,size:o,sizeType:s}),c=function(){var x=GH(n),_=EH().type(x).size(KH(o,s,n));return _()},d=u.className,h=u.cx,p=u.cy,g=Te(u,!0);return h===+h&&p===+p&&o===+o?L.createElement("path",g0({},g,{className:Oe("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:c()})):null};Vw.registerSymbol=XH;function js(t){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},js(t)}function y0(){return y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},y0.apply(this,arguments)}function VT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VT(Object(r),!0).forEach(function(n){cc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gj(n.key),n)}}function ZH(t,e,r){return e&&JH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eq(t,e,r){return e=Fh(e),tq(t,qj()?Reflect.construct(e,r||[],Fh(t).constructor):e.apply(t,r))}function tq(t,e){if(e&&(js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rq(t)}function rq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qj=function(){return!!t})()}function Fh(t){return Fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fh(t)}function nq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v0(t,e)}function v0(t,e){return v0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},v0(t,e)}function cc(t,e,r){return e=Gj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gj(t){var e=iq(t,"string");return js(e)=="symbol"?e:e+""}function iq(t,e){if(js(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rr=32,Fw=function(t){function e(){return QH(this,e),eq(this,e,arguments)}return nq(e,t),ZH(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,o=Rr/2,a=Rr/6,s=Rr/3,l=n.inactive?i:n.color;if(n.type==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Rr,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Rr,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return L.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Rr/8,"h").concat(Rr,"v").concat(Rr*3/4,"h").concat(-Rr,"z"),className:"recharts-legend-icon"});if(L.isValidElement(n.legendIcon)){var u=YH({},n);return delete u.legendIcon,L.cloneElement(n.legendIcon,u)}return L.createElement(Vw,{fill:l,cx:o,cy:o,size:Rr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Rr,height:Rr},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,g){var y=p.formatter||l,x=Oe(cc(cc({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var _=ge(p.value)?null:p.value;Jn(!ge(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?u:p.color;return L.createElement("li",y0({className:x,style:d,key:"legend-item-".concat(g)},Rh(n.props,p,g)),L.createElement(l0,{width:a,height:a,viewBox:c,style:h},n.renderIcon(p)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},y?y(_,p,g):_))})}},{key:"render",value:function(){var n=this.props,i=n.payload,o=n.layout,a=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(U.PureComponent);cc(Fw,"displayName","Legend");cc(Fw,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var oq=Em;function aq(){this.__data__=new oq,this.size=0}var sq=aq;function lq(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var uq=lq;function cq(t){return this.__data__.get(t)}var fq=cq;function dq(t){return this.__data__.has(t)}var hq=dq,pq=Em,mq=Pw,gq=Iw,yq=200;function vq(t,e){var r=this.__data__;if(r instanceof pq){var n=r.__data__;if(!mq||n.length<yq-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new gq(n)}return r.set(t,e),this.size=r.size,this}var bq=vq,_q=Em,wq=sq,xq=uq,Eq=fq,Sq=hq,Tq=bq;function yl(t){var e=this.__data__=new _q(t);this.size=e.size}yl.prototype.clear=wq;yl.prototype.delete=xq;yl.prototype.get=Eq;yl.prototype.has=Sq;yl.prototype.set=Tq;var Kj=yl,Aq="__lodash_hash_undefined__";function Pq(t){return this.__data__.set(t,Aq),this}var Iq=Pq;function Oq(t){return this.__data__.has(t)}var Cq=Oq,kq=Iw,Nq=Iq,jq=Cq;function Bh(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new kq;++e<r;)this.add(t[e])}Bh.prototype.add=Bh.prototype.push=Nq;Bh.prototype.has=jq;var Xj=Bh;function Rq(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Yj=Rq;function Dq(t,e){return t.has(e)}var Qj=Dq,Mq=Xj,$q=Yj,Lq=Qj,Vq=1,Fq=2;function Bq(t,e,r,n,i,o){var a=r&Vq,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,h=!0,p=r&Fq?new Mq:void 0;for(o.set(t,e),o.set(e,t);++d<s;){var g=t[d],y=e[d];if(n)var x=a?n(y,g,d,e,t,o):n(g,y,d,t,e,o);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!$q(e,function(_,b){if(!Lq(p,b)&&(g===_||i(g,_,r,n,o)))return p.push(b)})){h=!1;break}}else if(!(g===y||i(g,y,r,n,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var Jj=Bq,Uq=jn,zq=Uq.Uint8Array,Wq=zq;function Hq(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var qq=Hq;function Gq(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Bw=Gq,FT=uf,BT=Wq,Kq=Aw,Xq=Jj,Yq=qq,Qq=Bw,Jq=1,Zq=2,eG="[object Boolean]",tG="[object Date]",rG="[object Error]",nG="[object Map]",iG="[object Number]",oG="[object RegExp]",aG="[object Set]",sG="[object String]",lG="[object Symbol]",uG="[object ArrayBuffer]",cG="[object DataView]",UT=FT?FT.prototype:void 0,dy=UT?UT.valueOf:void 0;function fG(t,e,r,n,i,o,a){switch(r){case cG:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case uG:return!(t.byteLength!=e.byteLength||!o(new BT(t),new BT(e)));case eG:case tG:case iG:return Kq(+t,+e);case rG:return t.name==e.name&&t.message==e.message;case oG:case sG:return t==e+"";case nG:var s=Yq;case aG:var l=n&Jq;if(s||(s=Qq),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;n|=Zq,a.set(t,e);var c=Xq(s(t),s(e),n,i,o,a);return a.delete(t),c;case lG:if(dy)return dy.call(t)==dy.call(e)}return!1}var dG=fG;function hG(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var Zj=hG,pG=Zj,mG=vr;function gG(t,e,r){var n=e(t);return mG(t)?n:pG(n,r(t))}var yG=gG;function vG(t,e){for(var r=-1,n=t==null?0:t.length,i=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o}var bG=vG;function _G(){return[]}var wG=_G,xG=bG,EG=wG,SG=Object.prototype,TG=SG.propertyIsEnumerable,zT=Object.getOwnPropertySymbols,AG=zT?function(t){return t==null?[]:(t=Object(t),xG(zT(t),function(e){return TG.call(t,e)}))}:EG,PG=AG;function IG(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var OG=IG,CG=gi,kG=yi,NG="[object Arguments]";function jG(t){return kG(t)&&CG(t)==NG}var RG=jG,WT=RG,DG=yi,eR=Object.prototype,MG=eR.hasOwnProperty,$G=eR.propertyIsEnumerable,LG=WT(function(){return arguments}())?WT:function(t){return DG(t)&&MG.call(t,"callee")&&!$G.call(t,"callee")},Uw=LG,Uh={exports:{}};function VG(){return!1}var FG=VG;Uh.exports;(function(t,e){var r=jn,n=FG,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;t.exports=u})(Uh,Uh.exports);var tR=Uh.exports,BG=9007199254740991,UG=/^(?:0|[1-9]\d*)$/;function zG(t,e){var r=typeof t;return e=e??BG,!!e&&(r=="number"||r!="symbol"&&UG.test(t))&&t>-1&&t%1==0&&t<e}var zw=zG,WG=9007199254740991;function HG(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=WG}var Ww=HG,qG=gi,GG=Ww,KG=yi,XG="[object Arguments]",YG="[object Array]",QG="[object Boolean]",JG="[object Date]",ZG="[object Error]",eK="[object Function]",tK="[object Map]",rK="[object Number]",nK="[object Object]",iK="[object RegExp]",oK="[object Set]",aK="[object String]",sK="[object WeakMap]",lK="[object ArrayBuffer]",uK="[object DataView]",cK="[object Float32Array]",fK="[object Float64Array]",dK="[object Int8Array]",hK="[object Int16Array]",pK="[object Int32Array]",mK="[object Uint8Array]",gK="[object Uint8ClampedArray]",yK="[object Uint16Array]",vK="[object Uint32Array]",We={};We[cK]=We[fK]=We[dK]=We[hK]=We[pK]=We[mK]=We[gK]=We[yK]=We[vK]=!0;We[XG]=We[YG]=We[lK]=We[QG]=We[uK]=We[JG]=We[ZG]=We[eK]=We[tK]=We[rK]=We[nK]=We[iK]=We[oK]=We[aK]=We[sK]=!1;function bK(t){return KG(t)&&GG(t.length)&&!!We[qG(t)]}var _K=bK;function wK(t){return function(e){return t(e)}}var rR=wK,zh={exports:{}};zh.exports;(function(t,e){var r=cj,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,a=o&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(zh,zh.exports);var xK=zh.exports,EK=_K,SK=rR,HT=xK,qT=HT&&HT.isTypedArray,TK=qT?SK(qT):EK,nR=TK,AK=OG,PK=Uw,IK=vr,OK=tR,CK=zw,kK=nR,NK=Object.prototype,jK=NK.hasOwnProperty;function RK(t,e){var r=IK(t),n=!r&&PK(t),i=!r&&!n&&OK(t),o=!r&&!n&&!i&&kK(t),a=r||n||i||o,s=a?AK(t.length,String):[],l=s.length;for(var u in t)(e||jK.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||CK(u,l)))&&s.push(u);return s}var DK=RK,MK=Object.prototype;function $K(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||MK;return t===r}var LK=$K;function VK(t,e){return function(r){return t(e(r))}}var iR=VK,FK=iR,BK=FK(Object.keys,Object),UK=BK,zK=LK,WK=UK,HK=Object.prototype,qK=HK.hasOwnProperty;function GK(t){if(!zK(t))return WK(t);var e=[];for(var r in Object(t))qK.call(t,r)&&r!="constructor"&&e.push(r);return e}var KK=GK,XK=Tw,YK=Ww;function QK(t){return t!=null&&YK(t.length)&&!XK(t)}var df=QK,JK=DK,ZK=KK,eX=df;function tX(t){return eX(t)?JK(t):ZK(t)}var Fm=tX,rX=yG,nX=PG,iX=Fm;function oX(t){return rX(t,iX,nX)}var aX=oX,GT=aX,sX=1,lX=Object.prototype,uX=lX.hasOwnProperty;function cX(t,e,r,n,i,o){var a=r&sX,s=GT(t),l=s.length,u=GT(e),c=u.length;if(l!=c&&!a)return!1;for(var d=l;d--;){var h=s[d];if(!(a?h in e:uX.call(e,h)))return!1}var p=o.get(t),g=o.get(e);if(p&&g)return p==e&&g==t;var y=!0;o.set(t,e),o.set(e,t);for(var x=a;++d<l;){h=s[d];var _=t[h],b=e[h];if(n)var w=a?n(b,_,h,e,t,o):n(_,b,h,t,e,o);if(!(w===void 0?_===b||i(_,b,r,n,o):w)){y=!1;break}x||(x=h=="constructor")}if(y&&!x){var O=t.constructor,T=e.constructor;O!=T&&"constructor"in t&&"constructor"in e&&!(typeof O=="function"&&O instanceof O&&typeof T=="function"&&T instanceof T)&&(y=!1)}return o.delete(t),o.delete(e),y}var fX=cX,dX=ba,hX=jn,pX=dX(hX,"DataView"),mX=pX,gX=ba,yX=jn,vX=gX(yX,"Promise"),bX=vX,_X=ba,wX=jn,xX=_X(wX,"Set"),oR=xX,EX=ba,SX=jn,TX=EX(SX,"WeakMap"),AX=TX,b0=mX,_0=Pw,w0=bX,x0=oR,E0=AX,aR=gi,vl=dj,KT="[object Map]",PX="[object Object]",XT="[object Promise]",YT="[object Set]",QT="[object WeakMap]",JT="[object DataView]",IX=vl(b0),OX=vl(_0),CX=vl(w0),kX=vl(x0),NX=vl(E0),Do=aR;(b0&&Do(new b0(new ArrayBuffer(1)))!=JT||_0&&Do(new _0)!=KT||w0&&Do(w0.resolve())!=XT||x0&&Do(new x0)!=YT||E0&&Do(new E0)!=QT)&&(Do=function(t){var e=aR(t),r=e==PX?t.constructor:void 0,n=r?vl(r):"";if(n)switch(n){case IX:return JT;case OX:return KT;case CX:return XT;case kX:return YT;case NX:return QT}return e});var jX=Do,hy=Kj,RX=Jj,DX=dG,MX=fX,ZT=jX,eA=vr,tA=tR,$X=nR,LX=1,rA="[object Arguments]",nA="[object Array]",ad="[object Object]",VX=Object.prototype,iA=VX.hasOwnProperty;function FX(t,e,r,n,i,o){var a=eA(t),s=eA(e),l=a?nA:ZT(t),u=s?nA:ZT(e);l=l==rA?ad:l,u=u==rA?ad:u;var c=l==ad,d=u==ad,h=l==u;if(h&&tA(t)){if(!tA(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new hy),a||$X(t)?RX(t,e,r,n,i,o):DX(t,e,l,r,n,i,o);if(!(r&LX)){var p=c&&iA.call(t,"__wrapped__"),g=d&&iA.call(e,"__wrapped__");if(p||g){var y=p?t.value():t,x=g?e.value():e;return o||(o=new hy),i(y,x,r,n,o)}}return h?(o||(o=new hy),MX(t,e,r,n,i,o)):!1}var BX=FX,UX=BX,oA=yi;function sR(t,e,r,n,i){return t===e?!0:t==null||e==null||!oA(t)&&!oA(e)?t!==t&&e!==e:UX(t,e,r,n,sR,i)}var Hw=sR,zX=Kj,WX=Hw,HX=1,qX=2;function GX(t,e,r,n){var i=r.length,o=i,a=!n;if(t==null)return!o;for(t=Object(t);i--;){var s=r[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=r[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var d=new zX;if(n)var h=n(u,c,l,t,e,d);if(!(h===void 0?WX(c,u,HX|qX,n,d):h))return!1}}return!0}var KX=GX,XX=bo;function YX(t){return t===t&&!XX(t)}var lR=YX,QX=lR,JX=Fm;function ZX(t){for(var e=JX(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,QX(i)]}return e}var eY=ZX;function tY(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var uR=tY,rY=KX,nY=eY,iY=uR;function oY(t){var e=nY(t);return e.length==1&&e[0][2]?iY(e[0][0],e[0][1]):function(r){return r===t||rY(r,t,e)}}var aY=oY;function sY(t,e){return t!=null&&e in Object(t)}var lY=sY,uY=yj,cY=Uw,fY=vr,dY=zw,hY=Ww,pY=Tm;function mY(t,e,r){e=uY(e,t);for(var n=-1,i=e.length,o=!1;++n<i;){var a=pY(e[n]);if(!(o=t!=null&&r(t,a)))break;t=t[a]}return o||++n!=i?o:(i=t==null?0:t.length,!!i&&hY(i)&&dY(a,i)&&(fY(t)||cY(t)))}var gY=mY,yY=lY,vY=gY;function bY(t,e){return t!=null&&vY(t,e,yY)}var _Y=bY,wY=Hw,xY=vj,EY=_Y,SY=Sw,TY=lR,AY=uR,PY=Tm,IY=1,OY=2;function CY(t,e){return SY(t)&&TY(e)?AY(PY(t),e):function(r){var n=xY(r,t);return n===void 0&&n===e?EY(r,t):wY(e,n,IY|OY)}}var kY=CY;function NY(t){return t}var bl=NY;function jY(t){return function(e){return e==null?void 0:e[t]}}var RY=jY,DY=kw;function MY(t){return function(e){return DY(e,t)}}var $Y=MY,LY=RY,VY=$Y,FY=Sw,BY=Tm;function UY(t){return FY(t)?LY(BY(t)):VY(t)}var zY=UY,WY=aY,HY=kY,qY=bl,GY=vr,KY=zY;function XY(t){return typeof t=="function"?t:t==null?qY:typeof t=="object"?GY(t)?HY(t[0],t[1]):WY(t):KY(t)}var _o=XY;function YY(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var cR=YY;function QY(t){return t!==t}var JY=QY;function ZY(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var eQ=ZY,tQ=cR,rQ=JY,nQ=eQ;function iQ(t,e,r){return e===e?nQ(t,e,r):tQ(t,rQ,r)}var oQ=iQ,aQ=oQ;function sQ(t,e){var r=t==null?0:t.length;return!!r&&aQ(t,e,0)>-1}var lQ=sQ;function uQ(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var cQ=uQ;function fQ(){}var dQ=fQ,py=oR,hQ=dQ,pQ=Bw,mQ=1/0,gQ=py&&1/pQ(new py([,-0]))[1]==mQ?function(t){return new py(t)}:hQ,yQ=gQ,vQ=Xj,bQ=lQ,_Q=cQ,wQ=Qj,xQ=yQ,EQ=Bw,SQ=200;function TQ(t,e,r){var n=-1,i=bQ,o=t.length,a=!0,s=[],l=s;if(r)a=!1,i=_Q;else if(o>=SQ){var u=e?null:xQ(t);if(u)return EQ(u);a=!1,i=wQ,l=new vQ}else l=e?[]:s;e:for(;++n<o;){var c=t[n],d=e?e(c):c;if(c=r||c!==0?c:0,a&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),s.push(c)}else i(l,d,r)||(l!==s&&l.push(d),s.push(c))}return s}var AQ=TQ,PQ=_o,IQ=AQ;function OQ(t,e){return t&&t.length?IQ(t,PQ(e)):[]}var CQ=OQ;const aA=Le(CQ);function fR(t,e,r){return e===!0?aA(t,r):ge(e)?aA(t,e):t}function Rs(t){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rs(t)}var kQ=["ref"];function sA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ln(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sA(Object(r),!0).forEach(function(n){Bm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hR(n.key),n)}}function jQ(t,e,r){return e&&lA(t.prototype,e),r&&lA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function RQ(t,e,r){return e=Wh(e),DQ(t,dR()?Reflect.construct(e,r||[],Wh(t).constructor):e.apply(t,r))}function DQ(t,e){if(e&&(Rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MQ(t)}function MQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dR=function(){return!!t})()}function Wh(t){return Wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wh(t)}function $Q(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S0(t,e)}function S0(t,e){return S0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},S0(t,e)}function Bm(t,e,r){return e=hR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hR(t){var e=LQ(t,"string");return Rs(e)=="symbol"?e:e+""}function LQ(t,e){if(Rs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function VQ(t,e){if(t==null)return{};var r=FQ(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function BQ(t){return t.value}function UQ(t,e){if(L.isValidElement(t))return L.cloneElement(t,e);if(typeof t=="function")return L.createElement(t,e);e.ref;var r=VQ(e,kQ);return L.createElement(Fw,r)}var uA=1,ds=function(t){function e(){var r;NQ(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=RQ(this,e,[].concat(i)),Bm(r,"lastBoundingBox",{width:-1,height:-1}),r}return $Q(e,t),jQ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>uA||Math.abs(i.height-this.lastBoundingBox.height)>uA)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ln({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(a==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();d={left:((u||0)-p.width)/2}}else d=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();h={top:((c||0)-g.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ln(Ln({},d),h)}},{key:"render",value:function(){var n=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,d=Ln(Ln({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return L.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},UQ(o,Ln(Ln({},this.props),{},{payload:fR(c,u,BQ)})))}}],[{key:"getWithHeight",value:function(n,i){var o=Ln(Ln({},this.defaultProps),n.props),a=o.layout;return a==="vertical"&&te(n.props.height)?{height:n.props.height}:a==="horizontal"?{width:n.props.width||i}:null}}])}(U.PureComponent);Bm(ds,"displayName","Legend");Bm(ds,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var cA=uf,zQ=Uw,WQ=vr,fA=cA?cA.isConcatSpreadable:void 0;function HQ(t){return WQ(t)||zQ(t)||!!(fA&&t&&t[fA])}var qQ=HQ,GQ=Zj,KQ=qQ;function pR(t,e,r,n,i){var o=-1,a=t.length;for(r||(r=KQ),i||(i=[]);++o<a;){var s=t[o];e>0&&r(s)?e>1?pR(s,e-1,r,n,i):GQ(i,s):n||(i[i.length]=s)}return i}var mR=pR;function XQ(t){return function(e,r,n){for(var i=-1,o=Object(e),a=n(e),s=a.length;s--;){var l=a[t?s:++i];if(r(o[l],l,o)===!1)break}return e}}var YQ=XQ,QQ=YQ,JQ=QQ(),ZQ=JQ,eJ=ZQ,tJ=Fm;function rJ(t,e){return t&&eJ(t,e,tJ)}var gR=rJ,nJ=df;function iJ(t,e){return function(r,n){if(r==null)return r;if(!nJ(r))return t(r,n);for(var i=r.length,o=e?i:-1,a=Object(r);(e?o--:++o<i)&&n(a[o],o,a)!==!1;);return r}}var oJ=iJ,aJ=gR,sJ=oJ,lJ=sJ(aJ),qw=lJ,uJ=qw,cJ=df;function fJ(t,e){var r=-1,n=cJ(t)?Array(t.length):[];return uJ(t,function(i,o,a){n[++r]=e(i,o,a)}),n}var yR=fJ;function dJ(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var hJ=dJ,dA=dl;function pJ(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,o=dA(t),a=e!==void 0,s=e===null,l=e===e,u=dA(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||n&&a&&l||!r&&l||!i)return 1;if(!n&&!o&&!u&&t<e||u&&r&&i&&!n&&!o||s&&r&&i||!a&&i||!l)return-1}return 0}var mJ=pJ,gJ=mJ;function yJ(t,e,r){for(var n=-1,i=t.criteria,o=e.criteria,a=i.length,s=r.length;++n<a;){var l=gJ(i[n],o[n]);if(l){if(n>=s)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return t.index-e.index}var vJ=yJ,my=Cw,bJ=kw,_J=_o,wJ=yR,xJ=hJ,EJ=rR,SJ=vJ,TJ=bl,AJ=vr;function PJ(t,e,r){e.length?e=my(e,function(o){return AJ(o)?function(a){return bJ(a,o.length===1?o[0]:o)}:o}):e=[TJ];var n=-1;e=my(e,EJ(_J));var i=wJ(t,function(o,a,s){var l=my(e,function(u){return u(o)});return{criteria:l,index:++n,value:o}});return xJ(i,function(o,a){return SJ(o,a,r)})}var IJ=PJ;function OJ(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var CJ=OJ,kJ=CJ,hA=Math.max;function NJ(t,e,r){return e=hA(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=hA(n.length-e,0),a=Array(o);++i<o;)a[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(a),kJ(t,this,s)}}var jJ=NJ;function RJ(t){return function(){return t}}var DJ=RJ,MJ=ba,$J=function(){try{var t=MJ(Object,"defineProperty");return t({},"",{}),t}catch{}}(),vR=$J,LJ=DJ,pA=vR,VJ=bl,FJ=pA?function(t,e){return pA(t,"toString",{configurable:!0,enumerable:!1,value:LJ(e),writable:!0})}:VJ,BJ=FJ,UJ=800,zJ=16,WJ=Date.now;function HJ(t){var e=0,r=0;return function(){var n=WJ(),i=zJ-(n-r);if(r=n,i>0){if(++e>=UJ)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var qJ=HJ,GJ=BJ,KJ=qJ,XJ=KJ(GJ),YJ=XJ,QJ=bl,JJ=jJ,ZJ=YJ;function eZ(t,e){return ZJ(JJ(t,e,QJ),t+"")}var tZ=eZ,rZ=Aw,nZ=df,iZ=zw,oZ=bo;function aZ(t,e,r){if(!oZ(r))return!1;var n=typeof e;return(n=="number"?nZ(r)&&iZ(e,r.length):n=="string"&&e in r)?rZ(r[e],t):!1}var Um=aZ,sZ=mR,lZ=IJ,uZ=tZ,mA=Um,cZ=uZ(function(t,e){if(t==null)return[];var r=e.length;return r>1&&mA(t,e[0],e[1])?e=[]:r>2&&mA(e[0],e[1],e[2])&&(e=[e[0]]),lZ(t,sZ(e,1),[])}),fZ=cZ;const Gw=Le(fZ);function fc(t){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(t)}function T0(){return T0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T0.apply(this,arguments)}function dZ(t,e){return gZ(t)||mZ(t,e)||pZ(t,e)||hZ()}function hZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pZ(t,e){if(t){if(typeof t=="string")return gA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gA(t,e)}}function gA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function gZ(t){if(Array.isArray(t))return t}function yA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yA(Object(r),!0).forEach(function(n){yZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yZ(t,e,r){return e=vZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vZ(t){var e=bZ(t,"string");return fc(e)=="symbol"?e:e+""}function bZ(t,e){if(fc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Z(t){return Array.isArray(t)&&bt(t[0])&&bt(t[1])?t.join(" ~ "):t}var wZ=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,d=e.formatter,h=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,y=e.label,x=e.labelFormatter,_=e.accessibilityLayer,b=_===void 0?!1:_,w=function(){if(c&&c.length){var j={padding:0,margin:0},k=(h?Gw(c,h):c).map(function(W,H){if(W.type==="none")return null;var $=gy({display:"block",paddingTop:4,paddingBottom:4,color:W.color||"#000"},s),F=W.formatter||d||_Z,M=W.value,V=W.name,K=M,D=V;if(F&&K!=null&&D!=null){var z=F(M,V,W,H,c);if(Array.isArray(z)){var Q=dZ(z,2);K=Q[0],D=Q[1]}else K=z}return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:$},bt(D)?L.createElement("span",{className:"recharts-tooltip-item-name"},D):null,bt(D)?L.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,L.createElement("span",{className:"recharts-tooltip-item-value"},K),L.createElement("span",{className:"recharts-tooltip-item-unit"},W.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:j},k)}return null},O=gy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),T=gy({margin:0},u),P=!Ee(y),E=P?y:"",S=Oe("recharts-default-tooltip",p),I=Oe("recharts-tooltip-label",g);P&&x&&c!==void 0&&c!==null&&(E=x(y,c));var N=b?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",T0({className:S,style:O},N),L.createElement("p",{className:I,style:T},L.isValidElement(E)?E:"".concat(E)),w())};function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}function sd(t,e,r){return e=xZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xZ(t){var e=EZ(t,"string");return dc(e)=="symbol"?e:e+""}function EZ(t,e){if(dc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kl="recharts-tooltip-wrapper",SZ={visibility:"hidden"};function TZ(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Oe(Kl,sd(sd(sd(sd({},"".concat(Kl,"-right"),te(r)&&e&&te(e.x)&&r>=e.x),"".concat(Kl,"-left"),te(r)&&e&&te(e.x)&&r<e.x),"".concat(Kl,"-bottom"),te(n)&&e&&te(e.y)&&n>=e.y),"".concat(Kl,"-top"),te(n)&&e&&te(e.y)&&n<e.y))}function vA(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&te(o[n]))return o[n];var c=r[n]-s-i,d=r[n]+i;if(e[n])return a[n]?c:d;if(a[n]){var h=c,p=l[n];return h<p?Math.max(d,l[n]):Math.max(c,l[n])}var g=d+s,y=l[n]+u;return g>y?Math.max(c,l[n]):Math.max(d,l[n])}function AZ(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function PZ(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,d;return a.height>0&&a.width>0&&r?(c=vA({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=vA({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=AZ({translateX:c,translateY:d,useTranslate3d:s})):u=SZ,{cssProperties:u,cssClasses:TZ({translateX:c,translateY:d,coordinate:r})}}function Ds(t){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ds(t)}function bA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _A(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bA(Object(r),!0).forEach(function(n){P0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_R(n.key),n)}}function CZ(t,e,r){return e&&OZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kZ(t,e,r){return e=Hh(e),NZ(t,bR()?Reflect.construct(e,r||[],Hh(t).constructor):e.apply(t,r))}function NZ(t,e){if(e&&(Ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jZ(t)}function jZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bR=function(){return!!t})()}function Hh(t){return Hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hh(t)}function RZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A0(t,e)}function A0(t,e){return A0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},A0(t,e)}function P0(t,e,r){return e=_R(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _R(t){var e=DZ(t,"string");return Ds(e)=="symbol"?e:e+""}function DZ(t,e){if(Ds(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wA=1,MZ=function(t){function e(){var r;IZ(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=kZ(this,e,[].concat(i)),P0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),P0(r,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=r.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),r}return RZ(e,t),CZ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>wA||Math.abs(n.height-this.state.lastBoundingBox.height)>wA)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,p=i.offset,g=i.position,y=i.reverseDirection,x=i.useTranslate3d,_=i.viewBox,b=i.wrapperStyle,w=PZ({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:p,position:g,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:_}),O=w.cssClasses,T=w.cssProperties,P=_A(_A({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return L.createElement("div",{tabIndex:-1,className:O,style:P,ref:function(S){n.wrapperNode=S}},u)}}])}(U.PureComponent),$Z=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},_l={isSsr:$Z()};function Ms(t){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(t)}function xA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function EA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xA(Object(r),!0).forEach(function(n){Kw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xR(n.key),n)}}function FZ(t,e,r){return e&&VZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BZ(t,e,r){return e=qh(e),UZ(t,wR()?Reflect.construct(e,r||[],qh(t).constructor):e.apply(t,r))}function UZ(t,e){if(e&&(Ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zZ(t)}function zZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wR=function(){return!!t})()}function qh(t){return qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qh(t)}function WZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I0(t,e)}function I0(t,e){return I0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},I0(t,e)}function Kw(t,e,r){return e=xR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xR(t){var e=HZ(t,"string");return Ms(e)=="symbol"?e:e+""}function HZ(t,e){if(Ms(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function qZ(t){return t.dataKey}function GZ(t,e){return L.isValidElement(t)?L.cloneElement(t,e):typeof t=="function"?L.createElement(t,e):L.createElement(wZ,e)}var ur=function(t){function e(){return LZ(this,e),BZ(this,e,arguments)}return WZ(e,t),FZ(e,[{key:"render",value:function(){var n=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,d=i.filterNull,h=i.isAnimationActive,p=i.offset,g=i.payload,y=i.payloadUniqBy,x=i.position,_=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,O=i.wrapperStyle,T=g??[];d&&T.length&&(T=fR(g.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),y,qZ));var P=T.length>0;return L.createElement(MZ,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:P,offset:p,position:x,reverseDirection:_,useTranslate3d:b,viewBox:w,wrapperStyle:O},GZ(u,EA(EA({},this.props),{},{payload:T})))}}])}(U.PureComponent);Kw(ur,"displayName","Tooltip");Kw(ur,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!_l.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var KZ=jn,XZ=function(){return KZ.Date.now()},YZ=XZ,QZ=/\s/;function JZ(t){for(var e=t.length;e--&&QZ.test(t.charAt(e)););return e}var ZZ=JZ,eee=ZZ,tee=/^\s+/;function ree(t){return t&&t.slice(0,eee(t)+1).replace(tee,"")}var nee=ree,iee=nee,SA=bo,oee=dl,TA=NaN,aee=/^[-+]0x[0-9a-f]+$/i,see=/^0b[01]+$/i,lee=/^0o[0-7]+$/i,uee=parseInt;function cee(t){if(typeof t=="number")return t;if(oee(t))return TA;if(SA(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=SA(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=iee(t);var r=see.test(t);return r||lee.test(t)?uee(t.slice(2),r?2:8):aee.test(t)?TA:+t}var ER=cee,fee=bo,yy=YZ,AA=ER,dee="Expected a function",hee=Math.max,pee=Math.min;function mee(t,e,r){var n,i,o,a,s,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(dee);e=AA(e)||0,fee(r)&&(c=!!r.leading,d="maxWait"in r,o=d?hee(AA(r.maxWait)||0,e):o,h="trailing"in r?!!r.trailing:h);function p(P){var E=n,S=i;return n=i=void 0,u=P,a=t.apply(S,E),a}function g(P){return u=P,s=setTimeout(_,e),c?p(P):a}function y(P){var E=P-l,S=P-u,I=e-E;return d?pee(I,o-S):I}function x(P){var E=P-l,S=P-u;return l===void 0||E>=e||E<0||d&&S>=o}function _(){var P=yy();if(x(P))return b(P);s=setTimeout(_,y(P))}function b(P){return s=void 0,h&&n?p(P):(n=i=void 0,a)}function w(){s!==void 0&&clearTimeout(s),u=0,n=l=i=s=void 0}function O(){return s===void 0?a:b(yy())}function T(){var P=yy(),E=x(P);if(n=arguments,i=this,l=P,E){if(s===void 0)return g(l);if(d)return clearTimeout(s),s=setTimeout(_,e),p(l)}return s===void 0&&(s=setTimeout(_,e)),a}return T.cancel=w,T.flush=O,T}var gee=mee,yee=gee,vee=bo,bee="Expected a function";function _ee(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(bee);return vee(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),yee(t,e,{leading:n,maxWait:e,trailing:i})}var wee=_ee;const SR=Le(wee);function hc(t){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(t)}function PA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ld(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PA(Object(r),!0).forEach(function(n){xee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xee(t,e,r){return e=Eee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Eee(t){var e=See(t,"string");return hc(e)=="symbol"?e:e+""}function See(t,e){if(hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tee(t,e){return Oee(t)||Iee(t,e)||Pee(t,e)||Aee()}function Aee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pee(t,e){if(t){if(typeof t=="string")return IA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IA(t,e)}}function IA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Iee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Oee(t){if(Array.isArray(t))return t}var pc=U.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,d=t.minHeight,h=t.maxHeight,p=t.children,g=t.debounce,y=g===void 0?0:g,x=t.id,_=t.className,b=t.onResize,w=t.style,O=w===void 0?{}:w,T=U.useRef(null),P=U.useRef();P.current=b,U.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var E=U.useState({containerWidth:i.width,containerHeight:i.height}),S=Tee(E,2),I=S[0],N=S[1],C=U.useCallback(function(k,W){N(function(H){var $=Math.round(k),F=Math.round(W);return H.containerWidth===$&&H.containerHeight===F?H:{containerWidth:$,containerHeight:F}})},[]);U.useEffect(function(){var k=function(V){var K,D=V[0].contentRect,z=D.width,Q=D.height;C(z,Q),(K=P.current)===null||K===void 0||K.call(P,z,Q)};y>0&&(k=SR(k,y,{trailing:!0,leading:!1}));var W=new ResizeObserver(k),H=T.current.getBoundingClientRect(),$=H.width,F=H.height;return C($,F),W.observe(T.current),function(){W.disconnect()}},[C,y]);var j=U.useMemo(function(){var k=I.containerWidth,W=I.containerHeight;if(k<0||W<0)return null;Jn(Uo(a)||Uo(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Jn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var H=Uo(a)?k:a,$=Uo(l)?W:l;r&&r>0&&(H?$=H/r:$&&(H=$*r),h&&$>h&&($=h)),Jn(H>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,$,a,l,c,d,r);var F=!Array.isArray(p)&&Qn(p.type).endsWith("Chart");return L.Children.map(p,function(M){return L.isValidElement(M)?U.cloneElement(M,ld({width:H,height:$},F?{style:ld({height:"100%",width:"100%",maxHeight:$,maxWidth:H},M.props.style)}:{})):M})},[r,p,l,h,d,c,I,a]);return L.createElement("div",{id:x?"".concat(x):void 0,className:Oe("recharts-responsive-container",_),style:ld(ld({},O),{},{width:a,height:l,minWidth:c,minHeight:d,maxHeight:h}),ref:T},j)}),TR=function(e){return null};TR.displayName="Cell";function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}function OA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function O0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OA(Object(r),!0).forEach(function(n){Cee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cee(t,e,r){return e=kee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kee(t){var e=Nee(t,"string");return mc(e)=="symbol"?e:e+""}function Nee(t,e){if(mc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ca={widthCache:{},cacheCount:0},jee=2e3,Ree={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},CA="recharts_measurement_span";function Dee(t){var e=O0({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Ou=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||_l.isSsr)return{width:0,height:0};var n=Dee(r),i=JSON.stringify({text:e,copyStyle:n});if(Ca.widthCache[i])return Ca.widthCache[i];try{var o=document.getElementById(CA);o||(o=document.createElement("span"),o.setAttribute("id",CA),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=O0(O0({},Ree),n);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Ca.widthCache[i]=l,++Ca.cacheCount>jee&&(Ca.cacheCount=0,Ca.widthCache={}),l}catch{return{width:0,height:0}}},Mee=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function gc(t){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}function Gh(t,e){return Fee(t)||Vee(t,e)||Lee(t,e)||$ee()}function $ee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lee(t,e){if(t){if(typeof t=="string")return kA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kA(t,e)}}function kA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Fee(t){if(Array.isArray(t))return t}function Bee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zee(n.key),n)}}function Uee(t,e,r){return e&&NA(t.prototype,e),r&&NA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zee(t){var e=Wee(t,"string");return gc(e)=="symbol"?e:e+""}function Wee(t,e){if(gc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Hee=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,qee=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,AR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Gee=Object.keys(AR),Qa="NaN";function Kee(t,e){return t*AR[e]}var ud=function(){function t(e,r){Bee(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!Hee.test(r)&&(this.num=NaN,this.unit=""),Gee.includes(r)&&(this.num=Kee(e,r),this.unit="px")}return Uee(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=qee.exec(r))!==null&&n!==void 0?n:[],o=Gh(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function PR(t){if(t.includes(Qa))return Qa;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=jA.exec(e))!==null&&r!==void 0?r:[],i=Gh(n,4),o=i[1],a=i[2],s=i[3],l=ud.parse(o??""),u=ud.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Qa;e=e.replace(jA,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=RA.exec(e))!==null&&d!==void 0?d:[],p=Gh(h,4),g=p[1],y=p[2],x=p[3],_=ud.parse(g??""),b=ud.parse(x??""),w=y==="+"?_.add(b):_.subtract(b);if(w.isNaN())return Qa;e=e.replace(RA,w.toString())}return e}var DA=/\(([^()]*)\)/;function Xee(t){for(var e=t;e.includes("(");){var r=DA.exec(e),n=Gh(r,2),i=n[1];e=e.replace(DA,PR(i))}return e}function Yee(t){var e=t.replace(/\s+/g,"");return e=Xee(e),e=PR(e),e}function Qee(t){try{return Yee(t)}catch{return Qa}}function vy(t){var e=Qee(t.slice(5,-1));return e===Qa?"":e}var Jee=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Zee=["dx","dy","angle","className","breakAll"];function C0(){return C0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C0.apply(this,arguments)}function MA(t,e){if(t==null)return{};var r=ete(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ete(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $A(t,e){return ite(t)||nte(t,e)||rte(t,e)||tte()}function tte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rte(t,e){if(t){if(typeof t=="string")return LA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LA(t,e)}}function LA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ite(t){if(Array.isArray(t))return t}var IR=/[ \f\n\r\t\v\u2028\u2029]+/,OR=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var o=[];Ee(r)||(n?o=r.toString().split(""):o=r.toString().split(IR));var a=o.map(function(l){return{word:l,width:Ou(l,i).width}}),s=n?0:Ou("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},ote=function(e,r,n,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=te(a),d=s,h=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function($,F){var M=F.word,V=F.width,K=$[$.length-1];if(K&&(i==null||o||K.width+V+n<Number(i)))K.words.push(M),K.width+=V+n;else{var D={words:[M],width:V};$.push(D)}return $},[])},p=h(r),g=function(H){return H.reduce(function($,F){return $.width>F.width?$:F})};if(!c)return p;for(var y="",x=function(H){var $=d.slice(0,H),F=OR({breakAll:u,style:l,children:$+y}).wordsWithComputedWidth,M=h(F),V=M.length>a||g(M).width>Number(i);return[V,M]},_=0,b=d.length-1,w=0,O;_<=b&&w<=d.length-1;){var T=Math.floor((_+b)/2),P=T-1,E=x(P),S=$A(E,2),I=S[0],N=S[1],C=x(T),j=$A(C,1),k=j[0];if(!I&&!k&&(_=T+1),I&&k&&(b=T-1),!I&&k){O=N;break}w++}return O||p},VA=function(e){var r=Ee(e)?[]:e.toString().split(IR);return[{words:r}]},ate=function(e){var r=e.width,n=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((r||n)&&!_l.isSsr){var l,u,c=OR({breakAll:a,children:i,style:o});if(c){var d=c.wordsWithComputedWidth,h=c.spaceWidth;l=d,u=h}else return VA(i);return ote({breakAll:a,children:i,maxLines:s,style:o},l,u,r,n)}return VA(i)},FA="#808080",Kh=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,d=c===void 0?!1:c,h=e.textAnchor,p=h===void 0?"start":h,g=e.verticalAnchor,y=g===void 0?"end":g,x=e.fill,_=x===void 0?FA:x,b=MA(e,Jee),w=U.useMemo(function(){return ate({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),O=b.dx,T=b.dy,P=b.angle,E=b.className,S=b.breakAll,I=MA(b,Zee);if(!bt(n)||!bt(o))return null;var N=n+(te(O)?O:0),C=o+(te(T)?T:0),j;switch(y){case"start":j=vy("calc(".concat(u,")"));break;case"middle":j=vy("calc(".concat((w.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:j=vy("calc(".concat(w.length-1," * -").concat(s,")"));break}var k=[];if(d){var W=w[0].width,H=b.width;k.push("scale(".concat((te(H)?H/W:1)/W,")"))}return P&&k.push("rotate(".concat(P,", ").concat(N,", ").concat(C,")")),k.length&&(I.transform=k.join(" ")),L.createElement("text",C0({},Te(I,!0),{x:N,y:C,className:Oe("recharts-text",E),textAnchor:p,fill:_.includes("url")?FA:_}),w.map(function($,F){var M=$.words.join(S?"":" ");return L.createElement("tspan",{x:N,dy:F===0?j:s,key:"".concat(M,"-").concat(F)},M)}))};function Ji(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ste(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Xw(t){let e,r,n;t.length!==2?(e=Ji,r=(s,l)=>Ji(t(s),l),n=(s,l)=>t(s)-l):(e=t===Ji||t===ste?t:lte,r=t,n=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;r(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;r(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function lte(){return 0}function CR(t){return t===null?NaN:+t}function*ute(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const cte=Xw(Ji),hf=cte.right;Xw(CR).center;class BA extends Map{constructor(e,r=hte){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(UA(this,e))}has(e){return super.has(UA(this,e))}set(e,r){return super.set(fte(this,e),r)}delete(e){return super.delete(dte(this,e))}}function UA({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function fte({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function dte({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function hte(t){return t!==null&&typeof t=="object"?t.valueOf():t}function pte(t=Ji){if(t===Ji)return kR;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function kR(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const mte=Math.sqrt(50),gte=Math.sqrt(10),yte=Math.sqrt(2);function Xh(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),a=o>=mte?10:o>=gte?5:o>=yte?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=r&&r<2?Xh(t,e,r*2):[s,l,u]}function k0(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,o,a]=n?Xh(e,t,r):Xh(t,e,r);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(n)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function N0(t,e,r){return e=+e,t=+t,r=+r,Xh(t,e,r)[2]}function j0(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?N0(e,t,r):N0(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function zA(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function WA(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function NR(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?kR:pte(i);n>r;){if(n-r>600){const l=n-r+1,u=e-r+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(e-u*d/l+h)),g=Math.min(n,Math.floor(e+(l-u)*d/l+h));NR(t,e,p,g,i)}const o=t[e];let a=r,s=n;for(Xl(t,r,e),i(t[n],o)>0&&Xl(t,r,n);a<s;){for(Xl(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[r],o)===0?Xl(t,r,s):(++s,Xl(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function Xl(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function vte(t,e,r){if(t=Float64Array.from(ute(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return WA(t);if(e>=1)return zA(t);var n,i=(n-1)*e,o=Math.floor(i),a=zA(NR(t,o).subarray(0,o+1)),s=WA(t.subarray(o+1));return a+(s-a)*(i-o)}}function bte(t,e,r=CR){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,o=Math.floor(i),a=+r(t[o],o,t),s=+r(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function _te(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,o=new Array(i);++n<i;)o[n]=t+n*r;return o}function Gr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function vi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const R0=Symbol("implicit");function Yw(){var t=new BA,e=[],r=[],n=R0;function i(o){let a=t.get(o);if(a===void 0){if(n!==R0)return n;t.set(o,a=e.push(o)-1)}return r[a%r.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new BA;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Yw(e,r).unknown(n)},Gr.apply(i,arguments),i}function yc(){var t=Yw().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var h=e().length,p=i<n,g=p?i:n,y=p?n:i;o=(y-g)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),g+=(y-g-o*(h-l))*c,a=o*(1-l),s&&(g=Math.round(g),a=Math.round(a));var x=_te(h).map(function(_){return g+o*_});return r(p?x.reverse():x)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,d()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,d()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,d()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},t.copy=function(){return yc(e(),[n,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Gr.apply(d(),arguments)}function jR(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return jR(e())},t}function Cu(){return jR(yc.apply(null,arguments).paddingInner(1))}function Qw(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function RR(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function pf(){}var vc=.7,Yh=1/vc,hs="\\s*([+-]?\\d+)\\s*",bc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",In="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wte=/^#([0-9a-f]{3,8})$/,xte=new RegExp(`^rgb\\(${hs},${hs},${hs}\\)$`),Ete=new RegExp(`^rgb\\(${In},${In},${In}\\)$`),Ste=new RegExp(`^rgba\\(${hs},${hs},${hs},${bc}\\)$`),Tte=new RegExp(`^rgba\\(${In},${In},${In},${bc}\\)$`),Ate=new RegExp(`^hsl\\(${bc},${In},${In}\\)$`),Pte=new RegExp(`^hsla\\(${bc},${In},${In},${bc}\\)$`),HA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qw(pf,_c,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:qA,formatHex:qA,formatHex8:Ite,formatHsl:Ote,formatRgb:GA,toString:GA});function qA(){return this.rgb().formatHex()}function Ite(){return this.rgb().formatHex8()}function Ote(){return DR(this).formatHsl()}function GA(){return this.rgb().formatRgb()}function _c(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=wte.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?KA(e):r===3?new hr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?cd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?cd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=xte.exec(t))?new hr(e[1],e[2],e[3],1):(e=Ete.exec(t))?new hr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ste.exec(t))?cd(e[1],e[2],e[3],e[4]):(e=Tte.exec(t))?cd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ate.exec(t))?QA(e[1],e[2]/100,e[3]/100,1):(e=Pte.exec(t))?QA(e[1],e[2]/100,e[3]/100,e[4]):HA.hasOwnProperty(t)?KA(HA[t]):t==="transparent"?new hr(NaN,NaN,NaN,0):null}function KA(t){return new hr(t>>16&255,t>>8&255,t&255,1)}function cd(t,e,r,n){return n<=0&&(t=e=r=NaN),new hr(t,e,r,n)}function Cte(t){return t instanceof pf||(t=_c(t)),t?(t=t.rgb(),new hr(t.r,t.g,t.b,t.opacity)):new hr}function D0(t,e,r,n){return arguments.length===1?Cte(t):new hr(t,e,r,n??1)}function hr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Qw(hr,D0,RR(pf,{brighter(t){return t=t==null?Yh:Math.pow(Yh,t),new hr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?vc:Math.pow(vc,t),new hr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new hr(Ko(this.r),Ko(this.g),Ko(this.b),Qh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:XA,formatHex:XA,formatHex8:kte,formatRgb:YA,toString:YA}));function XA(){return`#${zo(this.r)}${zo(this.g)}${zo(this.b)}`}function kte(){return`#${zo(this.r)}${zo(this.g)}${zo(this.b)}${zo((isNaN(this.opacity)?1:this.opacity)*255)}`}function YA(){const t=Qh(this.opacity);return`${t===1?"rgb(":"rgba("}${Ko(this.r)}, ${Ko(this.g)}, ${Ko(this.b)}${t===1?")":`, ${t})`}`}function Qh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ko(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function zo(t){return t=Ko(t),(t<16?"0":"")+t.toString(16)}function QA(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new nn(t,e,r,n)}function DR(t){if(t instanceof nn)return new nn(t.h,t.s,t.l,t.opacity);if(t instanceof pf||(t=_c(t)),!t)return new nn;if(t instanceof nn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),o=Math.max(e,r,n),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(r-n)/s+(r<n)*6:r===o?a=(n-e)/s+2:a=(e-r)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new nn(a,s,l,t.opacity)}function Nte(t,e,r,n){return arguments.length===1?DR(t):new nn(t,e,r,n??1)}function nn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Qw(nn,Nte,RR(pf,{brighter(t){return t=t==null?Yh:Math.pow(Yh,t),new nn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?vc:Math.pow(vc,t),new nn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new hr(by(t>=240?t-240:t+120,i,n),by(t,i,n),by(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new nn(JA(this.h),fd(this.s),fd(this.l),Qh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Qh(this.opacity);return`${t===1?"hsl(":"hsla("}${JA(this.h)}, ${fd(this.s)*100}%, ${fd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function JA(t){return t=(t||0)%360,t<0?t+360:t}function fd(t){return Math.max(0,Math.min(1,t||0))}function by(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Jw=t=>()=>t;function jte(t,e){return function(r){return t+r*e}}function Rte(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Dte(t){return(t=+t)==1?MR:function(e,r){return r-e?Rte(e,r,t):Jw(isNaN(e)?r:e)}}function MR(t,e){var r=e-t;return r?jte(t,r):Jw(isNaN(t)?e:t)}const ZA=function t(e){var r=Dte(e);function n(i,o){var a=r((i=D0(i)).r,(o=D0(o)).r),s=r(i.g,o.g),l=r(i.b,o.b),u=MR(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=t,n}(1);function Mte(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=t[i]*(1-o)+e[i]*o;return n}}function $te(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Lte(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),o=new Array(r),a;for(a=0;a<n;++a)i[a]=wl(t[a],e[a]);for(;a<r;++a)o[a]=e[a];return function(s){for(a=0;a<n;++a)o[a]=i[a](s);return o}}function Vte(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Jh(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Fte(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=wl(t[i],e[i]):n[i]=e[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var M0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_y=new RegExp(M0.source,"g");function Bte(t){return function(){return t}}function Ute(t){return function(e){return t(e)+""}}function zte(t,e){var r=M0.lastIndex=_y.lastIndex=0,n,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(n=M0.exec(t))&&(i=_y.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Jh(n,i)})),r=_y.lastIndex;return r<e.length&&(o=e.slice(r),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?Ute(l[0].x):Bte(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function wl(t,e){var r=typeof e,n;return e==null||r==="boolean"?Jw(e):(r==="number"?Jh:r==="string"?(n=_c(e))?(e=n,ZA):zte:e instanceof _c?ZA:e instanceof Date?Vte:$te(e)?Mte:Array.isArray(e)?Lte:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Fte:Jh)(t,e)}function Zw(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Wte(t,e){e===void 0&&(e=t,t=wl);for(var r=0,n=e.length-1,i=e[0],o=new Array(n<0?0:n);r<n;)o[r]=t(i,i=e[++r]);return function(a){var s=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return o[s](a-s)}}function Hte(t){return function(){return t}}function Zh(t){return+t}var eP=[0,1];function nr(t){return t}function $0(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Hte(isNaN(e)?NaN:.5)}function qte(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Gte(t,e,r){var n=t[0],i=t[1],o=e[0],a=e[1];return i<n?(n=$0(i,n),o=r(a,o)):(n=$0(n,i),o=r(o,a)),function(s){return o(n(s))}}function Kte(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),o=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=$0(t[a],t[a+1]),o[a]=r(e[a],e[a+1]);return function(s){var l=hf(t,s,1,n)-1;return o[l](i[l](s))}}function mf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function zm(){var t=eP,e=eP,r=wl,n,i,o,a=nr,s,l,u;function c(){var h=Math.min(t.length,e.length);return a!==nr&&(a=qte(t[0],t[h-1])),s=h>2?Kte:Gte,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(n),e,r)))(n(a(h)))}return d.invert=function(h){return a(i((u||(u=s(e,t.map(n),Jh)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,Zh),c()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),r=Zw,c()},d.clamp=function(h){return arguments.length?(a=h?!0:nr,c()):a!==nr},d.interpolate=function(h){return arguments.length?(r=h,c()):r},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,p){return n=h,i=p,c()}}function ex(){return zm()(nr,nr)}function Xte(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ep(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function $s(t){return t=ep(Math.abs(t)),t?t[1]:NaN}function Yte(t,e){return function(r,n){for(var i=r.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Qte(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Jte=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wc(t){if(!(e=Jte.exec(t)))throw new Error("invalid format: "+t);var e;return new tx({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}wc.prototype=tx.prototype;function tx(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}tx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Zte(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var $R;function ere(t,e){var r=ep(t,e);if(!r)return t+"";var n=r[0],i=r[1],o=i-($R=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return o===a?n:o>a?n+new Array(o-a+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+ep(t,Math.max(0,e+o-1))[0]}function tP(t,e){var r=ep(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const rP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Xte,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>tP(t*100,e),r:tP,s:ere,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function nP(t){return t}var iP=Array.prototype.map,oP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function tre(t){var e=t.grouping===void 0||t.thousands===void 0?nP:Yte(iP.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?nP:Qte(iP.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=wc(d);var h=d.fill,p=d.align,g=d.sign,y=d.symbol,x=d.zero,_=d.width,b=d.comma,w=d.precision,O=d.trim,T=d.type;T==="n"?(b=!0,T="g"):rP[T]||(w===void 0&&(w=12),O=!0,T="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var P=y==="$"?r:y==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",E=y==="$"?n:/[%p]/.test(T)?a:"",S=rP[T],I=/[defgprs%]/.test(T);w=w===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function N(C){var j=P,k=E,W,H,$;if(T==="c")k=S(C)+k,C="";else{C=+C;var F=C<0||1/C<0;if(C=isNaN(C)?l:S(Math.abs(C),w),O&&(C=Zte(C)),F&&+C==0&&g!=="+"&&(F=!1),j=(F?g==="("?g:s:g==="-"||g==="("?"":g)+j,k=(T==="s"?oP[8+$R/3]:"")+k+(F&&g==="("?")":""),I){for(W=-1,H=C.length;++W<H;)if($=C.charCodeAt(W),48>$||$>57){k=($===46?i+C.slice(W+1):C.slice(W))+k,C=C.slice(0,W);break}}}b&&!x&&(C=e(C,1/0));var M=j.length+C.length+k.length,V=M<_?new Array(_-M+1).join(h):"";switch(b&&x&&(C=e(V+C,V.length?_-k.length:1/0),V=""),p){case"<":C=j+C+k+V;break;case"=":C=j+V+C+k;break;case"^":C=V.slice(0,M=V.length>>1)+j+C+k+V.slice(M);break;default:C=V+j+C+k;break}return o(C)}return N.toString=function(){return d+""},N}function c(d,h){var p=u((d=wc(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor($s(h)/3)))*3,y=Math.pow(10,-g),x=oP[8+g/3];return function(_){return p(y*_)+x}}return{format:u,formatPrefix:c}}var dd,rx,LR;rre({thousands:",",grouping:[3],currency:["$",""]});function rre(t){return dd=tre(t),rx=dd.format,LR=dd.formatPrefix,dd}function nre(t){return Math.max(0,-$s(Math.abs(t)))}function ire(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($s(e)/3)))*3-$s(Math.abs(t)))}function ore(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,$s(e)-$s(t))+1}function VR(t,e,r,n){var i=j0(t,e,r),o;switch(n=wc(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(o=ire(i,a))&&(n.precision=o),LR(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=ore(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=nre(i))&&(n.precision=o-(n.type==="%")*2);break}}return rx(n)}function wo(t){var e=t.domain;return t.ticks=function(r){var n=e();return k0(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return VR(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,o=n.length-1,a=n[i],s=n[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=N0(a,s,r),u===l)return n[i]=a,n[o]=s,e(n);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function tp(){var t=ex();return t.copy=function(){return mf(t,tp())},Gr.apply(t,arguments),wo(t)}function FR(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Zh),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return FR(t).unknown(e)},t=arguments.length?Array.from(t,Zh):[0,1],wo(r)}function BR(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],o=t[n],a;return o<i&&(a=r,r=n,n=a,a=i,i=o,o=a),t[r]=e.floor(i),t[n]=e.ceil(o),t}function aP(t){return Math.log(t)}function sP(t){return Math.exp(t)}function are(t){return-Math.log(-t)}function sre(t){return-Math.exp(-t)}function lre(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ure(t){return t===10?lre:t===Math.E?Math.exp:e=>Math.pow(t,e)}function cre(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function lP(t){return(e,r)=>-t(-e,r)}function nx(t){const e=t(aP,sP),r=e.domain;let n=10,i,o;function a(){return i=cre(n),o=ure(n),r()[0]<0?(i=lP(i),o=lP(o),t(are,sre)):t(aP,sP),e}return e.base=function(s){return arguments.length?(n=+s,a()):n},e.domain=function(s){return arguments.length?(r(s),a()):r()},e.ticks=s=>{const l=r();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),p=i(c),g,y;const x=s==null?10:+s;let _=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(y=h<0?g/o(-h):g*o(h),!(y<u)){if(y>c)break;_.push(y)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(y=h>0?g/o(-h):g*o(h),!(y<u)){if(y>c)break;_.push(y)}_.length*2<x&&(_=k0(u,c,x))}else _=k0(h,p,Math.min(p-h,x)).map(o);return d?_.reverse():_},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=wc(l)).precision==null&&(l.trim=!0),l=rx(l)),s===1/0)return l;const u=Math.max(1,n*s/e.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*n<n-.5&&(d*=n),d<=u?l(c):""}},e.nice=()=>r(BR(r(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function UR(){const t=nx(zm()).domain([1,10]);return t.copy=()=>mf(t,UR()).base(t.base()),Gr.apply(t,arguments),t}function uP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function cP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ix(t){var e=1,r=t(uP(e),cP(e));return r.constant=function(n){return arguments.length?t(uP(e=+n),cP(e)):e},wo(r)}function zR(){var t=ix(zm());return t.copy=function(){return mf(t,zR()).constant(t.constant())},Gr.apply(t,arguments)}function fP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function fre(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function dre(t){return t<0?-t*t:t*t}function ox(t){var e=t(nr,nr),r=1;function n(){return r===1?t(nr,nr):r===.5?t(fre,dre):t(fP(r),fP(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},wo(e)}function ax(){var t=ox(zm());return t.copy=function(){return mf(t,ax()).exponent(t.exponent())},Gr.apply(t,arguments),t}function hre(){return ax.apply(null,arguments).exponent(.5)}function dP(t){return Math.sign(t)*t*t}function pre(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function WR(){var t=ex(),e=[0,1],r=!1,n;function i(o){var a=pre(t(o));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(o){return t.invert(dP(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Zh)).map(dP)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return WR(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Gr.apply(i,arguments),wo(i)}function HR(){var t=[],e=[],r=[],n;function i(){var a=0,s=Math.max(1,e.length);for(r=new Array(s-1);++a<s;)r[a-1]=bte(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?n:e[hf(r,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Ji),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(n=a,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return HR().domain(t).range(e).unknown(n)},Gr.apply(o,arguments)}function qR(){var t=0,e=1,r=1,n=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[hf(n,l,0,r)]:o}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return n.slice()},a.copy=function(){return qR().domain([t,e]).range(i).unknown(o)},Gr.apply(wo(a),arguments)}function GR(){var t=[.5],e=[0,1],r,n=1;function i(o){return o!=null&&o<=o?e[hf(t,o,0,n)]:r}return i.domain=function(o){return arguments.length?(t=Array.from(o),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return GR().domain(t).range(e).unknown(r)},Gr.apply(i,arguments)}const wy=new Date,xy=new Date;function xt(t,e,r,n){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>xt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),r&&(i.count=(o,a)=>(wy.setTime(+o),xy.setTime(+a),t(wy),t(xy),Math.floor(r(wy,xy))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?a=>n(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const rp=xt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);rp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?xt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):rp);rp.range;const Hn=1e3,Vr=Hn*60,qn=Vr*60,li=qn*24,sx=li*7,hP=li*30,Ey=li*365,Wo=xt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Hn)},(t,e)=>(e-t)/Hn,t=>t.getUTCSeconds());Wo.range;const lx=xt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Hn)},(t,e)=>{t.setTime(+t+e*Vr)},(t,e)=>(e-t)/Vr,t=>t.getMinutes());lx.range;const ux=xt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Vr)},(t,e)=>(e-t)/Vr,t=>t.getUTCMinutes());ux.range;const cx=xt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Hn-t.getMinutes()*Vr)},(t,e)=>{t.setTime(+t+e*qn)},(t,e)=>(e-t)/qn,t=>t.getHours());cx.range;const fx=xt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*qn)},(t,e)=>(e-t)/qn,t=>t.getUTCHours());fx.range;const gf=xt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Vr)/li,t=>t.getDate()-1);gf.range;const Wm=xt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/li,t=>t.getUTCDate()-1);Wm.range;const KR=xt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/li,t=>Math.floor(t/li));KR.range;function _a(t){return xt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Vr)/sx)}const Hm=_a(0),np=_a(1),mre=_a(2),gre=_a(3),Ls=_a(4),yre=_a(5),vre=_a(6);Hm.range;np.range;mre.range;gre.range;Ls.range;yre.range;vre.range;function wa(t){return xt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/sx)}const qm=wa(0),ip=wa(1),bre=wa(2),_re=wa(3),Vs=wa(4),wre=wa(5),xre=wa(6);qm.range;ip.range;bre.range;_re.range;Vs.range;wre.range;xre.range;const dx=xt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());dx.range;const hx=xt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());hx.range;const ui=xt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ui.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:xt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ui.range;const ci=xt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ci.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:xt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ci.range;function XR(t,e,r,n,i,o){const a=[[Wo,1,Hn],[Wo,5,5*Hn],[Wo,15,15*Hn],[Wo,30,30*Hn],[o,1,Vr],[o,5,5*Vr],[o,15,15*Vr],[o,30,30*Vr],[i,1,qn],[i,3,3*qn],[i,6,6*qn],[i,12,12*qn],[n,1,li],[n,2,2*li],[r,1,sx],[e,1,hP],[e,3,3*hP],[t,1,Ey]];function s(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const p=d&&typeof d.range=="function"?d:l(u,c,d),g=p?p.range(u,+c+1):[];return h?g.reverse():g}function l(u,c,d){const h=Math.abs(c-u)/d,p=Xw(([,,x])=>x).right(a,h);if(p===a.length)return t.every(j0(u/Ey,c/Ey,d));if(p===0)return rp.every(Math.max(j0(u,c,d),1));const[g,y]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return g.every(y)}return[s,l]}const[Ere,Sre]=XR(ci,hx,qm,KR,fx,ux),[Tre,Are]=XR(ui,dx,Hm,gf,cx,lx);function Sy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ty(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Yl(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Pre(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Ql(i),c=Jl(i),d=Ql(o),h=Jl(o),p=Ql(a),g=Jl(a),y=Ql(s),x=Jl(s),_=Ql(l),b=Jl(l),w={a:F,A:M,b:V,B:K,c:null,d:bP,e:bP,f:Yre,g:ane,G:lne,H:Gre,I:Kre,j:Xre,L:YR,m:Qre,M:Jre,p:D,q:z,Q:xP,s:EP,S:Zre,u:ene,U:tne,V:rne,w:nne,W:ine,x:null,X:null,y:one,Y:sne,Z:une,"%":wP},O={a:Q,A:se,b:ve,B:Se,c:null,d:_P,e:_P,f:hne,g:Ene,G:Tne,H:cne,I:fne,j:dne,L:JR,m:pne,M:mne,p:Ke,q:ct,Q:xP,s:EP,S:gne,u:yne,U:vne,V:bne,w:_ne,W:wne,x:null,X:null,y:xne,Y:Sne,Z:Ane,"%":wP},T={a:N,A:C,b:j,B:k,c:W,d:yP,e:yP,f:zre,g:gP,G:mP,H:vP,I:vP,j:Vre,L:Ure,m:Lre,M:Fre,p:I,q:$re,Q:Hre,s:qre,S:Bre,u:Nre,U:jre,V:Rre,w:kre,W:Dre,x:H,X:$,y:gP,Y:mP,Z:Mre,"%":Wre};w.x=P(r,w),w.X=P(n,w),w.c=P(e,w),O.x=P(r,O),O.X=P(n,O),O.c=P(e,O);function P(re,de){return function(pe){var J=[],Ve=-1,be=0,Qe=re.length,rt,Lt,pn;for(pe instanceof Date||(pe=new Date(+pe));++Ve<Qe;)re.charCodeAt(Ve)===37&&(J.push(re.slice(be,Ve)),(Lt=pP[rt=re.charAt(++Ve)])!=null?rt=re.charAt(++Ve):Lt=rt==="e"?" ":"0",(pn=de[rt])&&(rt=pn(pe,Lt)),J.push(rt),be=Ve+1);return J.push(re.slice(be,Ve)),J.join("")}}function E(re,de){return function(pe){var J=Yl(1900,void 0,1),Ve=S(J,re,pe+="",0),be,Qe;if(Ve!=pe.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(de&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(be=Ty(Yl(J.y,0,1)),Qe=be.getUTCDay(),be=Qe>4||Qe===0?ip.ceil(be):ip(be),be=Wm.offset(be,(J.V-1)*7),J.y=be.getUTCFullYear(),J.m=be.getUTCMonth(),J.d=be.getUTCDate()+(J.w+6)%7):(be=Sy(Yl(J.y,0,1)),Qe=be.getDay(),be=Qe>4||Qe===0?np.ceil(be):np(be),be=gf.offset(be,(J.V-1)*7),J.y=be.getFullYear(),J.m=be.getMonth(),J.d=be.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),Qe="Z"in J?Ty(Yl(J.y,0,1)).getUTCDay():Sy(Yl(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(Qe+5)%7:J.w+J.U*7-(Qe+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,Ty(J)):Sy(J)}}function S(re,de,pe,J){for(var Ve=0,be=de.length,Qe=pe.length,rt,Lt;Ve<be;){if(J>=Qe)return-1;if(rt=de.charCodeAt(Ve++),rt===37){if(rt=de.charAt(Ve++),Lt=T[rt in pP?de.charAt(Ve++):rt],!Lt||(J=Lt(re,pe,J))<0)return-1}else if(rt!=pe.charCodeAt(J++))return-1}return J}function I(re,de,pe){var J=u.exec(de.slice(pe));return J?(re.p=c.get(J[0].toLowerCase()),pe+J[0].length):-1}function N(re,de,pe){var J=p.exec(de.slice(pe));return J?(re.w=g.get(J[0].toLowerCase()),pe+J[0].length):-1}function C(re,de,pe){var J=d.exec(de.slice(pe));return J?(re.w=h.get(J[0].toLowerCase()),pe+J[0].length):-1}function j(re,de,pe){var J=_.exec(de.slice(pe));return J?(re.m=b.get(J[0].toLowerCase()),pe+J[0].length):-1}function k(re,de,pe){var J=y.exec(de.slice(pe));return J?(re.m=x.get(J[0].toLowerCase()),pe+J[0].length):-1}function W(re,de,pe){return S(re,e,de,pe)}function H(re,de,pe){return S(re,r,de,pe)}function $(re,de,pe){return S(re,n,de,pe)}function F(re){return a[re.getDay()]}function M(re){return o[re.getDay()]}function V(re){return l[re.getMonth()]}function K(re){return s[re.getMonth()]}function D(re){return i[+(re.getHours()>=12)]}function z(re){return 1+~~(re.getMonth()/3)}function Q(re){return a[re.getUTCDay()]}function se(re){return o[re.getUTCDay()]}function ve(re){return l[re.getUTCMonth()]}function Se(re){return s[re.getUTCMonth()]}function Ke(re){return i[+(re.getUTCHours()>=12)]}function ct(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var de=P(re+="",w);return de.toString=function(){return re},de},parse:function(re){var de=E(re+="",!1);return de.toString=function(){return re},de},utcFormat:function(re){var de=P(re+="",O);return de.toString=function(){return re},de},utcParse:function(re){var de=E(re+="",!0);return de.toString=function(){return re},de}}}var pP={"-":"",_:" ",0:"0"},It=/^\s*\d+/,Ire=/^%/,Ore=/[\\^$*+?|[\]().{}]/g;function Ce(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(e)+i:i)}function Cre(t){return t.replace(Ore,"\\$&")}function Ql(t){return new RegExp("^(?:"+t.map(Cre).join("|")+")","i")}function Jl(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function kre(t,e,r){var n=It.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Nre(t,e,r){var n=It.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function jre(t,e,r){var n=It.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Rre(t,e,r){var n=It.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Dre(t,e,r){var n=It.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function mP(t,e,r){var n=It.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function gP(t,e,r){var n=It.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Mre(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function $re(t,e,r){var n=It.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Lre(t,e,r){var n=It.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function yP(t,e,r){var n=It.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Vre(t,e,r){var n=It.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function vP(t,e,r){var n=It.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Fre(t,e,r){var n=It.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Bre(t,e,r){var n=It.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Ure(t,e,r){var n=It.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function zre(t,e,r){var n=It.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Wre(t,e,r){var n=Ire.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Hre(t,e,r){var n=It.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function qre(t,e,r){var n=It.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function bP(t,e){return Ce(t.getDate(),e,2)}function Gre(t,e){return Ce(t.getHours(),e,2)}function Kre(t,e){return Ce(t.getHours()%12||12,e,2)}function Xre(t,e){return Ce(1+gf.count(ui(t),t),e,3)}function YR(t,e){return Ce(t.getMilliseconds(),e,3)}function Yre(t,e){return YR(t,e)+"000"}function Qre(t,e){return Ce(t.getMonth()+1,e,2)}function Jre(t,e){return Ce(t.getMinutes(),e,2)}function Zre(t,e){return Ce(t.getSeconds(),e,2)}function ene(t){var e=t.getDay();return e===0?7:e}function tne(t,e){return Ce(Hm.count(ui(t)-1,t),e,2)}function QR(t){var e=t.getDay();return e>=4||e===0?Ls(t):Ls.ceil(t)}function rne(t,e){return t=QR(t),Ce(Ls.count(ui(t),t)+(ui(t).getDay()===4),e,2)}function nne(t){return t.getDay()}function ine(t,e){return Ce(np.count(ui(t)-1,t),e,2)}function one(t,e){return Ce(t.getFullYear()%100,e,2)}function ane(t,e){return t=QR(t),Ce(t.getFullYear()%100,e,2)}function sne(t,e){return Ce(t.getFullYear()%1e4,e,4)}function lne(t,e){var r=t.getDay();return t=r>=4||r===0?Ls(t):Ls.ceil(t),Ce(t.getFullYear()%1e4,e,4)}function une(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ce(e/60|0,"0",2)+Ce(e%60,"0",2)}function _P(t,e){return Ce(t.getUTCDate(),e,2)}function cne(t,e){return Ce(t.getUTCHours(),e,2)}function fne(t,e){return Ce(t.getUTCHours()%12||12,e,2)}function dne(t,e){return Ce(1+Wm.count(ci(t),t),e,3)}function JR(t,e){return Ce(t.getUTCMilliseconds(),e,3)}function hne(t,e){return JR(t,e)+"000"}function pne(t,e){return Ce(t.getUTCMonth()+1,e,2)}function mne(t,e){return Ce(t.getUTCMinutes(),e,2)}function gne(t,e){return Ce(t.getUTCSeconds(),e,2)}function yne(t){var e=t.getUTCDay();return e===0?7:e}function vne(t,e){return Ce(qm.count(ci(t)-1,t),e,2)}function ZR(t){var e=t.getUTCDay();return e>=4||e===0?Vs(t):Vs.ceil(t)}function bne(t,e){return t=ZR(t),Ce(Vs.count(ci(t),t)+(ci(t).getUTCDay()===4),e,2)}function _ne(t){return t.getUTCDay()}function wne(t,e){return Ce(ip.count(ci(t)-1,t),e,2)}function xne(t,e){return Ce(t.getUTCFullYear()%100,e,2)}function Ene(t,e){return t=ZR(t),Ce(t.getUTCFullYear()%100,e,2)}function Sne(t,e){return Ce(t.getUTCFullYear()%1e4,e,4)}function Tne(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Vs(t):Vs.ceil(t),Ce(t.getUTCFullYear()%1e4,e,4)}function Ane(){return"+0000"}function wP(){return"%"}function xP(t){return+t}function EP(t){return Math.floor(+t/1e3)}var ka,eD,tD;Pne({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Pne(t){return ka=Pre(t),eD=ka.format,ka.parse,tD=ka.utcFormat,ka.utcParse,ka}function Ine(t){return new Date(t)}function One(t){return t instanceof Date?+t:+new Date(+t)}function px(t,e,r,n,i,o,a,s,l,u){var c=ex(),d=c.invert,h=c.domain,p=u(".%L"),g=u(":%S"),y=u("%I:%M"),x=u("%I %p"),_=u("%a %d"),b=u("%b %d"),w=u("%B"),O=u("%Y");function T(P){return(l(P)<P?p:s(P)<P?g:a(P)<P?y:o(P)<P?x:n(P)<P?i(P)<P?_:b:r(P)<P?w:O)(P)}return c.invert=function(P){return new Date(d(P))},c.domain=function(P){return arguments.length?h(Array.from(P,One)):h().map(Ine)},c.ticks=function(P){var E=h();return t(E[0],E[E.length-1],P??10)},c.tickFormat=function(P,E){return E==null?T:u(E)},c.nice=function(P){var E=h();return(!P||typeof P.range!="function")&&(P=e(E[0],E[E.length-1],P??10)),P?h(BR(E,P)):c},c.copy=function(){return mf(c,px(t,e,r,n,i,o,a,s,l,u))},c}function Cne(){return Gr.apply(px(Tre,Are,ui,dx,Hm,gf,cx,lx,Wo,eD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kne(){return Gr.apply(px(Ere,Sre,ci,hx,qm,Wm,fx,ux,Wo,tD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Gm(){var t=0,e=1,r,n,i,o,a=nr,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(o(d)-r)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,r=o(t=+t),n=o(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(a=d,u):a};function c(d){return function(h){var p,g;return arguments.length?([p,g]=h,a=d(p,g),u):[a(0),a(1)]}}return u.range=c(wl),u.rangeRound=c(Zw),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,r=d(t),n=d(e),i=r===n?0:1/(n-r),u}}function xo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function rD(){var t=wo(Gm()(nr));return t.copy=function(){return xo(t,rD())},vi.apply(t,arguments)}function nD(){var t=nx(Gm()).domain([1,10]);return t.copy=function(){return xo(t,nD()).base(t.base())},vi.apply(t,arguments)}function iD(){var t=ix(Gm());return t.copy=function(){return xo(t,iD()).constant(t.constant())},vi.apply(t,arguments)}function mx(){var t=ox(Gm());return t.copy=function(){return xo(t,mx()).exponent(t.exponent())},vi.apply(t,arguments)}function Nne(){return mx.apply(null,arguments).exponent(.5)}function oD(){var t=[],e=nr;function r(n){if(n!=null&&!isNaN(n=+n))return e((hf(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ji),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>vte(t,o/n))},r.copy=function(){return oD(e).domain(t)},vi.apply(r,arguments)}function Km(){var t=0,e=.5,r=1,n=1,i,o,a,s,l,u=nr,c,d=!1,h;function p(y){return isNaN(y=+y)?h:(y=.5+((y=+c(y))-o)*(n*y<n*o?s:l),u(d?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,r]=y,i=c(t=+t),o=c(e=+e),a=c(r=+r),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),n=o<i?-1:1,p):[t,e,r]},p.clamp=function(y){return arguments.length?(d=!!y,p):d},p.interpolator=function(y){return arguments.length?(u=y,p):u};function g(y){return function(x){var _,b,w;return arguments.length?([_,b,w]=x,u=Wte(y,[_,b,w]),p):[u(0),u(.5),u(1)]}}return p.range=g(wl),p.rangeRound=g(Zw),p.unknown=function(y){return arguments.length?(h=y,p):h},function(y){return c=y,i=y(t),o=y(e),a=y(r),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),n=o<i?-1:1,p}}function aD(){var t=wo(Km()(nr));return t.copy=function(){return xo(t,aD())},vi.apply(t,arguments)}function sD(){var t=nx(Km()).domain([.1,1,10]);return t.copy=function(){return xo(t,sD()).base(t.base())},vi.apply(t,arguments)}function lD(){var t=ix(Km());return t.copy=function(){return xo(t,lD()).constant(t.constant())},vi.apply(t,arguments)}function gx(){var t=ox(Km());return t.copy=function(){return xo(t,gx()).exponent(t.exponent())},vi.apply(t,arguments)}function jne(){return gx.apply(null,arguments).exponent(.5)}const SP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:yc,scaleDiverging:aD,scaleDivergingLog:sD,scaleDivergingPow:gx,scaleDivergingSqrt:jne,scaleDivergingSymlog:lD,scaleIdentity:FR,scaleImplicit:R0,scaleLinear:tp,scaleLog:UR,scaleOrdinal:Yw,scalePoint:Cu,scalePow:ax,scaleQuantile:HR,scaleQuantize:qR,scaleRadial:WR,scaleSequential:rD,scaleSequentialLog:nD,scaleSequentialPow:mx,scaleSequentialQuantile:oD,scaleSequentialSqrt:Nne,scaleSequentialSymlog:iD,scaleSqrt:hre,scaleSymlog:zR,scaleThreshold:GR,scaleTime:Cne,scaleUtc:kne,tickFormat:VR},Symbol.toStringTag,{value:"Module"}));var Rne=dl;function Dne(t,e,r){for(var n=-1,i=t.length;++n<i;){var o=t[n],a=e(o);if(a!=null&&(s===void 0?a===a&&!Rne(a):r(a,s)))var s=a,l=o}return l}var uD=Dne;function Mne(t,e){return t>e}var $ne=Mne,Lne=uD,Vne=$ne,Fne=bl;function Bne(t){return t&&t.length?Lne(t,Fne,Vne):void 0}var Une=Bne;const Xm=Le(Une);function zne(t,e){return t<e}var Wne=zne,Hne=uD,qne=Wne,Gne=bl;function Kne(t){return t&&t.length?Hne(t,Gne,qne):void 0}var Xne=Kne;const Ym=Le(Xne);var Yne=Cw,Qne=_o,Jne=yR,Zne=vr;function eie(t,e){var r=Zne(t)?Yne:Jne;return r(t,Qne(e))}var tie=eie,rie=mR,nie=tie;function iie(t,e){return rie(nie(t,e),1)}var oie=iie;const aie=Le(oie);var sie=Hw;function lie(t,e){return sie(t,e)}var uie=lie;const Qm=Le(uie);var xl=1e9,cie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},vx,Ye=!0,Hr="[DecimalError] ",Xo=Hr+"Invalid argument: ",yx=Hr+"Exponent out of range: ",El=Math.floor,Mo=Math.pow,fie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Sr,St=1e7,He=7,cD=9007199254740991,op=El(cD/He),ae={};ae.absoluteValue=ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ae.comparedTo=ae.cmp=function(t){var e,r,n,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(n=o.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*He;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ae.dividedBy=ae.div=function(t){return Zn(this,new this.constructor(t))};ae.dividedToIntegerBy=ae.idiv=function(t){var e=this,r=e.constructor;return $e(Zn(e,new r(t),0,1),r.precision)};ae.equals=ae.eq=function(t){return!this.cmp(t)};ae.exponent=function(){return mt(this)};ae.greaterThan=ae.gt=function(t){return this.cmp(t)>0};ae.greaterThanOrEqualTo=ae.gte=function(t){return this.cmp(t)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(t){return this.cmp(t)<0};ae.lessThanOrEqualTo=ae.lte=function(t){return this.cmp(t)<1};ae.logarithm=ae.log=function(t){var e,r=this,n=r.constructor,i=n.precision,o=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Sr))throw Error(Hr+"NaN");if(r.s<1)throw Error(Hr+(r.s?"NaN":"-Infinity"));return r.eq(Sr)?new n(0):(Ye=!1,e=Zn(xc(r,o),xc(t,o),o),Ye=!0,$e(e,i))};ae.minus=ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?hD(e,t):fD(e,(t.s=-t.s,t))};ae.modulo=ae.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Hr+"NaN");return r.s?(Ye=!1,e=Zn(r,t,0,1).times(t),Ye=!0,r.minus(e)):$e(new n(r),i)};ae.naturalExponential=ae.exp=function(){return dD(this)};ae.naturalLogarithm=ae.ln=function(){return xc(this)};ae.negated=ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ae.plus=ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?fD(e,t):hD(e,(t.s=-t.s,t))};ae.precision=ae.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Xo+t);if(e=mt(i)+1,n=i.d.length-1,r=n*He+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ae.squareRoot=ae.sqrt=function(){var t,e,r,n,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Hr+"NaN")}for(t=mt(s),Ye=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=wn(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=El((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=a=r+3;;)if(o=n,n=o.plus(Zn(s,o,a+2)).times(.5),wn(o.d).slice(0,a)===(e=wn(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if($e(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(e!="9999")break;a+=4}return Ye=!0,$e(n,r)};ae.times=ae.mul=function(t){var e,r,n,i,o,a,s,l,u,c=this,d=c.constructor,h=c.d,p=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,r=c.e+t.e,l=h.length,u=p.length,l<u&&(o=h,h=p,p=o,a=l,l=u,u=a),o=[],a=l+u,n=a;n--;)o.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)s=o[i]+p[n]*h[i-n-1]+e,o[i--]=s%St|0,e=s/St|0;o[i]=(o[i]+e)%St|0}for(;!o[--a];)o.pop();return e?++r:o.shift(),t.d=o,t.e=r,Ye?$e(t,d.precision):t};ae.toDecimalPlaces=ae.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Nn(t,0,xl),e===void 0?e=n.rounding:Nn(e,0,8),$e(r,t+mt(r)+1,e))};ae.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=ca(n,!0):(Nn(t,0,xl),e===void 0?e=i.rounding:Nn(e,0,8),n=$e(new i(n),t+1,e),r=ca(n,!0,t+1)),r};ae.toFixed=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?ca(i):(Nn(t,0,xl),e===void 0?e=o.rounding:Nn(e,0,8),n=$e(new o(i),t+mt(i)+1,e),r=ca(n.abs(),!1,t+mt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ae.toInteger=ae.toint=function(){var t=this,e=t.constructor;return $e(new e(t),mt(t)+1,e.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(t){var e,r,n,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Sr);if(s=new l(s),!s.s){if(t.s<1)throw Error(Hr+"Infinity");return s}if(s.eq(Sr))return s;if(n=l.precision,t.eq(Sr))return $e(s,n);if(e=t.e,r=t.d.length-1,a=e>=r,o=s.s,a){if((r=c<0?-c:c)<=cD){for(i=new l(Sr),e=Math.ceil(n/He+4),Ye=!1;r%2&&(i=i.times(s),AP(i.d,e)),r=El(r/2),r!==0;)s=s.times(s),AP(s.d,e);return Ye=!0,t.s<0?new l(Sr).div(i):$e(i,n)}}else if(o<0)throw Error(Hr+"NaN");return o=o<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,Ye=!1,i=t.times(xc(s,n+u)),Ye=!0,i=dD(i),i.s=o,i};ae.toPrecision=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?(r=mt(i),n=ca(i,r<=o.toExpNeg||r>=o.toExpPos)):(Nn(t,1,xl),e===void 0?e=o.rounding:Nn(e,0,8),i=$e(new o(i),t,e),r=mt(i),n=ca(i,t<=r||r<=o.toExpNeg,t)),n};ae.toSignificantDigits=ae.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Nn(t,1,xl),e===void 0?e=n.rounding:Nn(e,0,8)),$e(new n(r),t,e)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=mt(t),r=t.constructor;return ca(t,e<=r.toExpNeg||e>=r.toExpPos)};function fD(t,e){var r,n,i,o,a,s,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),Ye?$e(e,d):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(n=l,o=-o,s=u.length):(n=u,i=a,s=l.length),a=Math.ceil(d/He),s=a>s?a+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,n=u,u=l,l=n),r=0;o;)r=(l[--o]=l[o]+u[o]+r)/St|0,l[o]%=St;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Ye?$e(e,d):e}function Nn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Xo+t)}function wn(t){var e,r,n,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)n=t[e]+"",r=He-n.length,r&&(o+=Pi(r)),o+=n;a=t[e],n=a+"",r=He-n.length,r&&(o+=Pi(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Zn=function(){function t(n,i){var o,a=0,s=n.length;for(n=n.slice();s--;)o=n[s]*i+a,n[s]=o%St|0,a=o/St|0;return a&&n.unshift(a),n}function e(n,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,o){for(var a=0;o--;)n[o]-=a,a=n[o]<i[o]?1:0,n[o]=a*St+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,a){var s,l,u,c,d,h,p,g,y,x,_,b,w,O,T,P,E,S,I=n.constructor,N=n.s==i.s?1:-1,C=n.d,j=i.d;if(!n.s)return new I(n);if(!i.s)throw Error(Hr+"Division by zero");for(l=n.e-i.e,E=j.length,T=C.length,p=new I(N),g=p.d=[],u=0;j[u]==(C[u]||0);)++u;if(j[u]>(C[u]||0)&&--l,o==null?b=o=I.precision:a?b=o+(mt(n)-mt(i))+1:b=o,b<0)return new I(0);if(b=b/He+2|0,u=0,E==1)for(c=0,j=j[0],b++;(u<T||c)&&b--;u++)w=c*St+(C[u]||0),g[u]=w/j|0,c=w%j|0;else{for(c=St/(j[0]+1)|0,c>1&&(j=t(j,c),C=t(C,c),E=j.length,T=C.length),O=E,y=C.slice(0,E),x=y.length;x<E;)y[x++]=0;S=j.slice(),S.unshift(0),P=j[0],j[1]>=St/2&&++P;do c=0,s=e(j,y,E,x),s<0?(_=y[0],E!=x&&(_=_*St+(y[1]||0)),c=_/P|0,c>1?(c>=St&&(c=St-1),d=t(j,c),h=d.length,x=y.length,s=e(d,y,h,x),s==1&&(c--,r(d,E<h?S:j,h))):(c==0&&(s=c=1),d=j.slice()),h=d.length,h<x&&d.unshift(0),r(y,d,x),s==-1&&(x=y.length,s=e(j,y,E,x),s<1&&(c++,r(y,E<x?S:j,x))),x=y.length):s===0&&(c++,y=[0]),g[u++]=c,s&&y[0]?y[x++]=C[O]||0:(y=[C[O]],x=1);while((O++<T||y[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=l,$e(p,a?o+mt(p)+1:o)}}();function dD(t,e){var r,n,i,o,a,s,l=0,u=0,c=t.constructor,d=c.precision;if(mt(t)>16)throw Error(yx+mt(t));if(!t.s)return new c(Sr);for(Ye=!1,s=d,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(n=Math.log(Mo(2,u))/Math.LN10*2+5|0,s+=n,r=i=o=new c(Sr),c.precision=s;;){if(i=$e(i.times(t),s),r=r.times(++l),a=o.plus(Zn(i,r,s)),wn(a.d).slice(0,s)===wn(o.d).slice(0,s)){for(;u--;)o=$e(o.times(o),s);return c.precision=d,e==null?(Ye=!0,$e(o,d)):o}o=a}}function mt(t){for(var e=t.e*He,r=t.d[0];r>=10;r/=10)e++;return e}function Ay(t,e,r){if(e>t.LN10.sd())throw Ye=!0,r&&(t.precision=r),Error(Hr+"LN10 precision limit exceeded");return $e(new t(t.LN10),e)}function Pi(t){for(var e="";t--;)e+="0";return e}function xc(t,e){var r,n,i,o,a,s,l,u,c,d=1,h=10,p=t,g=p.d,y=p.constructor,x=y.precision;if(p.s<1)throw Error(Hr+(p.s?"NaN":"-Infinity"));if(p.eq(Sr))return new y(0);if(e==null?(Ye=!1,u=x):u=e,p.eq(10))return e==null&&(Ye=!0),Ay(y,u);if(u+=h,y.precision=u,r=wn(g),n=r.charAt(0),o=mt(p),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=wn(p.d),n=r.charAt(0),d++;o=mt(p),n>1?(p=new y("0."+r),o++):p=new y(n+"."+r.slice(1))}else return l=Ay(y,u+2,x).times(o+""),p=xc(new y(n+"."+r.slice(1)),u-h).plus(l),y.precision=x,e==null?(Ye=!0,$e(p,x)):p;for(s=a=p=Zn(p.minus(Sr),p.plus(Sr),u),c=$e(p.times(p),u),i=3;;){if(a=$e(a.times(c),u),l=s.plus(Zn(a,new y(i),u)),wn(l.d).slice(0,u)===wn(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(Ay(y,u+2,x).times(o+""))),s=Zn(s,new y(d),u),y.precision=x,e==null?(Ye=!0,$e(s,x)):s;s=l,i+=2}}function TP(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=El(r/He),t.d=[],n=(r+1)%He,r<0&&(n+=He),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=He;n<i;)t.d.push(+e.slice(n,n+=He));e=e.slice(n),n=He-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Ye&&(t.e>op||t.e<-op))throw Error(yx+r)}else t.s=0,t.e=0,t.d=[0];return t}function $e(t,e,r){var n,i,o,a,s,l,u,c,d=t.d;for(a=1,o=d[0];o>=10;o/=10)a++;if(n=e-a,n<0)n+=He,i=e,u=d[c=0];else{if(c=Math.ceil((n+1)/He),o=d.length,c>=o)return t;for(u=o=d[c],a=1;o>=10;o/=10)a++;n%=He,i=n-He+a}if(r!==void 0&&(o=Mo(10,a-i-1),s=u/o%10|0,l=e<0||d[c+1]!==void 0||u%o,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?u/Mo(10,a-i):0:d[c-1])%10&1||r==(t.s<0?8:7))),e<1||!d[0])return l?(o=mt(t),d.length=1,e=e-o-1,d[0]=Mo(10,(He-e%He)%He),t.e=El(-e/He)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(n==0?(d.length=c,o=1,c--):(d.length=c+1,o=Mo(10,He-n),d[c]=i>0?(u/Mo(10,a-i)%Mo(10,i)|0)*o:0),l)for(;;)if(c==0){(d[0]+=o)==St&&(d[0]=1,++t.e);break}else{if(d[c]+=o,d[c]!=St)break;d[c--]=0,o=1}for(n=d.length;d[--n]===0;)d.pop();if(Ye&&(t.e>op||t.e<-op))throw Error(yx+mt(t));return t}function hD(t,e){var r,n,i,o,a,s,l,u,c,d,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Ye?$e(e,p):e;if(l=t.d,d=e.d,n=e.e,u=t.e,l=l.slice(),a=u-n,a){for(c=a<0,c?(r=l,a=-a,s=d.length):(r=d,n=u,s=l.length),i=Math.max(Math.ceil(p/He),s)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}a=0}for(c&&(r=l,l=d,d=r,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=St-1;--l[o],l[i]+=St}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,Ye?$e(e,p):e):new h(0)}function ca(t,e,r){var n,i=mt(t),o=wn(t.d),a=o.length;return e?(r&&(n=r-a)>0?o=o.charAt(0)+"."+o.slice(1)+Pi(n):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Pi(-i-1)+o,r&&(n=r-a)>0&&(o+=Pi(n))):i>=a?(o+=Pi(i+1-a),r&&(n=r-i-1)>0&&(o=o+"."+Pi(n))):((n=i+1)<a&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(o+="."),o+=Pi(n))),t.s<0?"-"+o:o}function AP(t,e){if(t.length>e)return t.length=e,!0}function pD(t){var e,r,n;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Xo+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return TP(a,o.toString())}else if(typeof o!="string")throw Error(Xo+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,fie.test(o))TP(a,o);else throw Error(Xo+o)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=pD,i.config=i.set=die,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function die(t){if(!t||typeof t!="object")throw Error(Hr+"Object expected");var e,r,n,i=["precision",1,xl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(El(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Xo+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Xo+r+": "+n);return this}var vx=pD(cie);Sr=new vx(1);const De=vx;function hie(t){return yie(t)||gie(t)||mie(t)||pie()}function pie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mie(t,e){if(t){if(typeof t=="string")return L0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L0(t,e)}}function gie(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function yie(t){if(Array.isArray(t))return L0(t)}function L0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var vie=function(e){return e},mD={},gD=function(e){return e===mD},PP=function(e){return function r(){return arguments.length===0||arguments.length===1&&gD(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},bie=function t(e,r){return e===1?r:PP(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==mD}).length;return a>=e?r.apply(void 0,i):t(e-a,PP(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(d){return gD(d)?l.shift():d});return r.apply(void 0,hie(c).concat(l))}))})},Jm=function(e){return bie(e.length,e)},V0=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},_ie=Jm(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),wie=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return vie;var i=r.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},F0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},yD=function(e){var r=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r&&o.every(function(s,l){return s===r[l]})||(r=o,n=e.apply(void 0,o)),n}};function xie(t){var e;return t===0?e=1:e=Math.floor(new De(t).abs().log(10).toNumber())+1,e}function Eie(t,e,r){for(var n=new De(t),i=0,o=[];n.lt(e)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var Sie=Jm(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Tie=Jm(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Aie=Jm(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Zm={rangeStep:Eie,getDigitCount:xie,interpolateNumber:Sie,uninterpolateNumber:Tie,uninterpolateTruncation:Aie};function B0(t){return Oie(t)||Iie(t)||vD(t)||Pie()}function Pie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iie(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Oie(t){if(Array.isArray(t))return U0(t)}function Ec(t,e){return Nie(t)||kie(t,e)||vD(t,e)||Cie()}function Cie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vD(t,e){if(t){if(typeof t=="string")return U0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U0(t,e)}}function U0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kie(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(n=(s=a.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,o=l}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw o}}return r}}function Nie(t){if(Array.isArray(t))return t}function bD(t){var e=Ec(t,2),r=e[0],n=e[1],i=r,o=n;return r>n&&(i=n,o=r),[i,o]}function _D(t,e,r){if(t.lte(0))return new De(0);var n=Zm.getDigitCount(t.toNumber()),i=new De(10).pow(n),o=t.div(i),a=n!==1?.05:.1,s=new De(Math.ceil(o.div(a).toNumber())).add(r).mul(a),l=s.mul(i);return e?l:new De(Math.ceil(l))}function jie(t,e,r){var n=1,i=new De(t);if(!i.isint()&&r){var o=Math.abs(t);o<1?(n=new De(10).pow(Zm.getDigitCount(t)-1),i=new De(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new De(Math.floor(t)))}else t===0?i=new De(Math.floor((e-1)/2)):r||(i=new De(Math.floor(t)));var a=Math.floor((e-1)/2),s=wie(_ie(function(l){return i.add(new De(l-a).mul(n)).toNumber()}),V0);return s(0,e)}function wD(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new De(0),tickMin:new De(0),tickMax:new De(0)};var o=_D(new De(e).sub(t).div(r-1),n,i),a;t<=0&&e>=0?a=new De(0):(a=new De(t).add(e).div(2),a=a.sub(new De(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new De(e).sub(a).div(o).toNumber()),u=s+l+1;return u>r?wD(t,e,r,n,i+1):(u<r&&(l=e>0?l+(r-u):l,s=e>0?s:s+(r-u)),{step:o,tickMin:a.sub(new De(s).mul(o)),tickMax:a.add(new De(l).mul(o))})}function Rie(t){var e=Ec(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=bD([r,n]),l=Ec(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(B0(V0(0,i-1).map(function(){return 1/0}))):[].concat(B0(V0(0,i-1).map(function(){return-1/0})),[c]);return r>n?F0(d):d}if(u===c)return jie(u,i,o);var h=wD(u,c,a,o),p=h.step,g=h.tickMin,y=h.tickMax,x=Zm.rangeStep(g,y.add(new De(.1).mul(p)),p);return r>n?F0(x):x}function Die(t,e){var r=Ec(t,2),n=r[0],i=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=bD([n,i]),s=Ec(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[n,i];if(l===u)return[l];var c=Math.max(e,2),d=_D(new De(u).sub(l).div(c-1),o,0),h=[].concat(B0(Zm.rangeStep(new De(l),new De(u).sub(new De(.99).mul(d)),d)),[u]);return n>i?F0(h):h}var Mie=yD(Rie),$ie=yD(Die),Lie="Invariant failed";function fa(t,e){throw new Error(Lie)}var Vie=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Fs(t){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fs(t)}function ap(){return ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ap.apply(this,arguments)}function Fie(t,e){return Wie(t)||zie(t,e)||Uie(t,e)||Bie()}function Bie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uie(t,e){if(t){if(typeof t=="string")return IP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IP(t,e)}}function IP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Wie(t){if(Array.isArray(t))return t}function Hie(t,e){if(t==null)return{};var r=qie(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Gie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SD(n.key),n)}}function Xie(t,e,r){return e&&Kie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yie(t,e,r){return e=sp(e),Qie(t,xD()?Reflect.construct(e,r||[],sp(t).constructor):e.apply(t,r))}function Qie(t,e){if(e&&(Fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jie(t)}function Jie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xD=function(){return!!t})()}function sp(t){return sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sp(t)}function Zie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z0(t,e)}function z0(t,e){return z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},z0(t,e)}function ED(t,e,r){return e=SD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SD(t){var e=eoe(t,"string");return Fs(e)=="symbol"?e:e+""}function eoe(t,e){if(Fs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yf=function(t){function e(){return Gie(this,e),Yie(this,e,arguments)}return Zie(e,t),Xie(e,[{key:"render",value:function(){var n=this.props,i=n.offset,o=n.layout,a=n.width,s=n.dataKey,l=n.data,u=n.dataPointFormatter,c=n.xAxis,d=n.yAxis,h=Hie(n,Vie),p=Te(h,!1);this.props.direction==="x"&&c.type!=="number"&&fa();var g=l.map(function(y){var x=u(y,s),_=x.x,b=x.y,w=x.value,O=x.errorVal;if(!O)return null;var T=[],P,E;if(Array.isArray(O)){var S=Fie(O,2);P=S[0],E=S[1]}else P=E=O;if(o==="vertical"){var I=c.scale,N=b+i,C=N+a,j=N-a,k=I(w-P),W=I(w+E);T.push({x1:W,y1:C,x2:W,y2:j}),T.push({x1:k,y1:N,x2:W,y2:N}),T.push({x1:k,y1:C,x2:k,y2:j})}else if(o==="horizontal"){var H=d.scale,$=_+i,F=$-a,M=$+a,V=H(w-P),K=H(w+E);T.push({x1:F,y1:K,x2:M,y2:K}),T.push({x1:$,y1:V,x2:$,y2:K}),T.push({x1:F,y1:V,x2:M,y2:V})}return L.createElement(ut,ap({className:"recharts-errorBar",key:"bar-".concat(T.map(function(D){return"".concat(D.x1,"-").concat(D.x2,"-").concat(D.y1,"-").concat(D.y2)}))},p),T.map(function(D){return L.createElement("line",ap({},D,{key:"line-".concat(D.x1,"-").concat(D.x2,"-").concat(D.y1,"-").concat(D.y2)}))}))});return L.createElement(ut,{className:"recharts-errorBars"},g)}}])}(L.Component);ED(yf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});ED(yf,"displayName","ErrorBar");function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function OP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Co(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(r),!0).forEach(function(n){toe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function toe(t,e,r){return e=roe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function roe(t){var e=noe(t,"string");return Sc(e)=="symbol"?e:e+""}function noe(t,e){if(Sc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TD=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Er(r,ds);if(!a)return null;var s=ds.defaultProps,l=s!==void 0?Co(Co({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(n||[]).reduce(function(c,d){var h=d.item,p=d.props,g=p.sectors||p.data||[];return c.concat(g.map(function(y){return{type:a.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(n||[]).map(function(c){var d=c.item,h=d.type.defaultProps,p=h!==void 0?Co(Co({},h),d.props):{},g=p.dataKey,y=p.name,x=p.legendType,_=p.hide;return{inactive:_,dataKey:g,type:l.iconType||x||"square",color:bx(d),value:y||g,payload:p}}),Co(Co(Co({},l),ds.getWithHeight(a,i)),{},{payload:u,item:a})};function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function CP(t){return soe(t)||aoe(t)||ooe(t)||ioe()}function ioe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ooe(t,e){if(t){if(typeof t=="string")return W0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W0(t,e)}}function aoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function soe(t){if(Array.isArray(t))return W0(t)}function W0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ot(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kP(Object(r),!0).forEach(function(n){ps(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ps(t,e,r){return e=loe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function loe(t){var e=uoe(t,"string");return Tc(e)=="symbol"?e:e+""}function uoe(t,e){if(Tc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Or(t,e,r){return Ee(t)||Ee(e)?r:bt(e)?Br(t,e,r):ge(e)?e(t):r}function ku(t,e,r,n){var i=aie(t,function(s){return Or(s,e)});if(r==="number"){var o=i.filter(function(s){return te(s)||parseFloat(s)});return o.length?[Ym(o),Xm(o)]:[1/0,-1/0]}var a=n?i.filter(function(s){return!Ee(s)}):i;return a.map(function(s){return bt(s)||s instanceof Date?s:""})}var coe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,d=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(an(d-c)!==an(h-d)){var g=[];if(an(h-d)===an(l[1]-l[0])){p=h;var y=d+l[1]-l[0];g[0]=Math.min(y,(y+c)/2),g[1]=Math.max(y,(y+c)/2)}else{p=c;var x=h+l[1]-l[0];g[0]=Math.min(d,(x+d)/2),g[1]=Math.max(d,(x+d)/2)}var _=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(e>_[0]&&e<=_[1]||e>=g[0]&&e<=g[1]){a=i[u].index;break}}else{var b=Math.min(c,h),w=Math.max(c,h);if(e>(b+d)/2&&e<=(w+d)/2){a=i[u].index;break}}}else for(var O=0;O<s;O++)if(O===0&&e<=(n[O].coordinate+n[O+1].coordinate)/2||O>0&&O<s-1&&e>(n[O].coordinate+n[O-1].coordinate)/2&&e<=(n[O].coordinate+n[O+1].coordinate)/2||O===s-1&&e>(n[O].coordinate+n[O-1].coordinate)/2){a=n[O].index;break}return a},bx=function(e){var r,n=e,i=n.type.displayName,o=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ot(ot({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},foe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,d=Object.keys(c),h=0,p=d.length;h<p;h++){var g=c[d[h]],y=g.items,x=g.cateAxisId,_=y.filter(function(E){return Qn(E.type).indexOf("Bar")>=0});if(_&&_.length){var b=_[0].type.defaultProps,w=b!==void 0?ot(ot({},b),_[0].props):_[0].props,O=w.barSize,T=w[x];a[T]||(a[T]=[]);var P=Ee(O)?r:O;a[T].push({item:_[0],stackList:_.slice(1),barSize:Ee(P)?void 0:ua(P,n,0)})}}return a},doe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=ua(r,i,0,!0),c,d=[];if(a[0].barSize===+a[0].barSize){var h=!1,p=i/l,g=a.reduce(function(O,T){return O+T.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&p>0&&(h=!0,p*=.9,g=l*p);var y=(i-g)/2>>0,x={offset:y-u,size:0};c=a.reduce(function(O,T){var P={item:T.item,position:{offset:x.offset+x.size+u,size:h?p:T.barSize}},E=[].concat(CP(O),[P]);return x=E[E.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(S){E.push({item:S,position:x})}),E},d)}else{var _=ua(n,i,0,!0);i-2*_-(l-1)*u<=0&&(u=0);var b=(i-2*_-(l-1)*u)/l;b>1&&(b>>=0);var w=s===+s?Math.min(b,s):b;c=a.reduce(function(O,T,P){var E=[].concat(CP(O),[{item:T.item,position:{offset:_+(b+u)*P+(b-w)/2,size:w}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(S){E.push({item:S,position:E[E.length-1].position})}),E},d)}return c},hoe=function(e,r,n,i){var o=n.children,a=n.width,s=n.margin,l=a-(s.left||0)-(s.right||0),u=TD({children:o,legendWidth:l});if(u){var c=i||{},d=c.width,h=c.height,p=u.align,g=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&g==="middle")&&p!=="center"&&te(e[p]))return ot(ot({},e),{},ps({},p,e[p]+(d||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&g!=="middle"&&te(e[g]))return ot(ot({},e),{},ps({},g,e[g]+(h||0)))}return e},poe=function(e,r,n){return Ee(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},AD=function(e,r,n,i,o){var a=r.props.children,s=Ur(a,yf).filter(function(u){return poe(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var d=Or(c,n);if(Ee(d))return u;var h=Array.isArray(d)?[Ym(d),Xm(d)]:[d,d],p=l.reduce(function(g,y){var x=Or(c,y,0),_=h[0]-Math.abs(Array.isArray(x)?x[0]:x),b=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(_,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},moe=function(e,r,n,i,o){var a=r.map(function(s){return AD(e,s,n,o,i)}).filter(function(s){return!Ee(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},PD=function(e,r,n,i,o){var a=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&AD(e,l,u,i)||ku(e,u,n,o)});if(n==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},ID=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},OD=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(a=!0),l.coordinate});return o||s.push(r),a||s.push(n),s},Gn=function(e,r,n){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?an(s[0]-s[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:i(h)+u,value:d,offset:u}});return c.filter(function(d){return!cf(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+u,value:d,index:h,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,h){return{coordinate:i(d)+u,value:o?o[d]:d,index:h,offset:u}})},Py=new WeakMap,hd=function(e,r){if(typeof r!="function")return e;Py.has(e)||Py.set(e,new WeakMap);var n=Py.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},goe=function(e,r,n){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:yc(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:tp(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Cu(),realScaleType:"point"}:o==="category"?{scale:yc(),realScaleType:"band"}:{scale:tp(),realScaleType:"linear"};if(la(i)){var l="scale".concat(Mm(i));return{scale:(SP[l]||Cu)(),realScaleType:SP[l]?l:"point"}}return ge(i)?{scale:i}:{scale:Cu(),realScaleType:"point"}},NP=1e-4,yoe=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),o=Math.min(i[0],i[1])-NP,a=Math.max(i[0],i[1])+NP,s=e(r[0]),l=e(r[n-1]);(s<o||s>a||l<o||l>a)&&e.domain([r[0],r[n-1]])}},voe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},boe=function(e,r){if(!r||r.length!==2||!te(r[0])||!te(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o=[e[0],e[1]];return(!te(e[0])||e[0]<n)&&(o[0]=n),(!te(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},_oe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,a=0,s=0;s<r;++s){var l=cf(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1]):(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1])}},woe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,a=0;a<r;++a){var s=cf(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},xoe={sign:_oe,expand:$H,none:Ns,silhouette:LH,wiggle:VH,positive:woe},Eoe=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),o=xoe[n],a=MH().keys(i).value(function(s,l){return+Or(s,l,0)}).order(m0).offset(o);return a(e)},Soe=function(e,r,n,i,o,a){if(!e)return null;var s=a?r.reverse():r,l={},u=s.reduce(function(d,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?ot(ot({},h.type.defaultProps),h.props):h.props,y=g.stackId,x=g.hide;if(x)return d;var _=g[n],b=d[_]||{hasStack:!1,stackGroups:{}};if(bt(y)){var w=b.stackGroups[y]||{numericAxisId:n,cateAxisId:i,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[y]=w}else b.stackGroups[ff("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return ot(ot({},d),{},ps({},_,b))},l),c={};return Object.keys(u).reduce(function(d,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,x){var _=p.stackGroups[x];return ot(ot({},y),{},ps({},x,{numericAxisId:n,cateAxisId:i,items:_.items,stackedData:Eoe(e,_.items,o)}))},g)}return ot(ot({},d),{},ps({},h,p))},c)},Toe=function(e,r){var n=r.realScaleType,i=r.type,o=r.tickCount,a=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Mie(u,o,s);return e.domain([Ym(c),Xm(c)]),{niceTicks:c}}if(o&&i==="number"){var d=e.domain(),h=$ie(d,o,s);return{niceTicks:h}}return null};function jP(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ee(i[e.dataKey])){var s=Nh(r,"value",i[e.dataKey]);if(s)return s.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var l=Or(i,Ee(a)?e.dataKey:a);return Ee(l)?null:e.scale(l)}var RP=function(e){var r=e.axis,n=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=Or(a,r.dataKey,r.domain[s]);return Ee(l)?null:r.scale(l)-o/2+i},Aoe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},Poe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ot(ot({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(bt(o)){var a=r[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},Ioe=function(e){return e.reduce(function(r,n){return[Ym(n.concat([r[0]]).filter(te)),Xm(n.concat([r[1]]).filter(te))]},[1/0,-1/0])},CD=function(e,r,n){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var d=Ioe(c.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},DP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,H0=function(e,r,n){if(ge(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(te(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(DP.test(e[0])){var o=+DP.exec(e[0])[1];i[0]=r[0]-o}else ge(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(te(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(MP.test(e[1])){var a=+MP.exec(e[1])[1];i[1]=r[1]+a}else ge(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},lp=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var o=Gw(r,function(d){return d.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0},$P=function(e,r,n){return!e||!e.length||Qm(e,Br(n,"type.defaultProps.domain"))?r:e},kD=function(e,r){var n=e.type.defaultProps?ot(ot({},e.type.defaultProps),e.props):e.props,i=n.dataKey,o=n.name,a=n.unit,s=n.formatter,l=n.tooltipType,u=n.chartType,c=n.hide;return ot(ot({},Te(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:bx(e),value:Or(r,i),type:l,payload:r,chartType:u,hide:c})};function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}function LP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function VP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(r),!0).forEach(function(n){Ooe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ooe(t,e,r){return e=Coe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Coe(t){var e=koe(t,"string");return Ac(e)=="symbol"?e:e+""}function koe(t,e){if(Ac(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var up=Math.PI/180,Noe=function(e){return e*180/Math.PI},Rt=function(e,r,n,i){return{x:e+Math.cos(-up*i)*n,y:r+Math.sin(-up*i)*n}},joe=function(e,r){var n=e.x,i=e.y,o=r.x,a=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(i-a,2))},Roe=function(e,r){var n=e.x,i=e.y,o=r.cx,a=r.cy,s=joe({x:n,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(n-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:Noe(u),angleInRadian:u}},Doe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),o=Math.floor(n/360),a=Math.min(i,o);return{startAngle:r-a*360,endAngle:n-a*360}},Moe=function(e,r){var n=r.startAngle,i=r.endAngle,o=Math.floor(n/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},FP=function(e,r){var n=e.x,i=e.y,o=Roe({x:n,y:i},r),a=o.radius,s=o.angle,l=r.innerRadius,u=r.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=Doe(r),d=c.startAngle,h=c.endAngle,p=s,g;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=d}return g?VP(VP({},r),{},{radius:a,angle:Moe(p,r)}):null};function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}var $oe=["offset"];function Loe(t){return Uoe(t)||Boe(t)||Foe(t)||Voe()}function Voe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Foe(t,e){if(t){if(typeof t=="string")return q0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q0(t,e)}}function Boe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Uoe(t){if(Array.isArray(t))return q0(t)}function q0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zoe(t,e){if(t==null)return{};var r=Woe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Woe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function BP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(r),!0).forEach(function(n){Hoe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hoe(t,e,r){return e=qoe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qoe(t){var e=Goe(t,"string");return Pc(e)=="symbol"?e:e+""}function Goe(t,e){if(Pc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ic(){return Ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ic.apply(this,arguments)}var Koe=function(e){var r=e.value,n=e.formatter,i=Ee(e.children)?r:e.children;return ge(n)?n(i):i},Xoe=function(e,r){var n=an(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Yoe=function(e,r,n){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,y=l.clockWise,x=(d+h)/2,_=Xoe(p,g),b=_>=0?1:-1,w,O;i==="insideStart"?(w=p+b*a,O=y):i==="insideEnd"?(w=g-b*a,O=!y):i==="end"&&(w=g+b*a,O=y),O=_<=0?O:!O;var T=Rt(u,c,x,w),P=Rt(u,c,x,w+(O?1:-1)*359),E="M".concat(T.x,",").concat(T.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(O?0:1,`,
    `).concat(P.x,",").concat(P.y),S=Ee(e.id)?ff("recharts-radial-line-"):e.id;return L.createElement("text",Ic({},n,{dominantBaseline:"central",className:Oe("recharts-radial-bar-label",s)}),L.createElement("defs",null,L.createElement("path",{id:S,d:E})),L.createElement("textPath",{xlinkHref:"#".concat(S)},r))},Qoe=function(e){var r=e.viewBox,n=e.offset,i=e.position,o=r,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,d=o.endAngle,h=(c+d)/2;if(i==="outside"){var p=Rt(a,s,u+n,h),g=p.x,y=p.y;return{x:g,y,textAnchor:g>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(l+u)/2,_=Rt(a,s,x,h),b=_.x,w=_.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Joe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,o=e.position,a=r,s=a.x,l=a.y,u=a.width,c=a.height,d=c>=0?1:-1,h=d*i,p=d>0?"end":"start",g=d>0?"start":"end",y=u>=0?1:-1,x=y*i,_=y>0?"end":"start",b=y>0?"start":"end";if(o==="top"){var w={x:s+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:p};return gt(gt({},w),n?{height:Math.max(l-n.y,0),width:u}:{})}if(o==="bottom"){var O={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:g};return gt(gt({},O),n?{height:Math.max(n.y+n.height-(l+c),0),width:u}:{})}if(o==="left"){var T={x:s-x,y:l+c/2,textAnchor:_,verticalAnchor:"middle"};return gt(gt({},T),n?{width:Math.max(T.x-n.x,0),height:c}:{})}if(o==="right"){var P={x:s+u+x,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return gt(gt({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:c}:{})}var E=n?{width:u,height:c}:{};return o==="insideLeft"?gt({x:s+x,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},E):o==="insideRight"?gt({x:s+u-x,y:l+c/2,textAnchor:_,verticalAnchor:"middle"},E):o==="insideTop"?gt({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:g},E):o==="insideBottom"?gt({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:p},E):o==="insideTopLeft"?gt({x:s+x,y:l+h,textAnchor:b,verticalAnchor:g},E):o==="insideTopRight"?gt({x:s+u-x,y:l+h,textAnchor:_,verticalAnchor:g},E):o==="insideBottomLeft"?gt({x:s+x,y:l+c-h,textAnchor:b,verticalAnchor:p},E):o==="insideBottomRight"?gt({x:s+u-x,y:l+c-h,textAnchor:_,verticalAnchor:p},E):hl(o)&&(te(o.x)||Uo(o.x))&&(te(o.y)||Uo(o.y))?gt({x:s+ua(o.x,u),y:l+ua(o.y,c),textAnchor:"end",verticalAnchor:"end"},E):gt({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},E)},Zoe=function(e){return"cx"in e&&te(e.cx)};function Xt(t){var e=t.offset,r=e===void 0?5:e,n=zoe(t,$oe),i=gt({offset:r},n),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,d=c===void 0?"":c,h=i.textBreakAll;if(!o||Ee(s)&&Ee(l)&&!U.isValidElement(u)&&!ge(u))return null;if(U.isValidElement(u))return U.cloneElement(u,i);var p;if(ge(u)){if(p=U.createElement(u,i),U.isValidElement(p))return p}else p=Koe(i);var g=Zoe(o),y=Te(i,!0);if(g&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Yoe(i,p,y);var x=g?Qoe(i):Joe(i);return L.createElement(Kh,Ic({className:Oe("recharts-label",d)},y,x,{breakAll:h}),p)}Xt.displayName="Label";var ND=function(e){var r=e.cx,n=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,d=e.x,h=e.y,p=e.top,g=e.left,y=e.width,x=e.height,_=e.clockWise,b=e.labelViewBox;if(b)return b;if(te(y)&&te(x)){if(te(d)&&te(h))return{x:d,y:h,width:y,height:x};if(te(p)&&te(g))return{x:p,y:g,width:y,height:x}}return te(d)&&te(h)?{x:d,y:h,width:0,height:0}:te(r)&&te(n)?{cx:r,cy:n,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:_}:e.viewBox?e.viewBox:{}},eae=function(e,r){return e?e===!0?L.createElement(Xt,{key:"label-implicit",viewBox:r}):bt(e)?L.createElement(Xt,{key:"label-implicit",viewBox:r,value:e}):U.isValidElement(e)?e.type===Xt?U.cloneElement(e,{key:"label-implicit",viewBox:r}):L.createElement(Xt,{key:"label-implicit",content:e,viewBox:r}):ge(e)?L.createElement(Xt,{key:"label-implicit",content:e,viewBox:r}):hl(e)?L.createElement(Xt,Ic({viewBox:r},e,{key:"label-implicit"})):null:null},tae=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,o=ND(e),a=Ur(i,Xt).map(function(l,u){return U.cloneElement(l,{viewBox:r||o,key:"label-".concat(u)})});if(!n)return a;var s=eae(e.label,r||o);return[s].concat(Loe(a))};Xt.parseViewBox=ND;Xt.renderCallByParent=tae;function rae(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var nae=rae;const iae=Le(nae);function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}var oae=["valueAccessor"],aae=["data","dataKey","clockWise","id","textBreakAll"];function sae(t){return fae(t)||cae(t)||uae(t)||lae()}function lae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uae(t,e){if(t){if(typeof t=="string")return G0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G0(t,e)}}function cae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fae(t){if(Array.isArray(t))return G0(t)}function G0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cp(){return cp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cp.apply(this,arguments)}function UP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(r),!0).forEach(function(n){dae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dae(t,e,r){return e=hae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hae(t){var e=pae(t,"string");return Oc(e)=="symbol"?e:e+""}function pae(t,e){if(Oc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WP(t,e){if(t==null)return{};var r=mae(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var gae=function(e){return Array.isArray(e.value)?iae(e.value):e.value};function Zi(t){var e=t.valueAccessor,r=e===void 0?gae:e,n=WP(t,oae),i=n.data,o=n.dataKey,a=n.clockWise,s=n.id,l=n.textBreakAll,u=WP(n,aae);return!i||!i.length?null:L.createElement(ut,{className:"recharts-label-list"},i.map(function(c,d){var h=Ee(o)?r(c,d):Or(c&&c.payload,o),p=Ee(s)?{}:{id:"".concat(s,"-").concat(d)};return L.createElement(Xt,cp({},Te(c,!0),u,p,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:Xt.parseViewBox(Ee(a)?c:zP(zP({},c),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}Zi.displayName="LabelList";function yae(t,e){return t?t===!0?L.createElement(Zi,{key:"labelList-implicit",data:e}):L.isValidElement(t)||ge(t)?L.createElement(Zi,{key:"labelList-implicit",data:e,content:t}):hl(t)?L.createElement(Zi,cp({data:e},t,{key:"labelList-implicit"})):null:null}function vae(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Ur(n,Zi).map(function(a,s){return U.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var o=yae(t.label,e);return[o].concat(sae(i))}Zi.renderCallByParent=vae;function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function K0(){return K0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},K0.apply(this,arguments)}function HP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(r),!0).forEach(function(n){bae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bae(t,e,r){return e=_ae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ae(t){var e=wae(t,"string");return Cc(e)=="symbol"?e:e+""}function wae(t,e){if(Cc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xae=function(e,r){var n=an(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},pd=function(e){var r=e.cx,n=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,d=Math.asin(l/c)/up,h=u?o:o+a*d,p=Rt(r,n,c,h),g=Rt(r,n,i,h),y=u?o-a*d:o,x=Rt(r,n,c*Math.cos(d*up),y);return{center:p,circleTangency:g,lineTangency:x,theta:d}},jD=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=xae(a,s),u=a+l,c=Rt(r,n,o,a),d=Rt(r,n,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var p=Rt(r,n,i,a),g=Rt(r,n,i,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Eae=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,d=an(c-u),h=pd({cx:r,cy:n,radius:o,angle:u,sign:d,cornerRadius:a,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,y=h.theta,x=pd({cx:r,cy:n,radius:o,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:l}),_=x.circleTangency,b=x.lineTangency,w=x.theta,O=l?Math.abs(u-c):Math.abs(u-c)-y-w;if(O<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):jD({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var T="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(O>180),",").concat(+(d<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var P=pd({cx:r,cy:n,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),E=P.circleTangency,S=P.lineTangency,I=P.theta,N=pd({cx:r,cy:n,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),C=N.circleTangency,j=N.lineTangency,k=N.theta,W=l?Math.abs(u-c):Math.abs(u-c)-I-k;if(W<0&&a===0)return"".concat(T,"L").concat(r,",").concat(n,"Z");T+="L".concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(W>180),",").concat(+(d>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,"Z")}else T+="L".concat(r,",").concat(n,"Z");return T},Sae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},RD=function(e){var r=qP(qP({},Sae),e),n=r.cx,i=r.cy,o=r.innerRadius,a=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,c=r.startAngle,d=r.endAngle,h=r.className;if(a<o||c===d)return null;var p=Oe("recharts-sector",h),g=a-o,y=ua(s,g,0,!0),x;return y>0&&Math.abs(c-d)<360?x=Eae({cx:n,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(y,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):x=jD({cx:n,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:d}),L.createElement("path",K0({},Te(r,!0),{className:p,d:x,role:"img"}))};function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},X0.apply(this,arguments)}function GP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function KP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(r),!0).forEach(function(n){Tae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tae(t,e,r){return e=Aae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Aae(t){var e=Pae(t,"string");return kc(e)=="symbol"?e:e+""}function Pae(t,e){if(kc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XP={curveBasisClosed:TH,curveBasisOpen:AH,curveBasis:SH,curveBumpX:cH,curveBumpY:fH,curveLinearClosed:PH,curveLinear:Lm,curveMonotoneX:IH,curveMonotoneY:OH,curveNatural:CH,curveStep:kH,curveStepAfter:jH,curveStepBefore:NH},md=function(e){return e.x===+e.x&&e.y===+e.y},Zl=function(e){return e.x},eu=function(e){return e.y},Iae=function(e,r){if(ge(e))return e;var n="curve".concat(Mm(e));return(n==="curveMonotone"||n==="curveBump")&&r?XP["".concat(n).concat(r==="vertical"?"Y":"X")]:XP[n]||Lm},Oae=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Iae(n,s),d=u?o.filter(function(y){return md(y)}):o,h;if(Array.isArray(a)){var p=u?a.filter(function(y){return md(y)}):a,g=d.map(function(y,x){return KP(KP({},y),{},{base:p[x]})});return s==="vertical"?h=od().y(eu).x1(Zl).x0(function(y){return y.base.x}):h=od().x(Zl).y1(eu).y0(function(y){return y.base.y}),h.defined(md).curve(c),h(g)}return s==="vertical"&&te(a)?h=od().y(eu).x1(Zl).x0(a):te(a)?h=od().x(Zl).y1(eu).y0(a):h=Rj().x(Zl).y(eu),h.defined(md).curve(c),h(d)},Y0=function(e){var r=e.className,n=e.points,i=e.path,o=e.pathRef;if((!n||!n.length)&&!i)return null;var a=n&&n.length?Oae(e):i;return L.createElement("path",X0({},Te(e,!1),jh(e),{className:Oe("recharts-curve",r),d:a,ref:o}))},DD={exports:{}},Cae="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",kae=Cae,Nae=kae;function MD(){}function $D(){}$D.resetWarningCache=MD;var jae=function(){function t(n,i,o,a,s,l){if(l!==Nae){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:$D,resetWarningCache:MD};return r.PropTypes=r,r};DD.exports=jae();var Rae=DD.exports;const ke=Le(Rae);var Dae=Object.getOwnPropertyNames,Mae=Object.getOwnPropertySymbols,$ae=Object.prototype.hasOwnProperty;function YP(t,e){return function(n,i,o){return t(n,i,o)&&e(n,i,o)}}function gd(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var o=i.cache,a=o.get(r),s=o.get(n);if(a&&s)return a===n&&s===r;o.set(r,n),o.set(n,r);var l=t(r,n,i);return o.delete(r),o.delete(n),l}}function QP(t){return Dae(t).concat(Mae(t))}var Lae=Object.hasOwn||function(t,e){return $ae.call(t,e)};function xa(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Vae="__v",Fae="__o",Bae="_owner",JP=Object.getOwnPropertyDescriptor,ZP=Object.keys;function Uae(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function zae(t,e){return xa(t.getTime(),e.getTime())}function Wae(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Hae(t,e){return t===e}function eI(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),o=t.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var u=e.entries(),c=!1,d=0;(s=u.next())&&!s.done;){if(i[d]){d++;continue}var h=a.value,p=s.value;if(r.equals(h[0],p[0],l,d,t,e,r)&&r.equals(h[1],p[1],h[0],p[0],t,e,r)){c=i[d]=!0;break}d++}if(!c)return!1;l++}return!0}var qae=xa;function Gae(t,e,r){var n=ZP(t),i=n.length;if(ZP(e).length!==i)return!1;for(;i-- >0;)if(!LD(t,e,r,n[i]))return!1;return!0}function tu(t,e,r){var n=QP(t),i=n.length;if(QP(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=n[i],!LD(t,e,r,o)||(a=JP(t,o),s=JP(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function Kae(t,e){return xa(t.valueOf(),e.valueOf())}function Xae(t,e){return t.source===e.source&&t.flags===e.flags}function tI(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&r.equals(a.value,s.value,a.value,s.value,t,e,r)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function Yae(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Qae(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function LD(t,e,r,n){return(n===Bae||n===Fae||n===Vae)&&(t.$$typeof||e.$$typeof)?!0:Lae(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Jae="[object Arguments]",Zae="[object Boolean]",ese="[object Date]",tse="[object Error]",rse="[object Map]",nse="[object Number]",ise="[object Object]",ose="[object RegExp]",ase="[object Set]",sse="[object String]",lse="[object URL]",use=Array.isArray,rI=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,nI=Object.assign,cse=Object.prototype.toString.call.bind(Object.prototype.toString);function fse(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,d=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(g,y,x){if(g===y)return!0;if(g==null||y==null)return!1;var _=typeof g;if(_!==typeof y)return!1;if(_!=="object")return _==="number"?a(g,y,x):_==="function"?i(g,y,x):!1;var b=g.constructor;if(b!==y.constructor)return!1;if(b===Object)return s(g,y,x);if(use(g))return e(g,y,x);if(rI!=null&&rI(g))return d(g,y,x);if(b===Date)return r(g,y,x);if(b===RegExp)return u(g,y,x);if(b===Map)return o(g,y,x);if(b===Set)return c(g,y,x);var w=cse(g);return w===ese?r(g,y,x):w===ose?u(g,y,x):w===rse?o(g,y,x):w===ase?c(g,y,x):w===ise?typeof g.then!="function"&&typeof y.then!="function"&&s(g,y,x):w===lse?h(g,y,x):w===tse?n(g,y,x):w===Jae?s(g,y,x):w===Zae||w===nse||w===sse?l(g,y,x):!1}}function dse(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?tu:Uae,areDatesEqual:zae,areErrorsEqual:Wae,areFunctionsEqual:Hae,areMapsEqual:n?YP(eI,tu):eI,areNumbersEqual:qae,areObjectsEqual:n?tu:Gae,arePrimitiveWrappersEqual:Kae,areRegExpsEqual:Xae,areSetsEqual:n?YP(tI,tu):tI,areTypedArraysEqual:n?tu:Yae,areUrlsEqual:Qae};if(r&&(i=nI({},i,r(i))),e){var o=gd(i.areArraysEqual),a=gd(i.areMapsEqual),s=gd(i.areObjectsEqual),l=gd(i.areSetsEqual);i=nI({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function hse(t){return function(e,r,n,i,o,a,s){return t(e,r,s)}}function pse(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,o=t.strict;if(n)return function(l,u){var c=n(),d=c.cache,h=d===void 0?e?new WeakMap:void 0:d,p=c.meta;return r(l,u,{cache:h,equals:i,meta:p,strict:o})};if(e)return function(l,u){return r(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return r(l,u,a)}}var mse=Eo();Eo({strict:!0});Eo({circular:!0});Eo({circular:!0,strict:!0});Eo({createInternalComparator:function(){return xa}});Eo({strict:!0,createInternalComparator:function(){return xa}});Eo({circular:!0,createInternalComparator:function(){return xa}});Eo({circular:!0,createInternalComparator:function(){return xa},strict:!0});function Eo(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=dse(t),l=fse(s),u=n?n(l):hse(l);return pse({circular:r,comparator:l,createState:i,equals:u,strict:a})}function gse(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function iI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>e?(t(o),r=-1):gse(i)};requestAnimationFrame(n)}function Q0(t){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q0(t)}function yse(t){return wse(t)||_se(t)||bse(t)||vse()}function vse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bse(t,e){if(t){if(typeof t=="string")return oI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oI(t,e)}}function oI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _se(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wse(t){if(Array.isArray(t))return t}function xse(){var t={},e=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var a=o,s=yse(a),l=s[0],u=s.slice(1);if(typeof l=="number"){iI(i.bind(null,u),l);return}i(l),iI(i.bind(null,u));return}Q0(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Nc(t){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(t)}function aI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aI(Object(r),!0).forEach(function(n){VD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VD(t,e,r){return e=Ese(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ese(t){var e=Sse(t,"string");return Nc(e)==="symbol"?e:String(e)}function Sse(t,e){if(Nc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tse=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},Ase=function(e){return e},Pse=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Nu=function(e,r){return Object.keys(r).reduce(function(n,i){return sI(sI({},n),{},VD({},i,e(i,r[i])))},{})},lI=function(e,r,n){return e.map(function(i){return"".concat(Pse(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Ise(t,e){return kse(t)||Cse(t,e)||FD(t,e)||Ose()}function Ose(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function kse(t){if(Array.isArray(t))return t}function Nse(t){return Dse(t)||Rse(t)||FD(t)||jse()}function jse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FD(t,e){if(t){if(typeof t=="string")return J0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J0(t,e)}}function Rse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dse(t){if(Array.isArray(t))return J0(t)}function J0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var fp=1e-4,BD=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},UD=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},uI=function(e,r){return function(n){var i=BD(e,r);return UD(i,n)}},Mse=function(e,r){return function(n){var i=BD(e,r),o=[].concat(Nse(i.map(function(a,s){return a*s}).slice(1)),[0]);return UD(o,n)}},cI=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],o=r[1],a=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),c=Ise(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var d=uI(i,a),h=uI(o,s),p=Mse(i,a),g=function(_){return _>1?1:_<0?0:_},y=function(_){for(var b=_>1?1:_,w=b,O=0;O<8;++O){var T=d(w)-b,P=p(w);if(Math.abs(T-b)<fp||P<fp)return h(w);w=g(w-T/P)}return h(w)};return y.isStepper=!1,y},$se=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,d,h){var p=-(c-d)*n,g=h*o,y=h+(p-g)*s/1e3,x=h*s/1e3+c;return Math.abs(x-d)<fp&&Math.abs(y)<fp?[d,0]:[x,y]};return l.isStepper=!0,l.dt=s,l},Lse=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return cI(i);case"spring":return $se();default:if(i.split("(")[0]==="cubic-bezier")return cI(i)}return typeof i=="function"?i:null};function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function fI(t){return Bse(t)||Fse(t)||zD(t)||Vse()}function Vse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bse(t){if(Array.isArray(t))return eb(t)}function dI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ct(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(r),!0).forEach(function(n){Z0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Z0(t,e,r){return e=Use(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Use(t){var e=zse(t,"string");return jc(e)==="symbol"?e:String(e)}function zse(t,e){if(jc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wse(t,e){return Gse(t)||qse(t,e)||zD(t,e)||Hse()}function Hse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zD(t,e){if(t){if(typeof t=="string")return eb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eb(t,e)}}function eb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Gse(t){if(Array.isArray(t))return t}var dp=function(e,r,n){return e+(r-e)*n},tb=function(e){var r=e.from,n=e.to;return r!==n},Kse=function t(e,r,n){var i=Nu(function(o,a){if(tb(a)){var s=e(a.from,a.to,a.velocity),l=Wse(s,2),u=l[0],c=l[1];return Ct(Ct({},a),{},{from:u,velocity:c})}return a},r);return n<1?Nu(function(o,a){return tb(a)?Ct(Ct({},a),{},{velocity:dp(a.velocity,i[o].velocity,n),from:dp(a.from,i[o].from,n)}):a},r):t(e,i,n-1)};const Xse=function(t,e,r,n,i){var o=Tse(t,e),a=o.reduce(function(x,_){return Ct(Ct({},x),{},Z0({},_,[t[_],e[_]]))},{}),s=o.reduce(function(x,_){return Ct(Ct({},x),{},Z0({},_,{from:t[_],velocity:0,to:e[_]}))},{}),l=-1,u,c,d=function(){return null},h=function(){return Nu(function(_,b){return b.from},s)},p=function(){return!Object.values(s).filter(tb).length},g=function(_){u||(u=_);var b=_-u,w=b/r.dt;s=Kse(r,s,w),i(Ct(Ct(Ct({},t),e),h())),u=_,p()||(l=requestAnimationFrame(d))},y=function(_){c||(c=_);var b=(_-c)/n,w=Nu(function(T,P){return dp.apply(void 0,fI(P).concat([r(b)]))},a);if(i(Ct(Ct(Ct({},t),e),w)),b<1)l=requestAnimationFrame(d);else{var O=Nu(function(T,P){return dp.apply(void 0,fI(P).concat([r(1)]))},a);i(Ct(Ct(Ct({},t),e),O))}};return d=r.isStepper?g:y,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Bs(t){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bs(t)}var Yse=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Qse(t,e){if(t==null)return{};var r=Jse(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Jse(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Iy(t){return rle(t)||tle(t)||ele(t)||Zse()}function Zse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ele(t,e){if(t){if(typeof t=="string")return rb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rb(t,e)}}function tle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rle(t){if(Array.isArray(t))return rb(t)}function rb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hI(Object(r),!0).forEach(function(n){hu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hu(t,e,r){return e=WD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ile(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WD(n.key),n)}}function ole(t,e,r){return e&&ile(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function WD(t){var e=ale(t,"string");return Bs(e)==="symbol"?e:String(e)}function ale(t,e){if(Bs(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bs(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nb(t,e)}function nb(t,e){return nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nb(t,e)}function lle(t){var e=ule();return function(){var n=hp(t),i;if(e){var o=hp(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return ib(this,i)}}function ib(t,e){if(e&&(Bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ob(t)}function ob(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ule(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hp(t){return hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hp(t)}var fi=function(t){sle(r,t);var e=lle(r);function r(n,i){var o;nle(this,r),o=e.call(this,n,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,d=a.steps,h=a.children,p=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(ob(o)),o.changeStyle=o.changeStyle.bind(ob(o)),!s||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),ib(o);if(d&&d.length)o.state={style:d[0].style};else if(u){if(typeof h=="function")return o.state={style:u},ib(o);o.state={style:l?hu({},l,u):u}}else o.state={style:{}};return o}return ole(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,d=o.from,h=this.state.style;if(s){if(!a){var p={style:l?hu({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(p);return}if(!(mse(i.to,c)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=g||u?d:i.to;if(this.state&&h){var x={style:l?hu({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(x)}this.runAnimation(Yr(Yr({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,p=Xse(a,s,Lse(u),l,this.changeStyle),g=function(){o.stopJSAnimation=p()};this.manager.start([h,c,g,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,d=u.duration,h=d===void 0?0:d,p=function(y,x,_){if(_===0)return y;var b=x.duration,w=x.easing,O=w===void 0?"ease":w,T=x.style,P=x.properties,E=x.onAnimationEnd,S=_>0?a[_-1]:x,I=P||Object.keys(T);if(typeof O=="function"||O==="spring")return[].concat(Iy(y),[o.runJSAnimation.bind(o,{from:S.style,to:T,duration:b,easing:O}),b]);var N=lI(I,b,O),C=Yr(Yr(Yr({},S.style),T),{},{transition:N});return[].concat(Iy(y),[C,b,E]).filter(Ase)};return this.manager.start([l].concat(Iy(a.reduce(p,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=xse());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=s?hu({},s,l):l,x=lI(Object.keys(y),a,u);g.start([c,o,Yr(Yr({},y),{},{transition:x}),a,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Qse(i,Yse),u=U.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var d=function(p){var g=p.props,y=g.style,x=y===void 0?{}:y,_=g.className,b=U.cloneElement(p,Yr(Yr({},l),{},{style:Yr(Yr({},x),c),className:_}));return b};return u===1?d(U.Children.only(o)):L.createElement("div",null,U.Children.map(o,function(h){return d(h)}))}}]),r}(U.PureComponent);fi.displayName="Animate";fi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};fi.propTypes={from:ke.oneOfType([ke.object,ke.string]),to:ke.oneOfType([ke.object,ke.string]),attributeName:ke.string,duration:ke.number,begin:ke.number,easing:ke.oneOfType([ke.string,ke.func]),steps:ke.arrayOf(ke.shape({duration:ke.number.isRequired,style:ke.object.isRequired,easing:ke.oneOfType([ke.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ke.func]),properties:ke.arrayOf("string"),onAnimationEnd:ke.func})),children:ke.oneOfType([ke.node,ke.func]),isActive:ke.bool,canBegin:ke.bool,onAnimationEnd:ke.func,shouldReAnimate:ke.bool,onAnimationStart:ke.func,onAnimationReStart:ke.func};function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function pp(){return pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pp.apply(this,arguments)}function cle(t,e){return ple(t)||hle(t,e)||dle(t,e)||fle()}function fle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dle(t,e){if(t){if(typeof t=="string")return pI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pI(t,e)}}function pI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hle(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ple(t){if(Array.isArray(t))return t}function mI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mI(Object(r),!0).forEach(function(n){mle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mle(t,e,r){return e=gle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gle(t){var e=yle(t,"string");return Rc(e)=="symbol"?e:e+""}function yle(t,e){if(Rc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yI=function(e,r,n,i,o){var a=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,c;if(a>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=o[h]>a?a:o[h];c="M".concat(e,",").concat(r+s*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(r)),c+="L ".concat(e+n-l*d[1],",").concat(r),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+s*d[1])),c+="L ".concat(e+n,",").concat(r+i-s*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+n-l*d[2],",").concat(r+i)),c+="L ".concat(e+l*d[3],",").concat(r+i),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-s*d[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var g=Math.min(a,o);c="M ".concat(e,",").concat(r+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(r,`
            L `).concat(e+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n,",").concat(r+s*g,`
            L `).concat(e+n,",").concat(r+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n-l*g,",").concat(r+i,`
            L `).concat(e+l*g,",").concat(r+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(r+i-s*g," Z")}else c="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return c},vle=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,o=r.x,a=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),d=Math.min(a,a+l),h=Math.max(a,a+l);return n>=u&&n<=c&&i>=d&&i<=h}return!1},ble={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_x=function(e){var r=gI(gI({},ble),e),n=U.useRef(),i=U.useState(-1),o=cle(i,2),a=o[0],s=o[1];U.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&s(O)}catch{}},[]);var l=r.x,u=r.y,c=r.width,d=r.height,h=r.radius,p=r.className,g=r.animationEasing,y=r.animationDuration,x=r.animationBegin,_=r.isAnimationActive,b=r.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var w=Oe("recharts-rectangle",p);return b?L.createElement(fi,{canBegin:a>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:y,animationEasing:g,isActive:b},function(O){var T=O.width,P=O.height,E=O.x,S=O.y;return L.createElement(fi,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:y,isActive:_,easing:g},L.createElement("path",pp({},Te(r,!0),{className:w,d:yI(E,S,T,P,h),ref:n})))}):L.createElement("path",pp({},Te(r,!0),{className:w,d:yI(l,u,c,d,h)}))};function ab(){return ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ab.apply(this,arguments)}var wx=function(e){var r=e.cx,n=e.cy,i=e.r,o=e.className,a=Oe("recharts-dot",o);return r===+r&&n===+n&&i===+i?L.createElement("circle",ab({},Te(e,!1),jh(e),{className:a,cx:r,cy:n,r:i})):null};function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}var _le=["x","y","top","left","width","height","className"];function sb(){return sb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sb.apply(this,arguments)}function vI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wle(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(r),!0).forEach(function(n){xle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xle(t,e,r){return e=Ele(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ele(t){var e=Sle(t,"string");return Dc(e)=="symbol"?e:e+""}function Sle(t,e){if(Dc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tle(t,e){if(t==null)return{};var r=Ale(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ale(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ple=function(e,r,n,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(r,"h").concat(n)},Ile=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,d=c===void 0?0:c,h=e.height,p=h===void 0?0:h,g=e.className,y=Tle(e,_le),x=wle({x:n,y:o,top:s,left:u,width:d,height:p},y);return!te(n)||!te(o)||!te(d)||!te(p)||!te(s)||!te(u)?null:L.createElement("path",sb({},Te(x,!0),{className:Oe("recharts-cross",g),d:Ple(n,o,d,p,s,u)}))},Ole=iR,Cle=Ole(Object.getPrototypeOf,Object),kle=Cle,Nle=gi,jle=kle,Rle=yi,Dle="[object Object]",Mle=Function.prototype,$le=Object.prototype,HD=Mle.toString,Lle=$le.hasOwnProperty,Vle=HD.call(Object);function Fle(t){if(!Rle(t)||Nle(t)!=Dle)return!1;var e=jle(t);if(e===null)return!0;var r=Lle.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&HD.call(r)==Vle}var Ble=Fle;const Ule=Le(Ble);var zle=gi,Wle=yi,Hle="[object Boolean]";function qle(t){return t===!0||t===!1||Wle(t)&&zle(t)==Hle}var Gle=qle;const Kle=Le(Gle);function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function mp(){return mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mp.apply(this,arguments)}function Xle(t,e){return Zle(t)||Jle(t,e)||Qle(t,e)||Yle()}function Yle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qle(t,e){if(t){if(typeof t=="string")return bI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bI(t,e)}}function bI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Jle(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Zle(t){if(Array.isArray(t))return t}function _I(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(r),!0).forEach(function(n){eue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_I(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eue(t,e,r){return e=tue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tue(t){var e=rue(t,"string");return Mc(e)=="symbol"?e:e+""}function rue(t,e){if(Mc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xI=function(e,r,n,i,o){var a=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-a/2,",").concat(r+o),s+="L ".concat(e+n-a/2-i,",").concat(r+o),s+="L ".concat(e,",").concat(r," Z"),s},nue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iue=function(e){var r=wI(wI({},nue),e),n=U.useRef(),i=U.useState(-1),o=Xle(i,2),a=o[0],s=o[1];U.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&s(w)}catch{}},[]);var l=r.x,u=r.y,c=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,y=r.animationDuration,x=r.animationBegin,_=r.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||h!==+h||c===0&&d===0||h===0)return null;var b=Oe("recharts-trapezoid",p);return _?L.createElement(fi,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:h,x:l,y:u},duration:y,animationEasing:g,isActive:_},function(w){var O=w.upperWidth,T=w.lowerWidth,P=w.height,E=w.x,S=w.y;return L.createElement(fi,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:y,easing:g},L.createElement("path",mp({},Te(r,!0),{className:b,d:xI(E,S,O,T,P),ref:n})))}):L.createElement("g",null,L.createElement("path",mp({},Te(r,!0),{className:b,d:xI(l,u,c,d,h)})))},oue=["option","shapeType","propTransformer","activeClassName","isActive"];function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}function aue(t,e){if(t==null)return{};var r=sue(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function EI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(r),!0).forEach(function(n){lue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lue(t,e,r){return e=uue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uue(t){var e=cue(t,"string");return $c(e)=="symbol"?e:e+""}function cue(t,e){if($c(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fue(t,e){return gp(gp({},e),t)}function due(t,e){return t==="symbols"}function SI(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return L.createElement(_x,r);case"trapezoid":return L.createElement(iue,r);case"sector":return L.createElement(RD,r);case"symbols":if(due(e))return L.createElement(Vw,r);break;default:return null}}function hue(t){return U.isValidElement(t)?t.props:t}function pue(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?fue:n,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=aue(t,oue),u;if(U.isValidElement(e))u=U.cloneElement(e,gp(gp({},l),hue(e)));else if(ge(e))u=e(l);else if(Ule(e)&&!Kle(e)){var c=i(e,l);u=L.createElement(SI,{shapeType:r,elementProps:c})}else{var d=l;u=L.createElement(SI,{shapeType:r,elementProps:d})}return s?L.createElement(ut,{className:a},u):u}function eg(t,e){return e!=null&&"trapezoids"in t.props}function tg(t,e){return e!=null&&"sectors"in t.props}function Lc(t,e){return e!=null&&"points"in t.props}function mue(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,o=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&o}function gue(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function yue(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function vue(t,e){var r;return eg(t,e)?r=mue:tg(t,e)?r=gue:Lc(t,e)&&(r=yue),r}function bue(t,e){var r;return eg(t,e)?r="trapezoids":tg(t,e)?r="sectors":Lc(t,e)&&(r="points"),r}function _ue(t,e){if(eg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(tg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Lc(t,e)?e.payload:{}}function wue(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=bue(r,e),o=_ue(r,e),a=n.filter(function(l,u){var c=Qm(o,l),d=r.props[i].filter(function(g){var y=vue(r,e);return y(g,e)}),h=r.props[i].indexOf(d[d.length-1]),p=u===h;return c&&p}),s=n.indexOf(a[a.length-1]);return s}var xue=Math.ceil,Eue=Math.max;function Sue(t,e,r,n){for(var i=-1,o=Eue(xue((e-t)/(r||1)),0),a=Array(o);o--;)a[n?o:++i]=t,t+=r;return a}var Tue=Sue,Aue=ER,TI=1/0,Pue=17976931348623157e292;function Iue(t){if(!t)return t===0?t:0;if(t=Aue(t),t===TI||t===-TI){var e=t<0?-1:1;return e*Pue}return t===t?t:0}var qD=Iue,Oue=Tue,Cue=Um,Oy=qD;function kue(t){return function(e,r,n){return n&&typeof n!="number"&&Cue(e,r,n)&&(r=n=void 0),e=Oy(e),r===void 0?(r=e,e=0):r=Oy(r),n=n===void 0?e<r?1:-1:Oy(n),Oue(e,r,n,t)}}var Nue=kue,jue=Nue,Rue=jue(),Due=Rue;const yp=Le(Due);function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function AI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(r),!0).forEach(function(n){GD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GD(t,e,r){return e=Mue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mue(t){var e=$ue(t,"string");return Vc(e)=="symbol"?e:e+""}function $ue(t,e){if(Vc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lue=["Webkit","Moz","O","ms"],Vue=function(e,r){var n=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Lue.reduce(function(o,a){return PI(PI({},o),{},GD({},a+n,r))},{});return i[e]=r,i};function Us(t){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(t)}function vp(){return vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vp.apply(this,arguments)}function II(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?II(Object(r),!0).forEach(function(n){wr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):II(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XD(n.key),n)}}function Bue(t,e,r){return e&&OI(t.prototype,e),r&&OI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uue(t,e,r){return e=bp(e),zue(t,KD()?Reflect.construct(e,r||[],bp(t).constructor):e.apply(t,r))}function zue(t,e){if(e&&(Us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wue(t)}function Wue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KD=function(){return!!t})()}function bp(t){return bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bp(t)}function Hue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lb(t,e)}function lb(t,e){return lb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lb(t,e)}function wr(t,e,r){return e=XD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XD(t){var e=que(t,"string");return Us(e)=="symbol"?e:e+""}function que(t,e){if(Us(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gue=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=Cu().domain(yp(0,l)).range([o,o+a-s]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:c}},CI=function(e){return e.changedTouches&&!!e.changedTouches.length},zs=function(t){function e(r){var n;return Fue(this,e),n=Uue(this,e,[r]),wr(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),wr(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),wr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),wr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),wr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),wr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),wr(n,"handleSlideDragStart",function(i){var o=CI(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Hue(e,t),Bue(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,o=n.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,d=Math.min(i,o),h=Math.max(i,o),p=e.getIndexInRange(a,d),g=e.getIndexInRange(a,h);return{startIndex:p-p%l,endIndex:g===c?c:g-g%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Or(o[n],s,n);return ge(a)?a(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,y=n.pageX-o;y>0?y=Math.min(y,u+c-d-s,u+c-d-a):y<0&&(y=Math.max(y,u-a,u-s));var x=this.getIndex({startX:a+y,endX:s+y});(x.startIndex!==h||x.endIndex!==p)&&g&&g(x),this.setState({startX:a+y,endX:s+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var o=CI(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,d=c.x,h=c.width,p=c.travellerWidth,g=c.onChange,y=c.gap,x=c.data,_={startX:this.state.startX,endX:this.state.endX},b=n.pageX-o;b>0?b=Math.min(b,d+h-p-u):b<0&&(b=Math.max(b,d-u)),_[a]=u+b;var w=this.getIndex(_),O=w.startIndex,T=w.endIndex,P=function(){var S=x.length-1;return a==="startX"&&(s>l?O%y===0:T%y===0)||s<l&&T===S||a==="endX"&&(s>l?T%y===0:O%y===0)||s>l&&T===S};this.setState(wr(wr({},a,u+b),"brushMoveStartX",n.pageX),function(){g&&P()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],d=s.indexOf(c);if(d!==-1){var h=d+n;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(wr({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,o=n.y,a=n.width,s=n.height,l=n.fill,u=n.stroke;return L.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,o=n.y,a=n.width,s=n.height,l=n.data,u=n.children,c=n.padding,d=U.Children.only(u);return d?L.cloneElement(d,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,y=l.startIndex,x=l.endIndex,_=Math.max(n,this.props.x),b=Cy(Cy({},Te(this.props,!1)),{},{x:_,y:u,width:c,height:d}),w=p||"Min value: ".concat((o=g[y])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=g[x])===null||a===void 0?void 0:a.name);return L.createElement(ut,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),s.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(n,i)+u,d=Math.max(Math.abs(i-n)-u,0);return L.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:d,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,o=n.endIndex,a=n.y,s=n.height,l=n.travellerWidth,u=n.stroke,c=this.state,d=c.startX,h=c.endX,p=5,g={pointerEvents:"none",fill:u};return L.createElement(ut,{className:"recharts-brush-texts"},L.createElement(Kh,vp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:a+s/2},g),this.getTextOfTick(i)),L.createElement(Kh,vp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:a+s/2},g),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,i=n.data,o=n.className,a=n.children,s=n.x,l=n.y,u=n.width,c=n.height,d=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,y=h.isTextActive,x=h.isSlideMoving,_=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!te(s)||!te(l)||!te(u)||!te(c)||u<=0||c<=0)return null;var w=Oe("recharts-brush",o),O=L.Children.count(a)===1,T=Vue("userSelect","none");return L.createElement(ut,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(y||x||_||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,o=n.y,a=n.width,s=n.height,l=n.stroke,u=Math.floor(o+s/2)-1;return L.createElement(L.Fragment,null,L.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),L.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),L.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var o;return L.isValidElement(n)?o=L.cloneElement(n,i):ge(n)?o=n(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(n,i){var o=n.data,a=n.width,s=n.x,l=n.travellerWidth,u=n.updateId,c=n.startIndex,d=n.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Cy({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?Gue({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var o=n.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);n[l]>i?s=l:a=l}return i>=n[s]?s:a}}])}(U.PureComponent);wr(zs,"displayName","Brush");wr(zs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Kue=qw;function Xue(t,e){var r;return Kue(t,function(n,i,o){return r=e(n,i,o),!r}),!!r}var Yue=Xue,Que=Yj,Jue=_o,Zue=Yue,ece=vr,tce=Um;function rce(t,e,r){var n=ece(t)?Que:Zue;return r&&tce(t,e,r)&&(e=void 0),n(t,Jue(e))}var nce=rce;const ice=Le(nce);var On=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},kI=vR;function oce(t,e,r){e=="__proto__"&&kI?kI(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var ace=oce,sce=ace,lce=gR,uce=_o;function cce(t,e){var r={};return e=uce(e),lce(t,function(n,i,o){sce(r,i,e(n,i,o))}),r}var fce=cce;const dce=Le(fce);function hce(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var pce=hce,mce=qw;function gce(t,e){var r=!0;return mce(t,function(n,i,o){return r=!!e(n,i,o),r}),r}var yce=gce,vce=pce,bce=yce,_ce=_o,wce=vr,xce=Um;function Ece(t,e,r){var n=wce(t)?vce:bce;return r&&xce(t,e,r)&&(e=void 0),n(t,_ce(e))}var Sce=Ece;const YD=Le(Sce);var Tce=["x","y"];function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function ub(){return ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ub.apply(this,arguments)}function NI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ru(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(r),!0).forEach(function(n){Ace(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ace(t,e,r){return e=Pce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pce(t){var e=Ice(t,"string");return Fc(e)=="symbol"?e:e+""}function Ice(t,e){if(Fc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oce(t,e){if(t==null)return{};var r=Cce(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function kce(t,e){var r=t.x,n=t.y,i=Oce(t,Tce),o="".concat(r),a=parseInt(o,10),s="".concat(n),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),d="".concat(e.width||i.width),h=parseInt(d,10);return ru(ru(ru(ru(ru({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function jI(t){return L.createElement(pue,ub({shapeType:"rectangle",propTransformer:kce,activeClassName:"recharts-active-bar"},t))}var Nce=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var o=typeof n=="number";return o?e(n,i):(o||fa(),r)}},jce=["value","background"],QD;function Ws(t){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}function Rce(t,e){if(t==null)return{};var r=Dce(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Dce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _p(){return _p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_p.apply(this,arguments)}function RI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(r),!0).forEach(function(n){Li(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZD(n.key),n)}}function $ce(t,e,r){return e&&DI(t.prototype,e),r&&DI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lce(t,e,r){return e=wp(e),Vce(t,JD()?Reflect.construct(e,r||[],wp(t).constructor):e.apply(t,r))}function Vce(t,e){if(e&&(Ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fce(t)}function Fce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JD=function(){return!!t})()}function wp(t){return wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wp(t)}function Bce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cb(t,e)}function cb(t,e){return cb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cb(t,e)}function Li(t,e,r){return e=ZD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZD(t){var e=Uce(t,"string");return Ws(e)=="symbol"?e:e+""}function Uce(t,e){if(Ws(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ea=function(t){function e(){var r;Mce(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Lce(this,e,[].concat(i)),Li(r,"state",{isAnimationFinished:!1}),Li(r,"id",ff("recharts-bar-")),Li(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),a&&a()}),Li(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),a&&a()}),r}return Bce(e,t),$ce(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=Te(this.props,!1);return n&&n.map(function(d,h){var p=h===l,g=p?u:a,y=dt(dt(dt({},c),d),{},{isActive:p,option:g,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return L.createElement(ut,_p({className:"recharts-bar-rectangle"},Rh(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),L.createElement(jI,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,d=i.animationId,h=this.state.prevData;return L.createElement(fi,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,y=o.map(function(x,_){var b=h&&h[_];if(b){var w=rn(b.x,x.x),O=rn(b.y,x.y),T=rn(b.width,x.width),P=rn(b.height,x.height);return dt(dt({},x),{},{x:w(g),y:O(g),width:T(g),height:P(g)})}if(a==="horizontal"){var E=rn(0,x.height),S=E(g);return dt(dt({},x),{},{y:x.y+x.height-S,height:S})}var I=rn(0,x.width),N=I(g);return dt(dt({},x),{},{width:N})});return L.createElement(ut,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,o=n.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Qm(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=Te(this.props.background,!1);return o.map(function(u,c){u.value;var d=u.background,h=Rce(u,jce);if(!d)return null;var p=dt(dt(dt(dt(dt({},h),{},{fill:"#eee"},d),l),Rh(n.props,u,c)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return L.createElement(jI,_p({key:"background-bar-".concat(c),option:n.props.background,isActive:c===s},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=Ur(c,yf);if(!d)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,p=function(x,_){var b=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:b,errorVal:Or(x,_)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return L.createElement(ut,g,d.map(function(y){return L.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.data,a=n.className,s=n.xAxis,l=n.yAxis,u=n.left,c=n.top,d=n.width,h=n.height,p=n.isAnimationActive,g=n.background,y=n.id;if(i||!o||!o.length)return null;var x=this.state.isAnimationFinished,_=Oe("recharts-bar",a),b=s&&s.allowDataOverflow,w=l&&l.allowDataOverflow,O=b||w,T=Ee(y)?this.id:y;return L.createElement(ut,{className:_},b||w?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(T)},L.createElement("rect",{x:b?u:u-d/2,y:w?c:c-h/2,width:b?d:d*2,height:w?h:h*2}))):null,L.createElement(ut,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(T,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,T),(!p||x)&&Zi.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(U.PureComponent);QD=Ea;Li(Ea,"displayName","Bar");Li(Ea,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!_l.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Li(Ea,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,p=voe(n,r);if(!p)return null;var g=e.layout,y=r.type.defaultProps,x=y!==void 0?dt(dt({},y),r.props):r.props,_=x.dataKey,b=x.children,w=x.minPointSize,O=g==="horizontal"?a:o,T=u?O.scale.domain():null,P=Aoe({numericAxis:O}),E=Ur(b,TR),S=d.map(function(I,N){var C,j,k,W,H,$;u?C=boe(u[c+N],T):(C=Or(I,_),Array.isArray(C)||(C=[P,C]));var F=Nce(w,QD.defaultProps.minPointSize)(C[1],N);if(g==="horizontal"){var M,V=[a.scale(C[0]),a.scale(C[1])],K=V[0],D=V[1];j=RP({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:I,index:N}),k=(M=D??K)!==null&&M!==void 0?M:void 0,W=p.size;var z=K-D;if(H=Number.isNaN(z)?0:z,$={x:j,y:a.y,width:W,height:a.height},Math.abs(F)>0&&Math.abs(H)<Math.abs(F)){var Q=an(H||F)*(Math.abs(F)-Math.abs(H));k-=Q,H+=Q}}else{var se=[o.scale(C[0]),o.scale(C[1])],ve=se[0],Se=se[1];if(j=ve,k=RP({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:I,index:N}),W=Se-ve,H=p.size,$={x:o.x,y:k,width:o.width,height:H},Math.abs(F)>0&&Math.abs(W)<Math.abs(F)){var Ke=an(W||F)*(Math.abs(F)-Math.abs(W));W+=Ke}}return dt(dt(dt({},I),{},{x:j,y:k,width:W,height:H,value:u?C:C[1],payload:I,background:$},E&&E[N]&&E[N].props),{},{tooltipPayload:[kD(r,I)],tooltipPosition:{x:j+W/2,y:k+H/2}})});return dt({data:S,layout:g},h)});function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function zce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eM(n.key),n)}}function Wce(t,e,r){return e&&MI(t.prototype,e),r&&MI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $I(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$I(Object(r),!0).forEach(function(n){rg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$I(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rg(t,e,r){return e=eM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eM(t){var e=Hce(t,"string");return Bc(e)=="symbol"?e:e+""}function Hce(t,e){if(Bc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tM=function(e,r,n,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(r),d={left:n.left,leftMirror:n.left,right:a-n.right,rightMirror:a-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!Er(u,Ea);return c.reduce(function(p,g){var y=r[g],x=y.orientation,_=y.domain,b=y.padding,w=b===void 0?{}:b,O=y.mirror,T=y.reversed,P="".concat(x).concat(O?"Mirror":""),E,S,I,N,C;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var j=_[1]-_[0],k=1/0,W=y.categoricalDomain.sort(J7);if(W.forEach(function(se,ve){ve>0&&(k=Math.min((se||0)-(W[ve-1]||0),k))}),Number.isFinite(k)){var H=k/j,$=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(E=H*$/2),y.padding==="no-gap"){var F=ua(e.barCategoryGap,H*$),M=H*$/2;E=M-F-(M-F)/$*F}}}i==="xAxis"?S=[n.left+(w.left||0)+(E||0),n.left+n.width-(w.right||0)-(E||0)]:i==="yAxis"?S=l==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(E||0),n.top+n.height-(w.bottom||0)-(E||0)]:S=y.range,T&&(S=[S[1],S[0]]);var V=goe(y,o,h),K=V.scale,D=V.realScaleType;K.domain(_).range(S),yoe(K);var z=Toe(K,Zr(Zr({},y),{},{realScaleType:D}));i==="xAxis"?(C=x==="top"&&!O||x==="bottom"&&O,I=n.left,N=d[P]-C*y.height):i==="yAxis"&&(C=x==="left"&&!O||x==="right"&&O,I=d[P]-C*y.width,N=n.top);var Q=Zr(Zr(Zr({},y),z),{},{realScaleType:D,x:I,y:N,scale:K,width:i==="xAxis"?n.width:y.width,height:i==="yAxis"?n.height:y.height});return Q.bandSize=lp(Q,z),!y.hide&&i==="xAxis"?d[P]+=(C?-1:1)*Q.height:y.hide||(d[P]+=(C?-1:1)*Q.width),Zr(Zr({},p),{},rg({},g,Q))},{})},rM=function(e,r){var n=e.x,i=e.y,o=r.x,a=r.y;return{x:Math.min(n,o),y:Math.min(i,a),width:Math.abs(o-n),height:Math.abs(a-i)}},qce=function(e){var r=e.x1,n=e.y1,i=e.x2,o=e.y2;return rM({x:r,y:n},{x:i,y:o})},nM=function(){function t(e){zce(this,t),this.scale=e}return Wce(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?r>=i&&r<=o:r>=o&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();rg(nM,"EPS",1e-4);var xx=function(e){var r=Object.keys(e).reduce(function(n,i){return Zr(Zr({},n),{},rg({},i,nM.create(e[i])))},{});return Zr(Zr({},r),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return dce(i,function(l,u){return r[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return YD(i,function(o,a){return r[a].isInRange(o)})}})};function Gce(t){return(t%180+180)%180}var Kce=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Gce(i),a=o*Math.PI/180,s=Math.atan(n/r),l=a>s&&a<Math.PI-s?n/Math.sin(a):r/Math.cos(a);return Math.abs(l)},Xce=_o,Yce=df,Qce=Fm;function Jce(t){return function(e,r,n){var i=Object(e);if(!Yce(e)){var o=Xce(r);e=Qce(e),r=function(s){return o(i[s],s,i)}}var a=t(e,r,n);return a>-1?i[o?e[a]:a]:void 0}}var Zce=Jce,efe=qD;function tfe(t){var e=efe(t),r=e%1;return e===e?r?e-r:e:0}var rfe=tfe,nfe=cR,ife=_o,ofe=rfe,afe=Math.max;function sfe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:ofe(r);return i<0&&(i=afe(n+i,0)),nfe(t,ife(e),i)}var lfe=sfe,ufe=Zce,cfe=lfe,ffe=ufe(cfe),dfe=ffe;const hfe=Le(dfe);var pfe=r7(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Ex=U.createContext(void 0),Sx=U.createContext(void 0),iM=U.createContext(void 0),oM=U.createContext({}),aM=U.createContext(void 0),sM=U.createContext(0),lM=U.createContext(0),LI=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,o=r.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=pfe(o);return L.createElement(Ex.Provider,{value:n},L.createElement(Sx.Provider,{value:i},L.createElement(oM.Provider,{value:o},L.createElement(iM.Provider,{value:c},L.createElement(aM.Provider,{value:a},L.createElement(sM.Provider,{value:u},L.createElement(lM.Provider,{value:l},s)))))))},mfe=function(){return U.useContext(aM)},uM=function(e){var r=U.useContext(Ex);r==null&&fa();var n=r[e];return n==null&&fa(),n},gfe=function(){var e=U.useContext(Ex);return Ri(e)},yfe=function(){var e=U.useContext(Sx),r=hfe(e,function(n){return YD(n.domain,Number.isFinite)});return r||Ri(e)},cM=function(e){var r=U.useContext(Sx);r==null&&fa();var n=r[e];return n==null&&fa(),n},vfe=function(){var e=U.useContext(iM);return e},bfe=function(){return U.useContext(oM)},Tx=function(){return U.useContext(lM)},Ax=function(){return U.useContext(sM)};function Hs(t){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(t)}function _fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wfe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dM(n.key),n)}}function xfe(t,e,r){return e&&wfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Efe(t,e,r){return e=xp(e),Sfe(t,fM()?Reflect.construct(e,r||[],xp(t).constructor):e.apply(t,r))}function Sfe(t,e){if(e&&(Hs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tfe(t)}function Tfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fM=function(){return!!t})()}function xp(t){return xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xp(t)}function Afe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fb(t,e)}function fb(t,e){return fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fb(t,e)}function VI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function FI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VI(Object(r),!0).forEach(function(n){Px(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Px(t,e,r){return e=dM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dM(t){var e=Pfe(t,"string");return Hs(e)=="symbol"?e:e+""}function Pfe(t,e){if(Hs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ife(t,e){return Nfe(t)||kfe(t,e)||Cfe(t,e)||Ofe()}function Ofe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cfe(t,e){if(t){if(typeof t=="string")return BI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BI(t,e)}}function BI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kfe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Nfe(t){if(Array.isArray(t))return t}function db(){return db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},db.apply(this,arguments)}var jfe=function(e,r){var n;return L.isValidElement(e)?n=L.cloneElement(e,r):ge(e)?n=e(r):n=L.createElement("line",db({},r,{className:"recharts-reference-line-line"})),n},Rfe=function(e,r,n,i,o,a,s,l,u){var c=o.x,d=o.y,h=o.width,p=o.height;if(n){var g=u.y,y=e.y.apply(g,{position:a});if(On(u,"discard")&&!e.y.isInRange(y))return null;var x=[{x:c+h,y},{x:c,y}];return l==="left"?x.reverse():x}if(r){var _=u.x,b=e.x.apply(_,{position:a});if(On(u,"discard")&&!e.x.isInRange(b))return null;var w=[{x:b,y:d+p},{x:b,y:d}];return s==="top"?w.reverse():w}if(i){var O=u.segment,T=O.map(function(P){return e.apply(P,{position:a})});return On(u,"discard")&&ice(T,function(P){return!e.isInRange(P)})?null:T}return null};function Dfe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=mfe(),c=uM(i),d=cM(o),h=vfe();if(!u||!h)return null;Jn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=xx({x:c.scale,y:d.scale}),g=bt(e),y=bt(r),x=n&&n.length===2,_=Rfe(p,g,y,x,h,t.position,c.orientation,d.orientation,t);if(!_)return null;var b=Ife(_,2),w=b[0],O=w.x,T=w.y,P=b[1],E=P.x,S=P.y,I=On(t,"hidden")?"url(#".concat(u,")"):void 0,N=FI(FI({clipPath:I},Te(t,!0)),{},{x1:O,y1:T,x2:E,y2:S});return L.createElement(ut,{className:Oe("recharts-reference-line",s)},jfe(a,N),Xt.renderCallByParent(t,qce({x1:O,y1:T,x2:E,y2:S})))}var Ix=function(t){function e(){return _fe(this,e),Efe(this,e,arguments)}return Afe(e,t),xfe(e,[{key:"render",value:function(){return L.createElement(Dfe,this.props)}}])}(L.Component);Px(Ix,"displayName","ReferenceLine");Px(Ix,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function hb(){return hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hb.apply(this,arguments)}function qs(t){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(t)}function UI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UI(Object(r),!0).forEach(function(n){ng(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $fe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pM(n.key),n)}}function Lfe(t,e,r){return e&&$fe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vfe(t,e,r){return e=Ep(e),Ffe(t,hM()?Reflect.construct(e,r||[],Ep(t).constructor):e.apply(t,r))}function Ffe(t,e){if(e&&(qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bfe(t)}function Bfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hM=function(){return!!t})()}function Ep(t){return Ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ep(t)}function Ufe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pb(t,e)}function pb(t,e){return pb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pb(t,e)}function ng(t,e,r){return e=pM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pM(t){var e=zfe(t,"string");return qs(e)=="symbol"?e:e+""}function zfe(t,e){if(qs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wfe=function(e){var r=e.x,n=e.y,i=e.xAxis,o=e.yAxis,a=xx({x:i.scale,y:o.scale}),s=a.apply({x:r,y:n},{bandAware:!0});return On(e,"discard")&&!a.isInRange(s)?null:s},ig=function(t){function e(){return Mfe(this,e),Vfe(this,e,arguments)}return Ufe(e,t),Lfe(e,[{key:"render",value:function(){var n=this.props,i=n.x,o=n.y,a=n.r,s=n.alwaysShow,l=n.clipPathId,u=bt(i),c=bt(o);if(Jn(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var d=Wfe(this.props);if(!d)return null;var h=d.x,p=d.y,g=this.props,y=g.shape,x=g.className,_=On(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=zI(zI({clipPath:_},Te(this.props,!0)),{},{cx:h,cy:p});return L.createElement(ut,{className:Oe("recharts-reference-dot",x)},e.renderDot(y,b),Xt.renderCallByParent(this.props,{x:h-a,y:p-a,width:2*a,height:2*a}))}}])}(L.Component);ng(ig,"displayName","ReferenceDot");ng(ig,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ng(ig,"renderDot",function(t,e){var r;return L.isValidElement(t)?r=L.cloneElement(t,e):ge(t)?r=t(e):r=L.createElement(wx,hb({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function mb(){return mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mb.apply(this,arguments)}function Gs(t){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gs(t)}function WI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WI(Object(r),!0).forEach(function(n){og(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qfe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gM(n.key),n)}}function Gfe(t,e,r){return e&&qfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kfe(t,e,r){return e=Sp(e),Xfe(t,mM()?Reflect.construct(e,r||[],Sp(t).constructor):e.apply(t,r))}function Xfe(t,e){if(e&&(Gs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yfe(t)}function Yfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mM=function(){return!!t})()}function Sp(t){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sp(t)}function Qfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gb(t,e)}function gb(t,e){return gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gb(t,e)}function og(t,e,r){return e=gM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gM(t){var e=Jfe(t,"string");return Gs(e)=="symbol"?e:e+""}function Jfe(t,e){if(Gs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zfe=function(e,r,n,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,d=o.yAxis;if(!c||!d)return null;var h=xx({x:c.scale,y:d.scale}),p={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return On(o,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:rM(p,g)},ag=function(t){function e(){return Hfe(this,e),Kfe(this,e,arguments)}return Qfe(e,t),Gfe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,o=n.x2,a=n.y1,s=n.y2,l=n.className,u=n.alwaysShow,c=n.clipPathId;Jn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=bt(i),h=bt(o),p=bt(a),g=bt(s),y=this.props.shape;if(!d&&!h&&!p&&!g&&!y)return null;var x=Zfe(d,h,p,g,this.props);if(!x&&!y)return null;var _=On(this.props,"hidden")?"url(#".concat(c,")"):void 0;return L.createElement(ut,{className:Oe("recharts-reference-area",l)},e.renderRect(y,HI(HI({clipPath:_},Te(this.props,!0)),x)),Xt.renderCallByParent(this.props,x))}}])}(L.Component);og(ag,"displayName","ReferenceArea");og(ag,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});og(ag,"renderRect",function(t,e){var r;return L.isValidElement(t)?r=L.cloneElement(t,e):ge(t)?r=t(e):r=L.createElement(_x,mb({},e,{className:"recharts-reference-area-rect"})),r});function yM(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function ede(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Kce(n,r)}function tde(t,e,r){var n=r==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:n?i:o,end:n?i+a:o+s}:{start:n?i+a:o+s,end:n?i:o}}function Tp(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var o=r();return t*(e-t*o/2-n)>=0&&t*(e+t*o/2-i)<=0}function rde(t,e){return yM(t,e+1)}function nde(t,e,r,n,i){for(var o=(n||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,d=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:yM(n,u)};var y=l,x,_=function(){return x===void 0&&(x=r(g,y)),x},b=g.coordinate,w=l===0||Tp(t,b,_,c,s);w||(l=0,c=a,u+=1),w&&(c=b+t*(_()/2+i),l+=u)},h;u<=o.length;)if(h=d(),h)return h.v;return[]}function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function qI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ht(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(r),!0).forEach(function(n){ide(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ide(t,e,r){return e=ode(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ode(t){var e=ade(t,"string");return Uc(e)=="symbol"?e:e+""}function ade(t,e){if(Uc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sde(t,e,r,n,i){for(var o=(n||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(h){var p=o[h],g,y=function(){return g===void 0&&(g=r(p,h)),g};if(h===a-1){var x=t*(p.coordinate+t*y()/2-l);o[h]=p=Ht(Ht({},p),{},{tickCoord:x>0?p.coordinate-x*t:p.coordinate})}else o[h]=p=Ht(Ht({},p),{},{tickCoord:p.coordinate});var _=Tp(t,p.tickCoord,y,s,l);_&&(l=p.tickCoord-t*(y()/2+i),o[h]=Ht(Ht({},p),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function lde(t,e,r,n,i,o){var a=(n||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=n[s-1],d=r(c,s-1),h=t*(c.coordinate+t*d/2-u);a[s-1]=c=Ht(Ht({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var p=Tp(t,c.tickCoord,function(){return d},l,u);p&&(u=c.tickCoord-t*(d/2+i),a[s-1]=Ht(Ht({},c),{},{isShow:!0}))}for(var g=o?s-1:s,y=function(b){var w=a[b],O,T=function(){return O===void 0&&(O=r(w,b)),O};if(b===0){var P=t*(w.coordinate-t*T()/2-l);a[b]=w=Ht(Ht({},w),{},{tickCoord:P<0?w.coordinate-P*t:w.coordinate})}else a[b]=w=Ht(Ht({},w),{},{tickCoord:w.coordinate});var E=Tp(t,w.tickCoord,T,l,u);E&&(l=w.tickCoord+t*(T()/2+i),a[b]=Ht(Ht({},w),{},{isShow:!0}))},x=0;x<g;x++)y(x);return a}function Ox(t,e,r){var n=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,d=t.angle;if(!i||!i.length||!n)return[];if(te(l)||_l.isSsr)return rde(i,typeof l=="number"&&te(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",g=c&&p==="width"?Ou(c,{fontSize:e,letterSpacing:r}):{width:0,height:0},y=function(w,O){var T=ge(u)?u(w.value,O):w.value;return p==="width"?ede(Ou(T,{fontSize:e,letterSpacing:r}),g,d):Ou(T,{fontSize:e,letterSpacing:r})[p]},x=i.length>=2?an(i[1].coordinate-i[0].coordinate):1,_=tde(o,x,p);return l==="equidistantPreserveStart"?nde(x,_,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=lde(x,_,y,i,a,l==="preserveStartEnd"):h=sde(x,_,y,i,a),h.filter(function(b){return b.isShow}))}var ude=["viewBox"],cde=["viewBox"],fde=["ticks"];function Ks(t){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ks(t)}function Ja(){return Ja=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ja.apply(this,arguments)}function GI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(r),!0).forEach(function(n){Cx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ky(t,e){if(t==null)return{};var r=dde(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function hde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bM(n.key),n)}}function pde(t,e,r){return e&&KI(t.prototype,e),r&&KI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mde(t,e,r){return e=Ap(e),gde(t,vM()?Reflect.construct(e,r||[],Ap(t).constructor):e.apply(t,r))}function gde(t,e){if(e&&(Ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yde(t)}function yde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vM=function(){return!!t})()}function Ap(t){return Ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ap(t)}function vde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yb(t,e)}function yb(t,e){return yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yb(t,e)}function Cx(t,e,r){return e=bM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bM(t){var e=bde(t,"string");return Ks(e)=="symbol"?e:e+""}function bde(t,e){if(Ks(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Sl=function(t){function e(r){var n;return hde(this,e),n=mde(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return vde(e,t),pde(e,[{key:"shouldComponentUpdate",value:function(n,i){var o=n.viewBox,a=ky(n,ude),s=this.props,l=s.viewBox,u=ky(s,cde);return!fs(o,l)||!fs(a,u)||!fs(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,d=i.mirror,h=i.tickMargin,p,g,y,x,_,b,w=d?-1:1,O=n.tickSize||c,T=te(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=g=n.coordinate,x=a+ +!d*l,y=x-w*O,b=y-w*h,_=T;break;case"left":y=x=n.coordinate,g=o+ +!d*s,p=g-w*O,_=p-w*h,b=T;break;case"right":y=x=n.coordinate,g=o+ +d*s,p=g+w*O,_=p+w*h,b=T;break;default:p=g=n.coordinate,x=a+ +d*l,y=x+w*O,b=y+w*h,_=T;break}return{line:{x1:p,y1:y,x2:g,y2:x},tick:{x:_,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,o=n.y,a=n.width,s=n.height,l=n.orientation,u=n.mirror,c=n.axisLine,d=tr(tr(tr({},Te(this.props,!1)),Te(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);d=tr(tr({},d),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);d=tr(tr({},d),{},{x1:i+p*a,y1:o,x2:i+p*a,y2:o+s})}return L.createElement("line",Ja({},d,{className:Oe("recharts-cartesian-axis-line",Br(c,"className"))}))}},{key:"renderTicks",value:function(n,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,d=s.tickFormatter,h=s.unit,p=Ox(tr(tr({},this.props),{},{ticks:n}),i,o),g=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),x=Te(this.props,!1),_=Te(c,!1),b=tr(tr({},x),{},{fill:"none"},Te(l,!1)),w=p.map(function(O,T){var P=a.getTickLineCoord(O),E=P.line,S=P.tick,I=tr(tr(tr(tr({textAnchor:g,verticalAnchor:y},x),{},{stroke:"none",fill:u},_),S),{},{index:T,payload:O,visibleTicksCount:p.length,tickFormatter:d});return L.createElement(ut,Ja({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},Rh(a.props,O,T)),l&&L.createElement("line",Ja({},b,E,{className:Oe("recharts-cartesian-axis-tick-line",Br(l,"className"))})),c&&e.renderTickItem(c,I,"".concat(ge(d)?d(O.value,T):O.value).concat(h||"")))});return L.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var d=this.props,h=d.ticks,p=ky(d,fde),g=h;return ge(l)&&(g=h&&h.length>0?l(this.props):l(p)),a<=0||s<=0||!g||!g.length?null:L.createElement(ut,{className:Oe("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Xt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,o){var a;return L.isValidElement(n)?a=L.cloneElement(n,i):ge(n)?a=n(i):a=L.createElement(Kh,Ja({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(U.Component);Cx(Sl,"displayName","CartesianAxis");Cx(Sl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _de=["x1","y1","x2","y2","key"],wde=["offset"];function da(t){"@babel/helpers - typeof";return da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},da(t)}function XI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(r),!0).forEach(function(n){xde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xde(t,e,r){return e=Ede(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ede(t){var e=Sde(t,"string");return da(e)=="symbol"?e:e+""}function Sde(t,e){if(da(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(da(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ho(){return Ho=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ho.apply(this,arguments)}function YI(t,e){if(t==null)return{};var r=Tde(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ade=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return L.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function _M(t,e){var r;if(L.isValidElement(t))r=L.cloneElement(t,e);else if(ge(t))r=t(e);else{var n=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=YI(e,_de),u=Te(l,!1);u.offset;var c=YI(u,wde);r=L.createElement("line",Ho({},c,{x1:n,y1:i,x2:o,y2:a,fill:"none",key:s}))}return r}function Pde(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=Yt(Yt({},t),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(l),index:l});return _M(i,u)});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Ide(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=Yt(Yt({},t),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(l),index:l});return _M(i,u)});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Ode(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==c[0]&&c.unshift(0);var d=c.map(function(h,p){var g=!c[p+1],y=g?i+a-h:c[p+1]-h;if(y<=0)return null;var x=p%e.length;return L.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:y,width:o,stroke:"none",fill:e[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Cde(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==c[0]&&c.unshift(0);var d=c.map(function(h,p){var g=!c[p+1],y=g?o+s-h:c[p+1]-h;if(y<=0)return null;var x=p%n.length;return L.createElement("rect",{key:"react-".concat(p),x:h,y:a,width:y,height:l,stroke:"none",fill:n[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var kde=function(e,r){var n=e.xAxis,i=e.width,o=e.height,a=e.offset;return OD(Ox(Yt(Yt(Yt({},Sl.defaultProps),n),{},{ticks:Gn(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,r)},Nde=function(e,r){var n=e.yAxis,i=e.width,o=e.height,a=e.offset;return OD(Ox(Yt(Yt(Yt({},Sl.defaultProps),n),{},{ticks:Gn(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,r)},Na={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Pp(t){var e,r,n,i,o,a,s=Tx(),l=Ax(),u=bfe(),c=Yt(Yt({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Na.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Na.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Na.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Na.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Na.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Na.verticalFill,x:te(t.x)?t.x:u.left,y:te(t.y)?t.y:u.top,width:te(t.width)?t.width:u.width,height:te(t.height)?t.height:u.height}),d=c.x,h=c.y,p=c.width,g=c.height,y=c.syncWithTicks,x=c.horizontalValues,_=c.verticalValues,b=gfe(),w=yfe();if(!te(p)||p<=0||!te(g)||g<=0||!te(d)||d!==+d||!te(h)||h!==+h)return null;var O=c.verticalCoordinatesGenerator||kde,T=c.horizontalCoordinatesGenerator||Nde,P=c.horizontalPoints,E=c.verticalPoints;if((!P||!P.length)&&ge(T)){var S=x&&x.length,I=T({yAxis:w?Yt(Yt({},w),{},{ticks:S?x:w.ticks}):void 0,width:s,height:l,offset:u},S?!0:y);Jn(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(da(I),"]")),Array.isArray(I)&&(P=I)}if((!E||!E.length)&&ge(O)){var N=_&&_.length,C=O({xAxis:b?Yt(Yt({},b),{},{ticks:N?_:b.ticks}):void 0,width:s,height:l,offset:u},N?!0:y);Jn(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(da(C),"]")),Array.isArray(C)&&(E=C)}return L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(Ade,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),L.createElement(Pde,Ho({},c,{offset:u,horizontalPoints:P,xAxis:b,yAxis:w})),L.createElement(Ide,Ho({},c,{offset:u,verticalPoints:E,xAxis:b,yAxis:w})),L.createElement(Ode,Ho({},c,{horizontalPoints:P})),L.createElement(Cde,Ho({},c,{verticalPoints:E})))}Pp.displayName="CartesianGrid";var jde=["type","layout","connectNulls","ref"],Rde=["key"];function Xs(t){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xs(t)}function QI(t,e){if(t==null)return{};var r=Dde(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Dde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ju(){return ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ju.apply(this,arguments)}function JI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(r),!0).forEach(function(n){en(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ja(t){return Vde(t)||Lde(t)||$de(t)||Mde()}function Mde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $de(t,e){if(t){if(typeof t=="string")return vb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vb(t,e)}}function Lde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vde(t){if(Array.isArray(t))return vb(t)}function vb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xM(n.key),n)}}function Bde(t,e,r){return e&&ZI(t.prototype,e),r&&ZI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ude(t,e,r){return e=Ip(e),zde(t,wM()?Reflect.construct(e,r||[],Ip(t).constructor):e.apply(t,r))}function zde(t,e){if(e&&(Xs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wde(t)}function Wde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wM=function(){return!!t})()}function Ip(t){return Ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ip(t)}function Hde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bb(t,e)}function bb(t,e){return bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bb(t,e)}function en(t,e,r){return e=xM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xM(t){var e=qde(t,"string");return Xs(e)=="symbol"?e:e+""}function qde(t,e){if(Xs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lo=function(t){function e(){var r;Fde(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Ude(this,e,[].concat(i)),en(r,"state",{isAnimationFinished:!0,totalLength:0}),en(r,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),en(r,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(_,b){return _+b});if(!u)return r.generateSimpleStrokeDasharray(s,a);for(var c=Math.floor(a/u),d=a%u,h=s-a,p=[],g=0,y=0;g<l.length;y+=l[g],++g)if(y+l[g]>d){p=[].concat(ja(l.slice(0,g)),[d-y]);break}var x=p.length%2===0?[0,h]:[h];return[].concat(ja(e.repeat(l,c)),ja(p),x).map(function(_){return"".concat(_,"px")}).join(", ")}),en(r,"id",ff("recharts-line-")),en(r,"pathRef",function(a){r.mainCurve=a}),en(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),en(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Hde(e,t),Bde(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=Ur(c,yf);if(!d)return null;var h=function(y,x){return{x:y.x,y:y.y,value:y.value,errorVal:Or(y.payload,x)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return L.createElement(ut,p,d.map(function(g){return L.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,d=Te(this.props,!1),h=Te(l,!0),p=u.map(function(y,x){var _=_r(_r(_r({key:"dot-".concat(x),r:3},d),h),{},{index:x,cx:y.x,cy:y.y,value:y.value,dataKey:c,payload:y.payload,points:u});return e.renderDotItem(l,_)}),g={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return L.createElement(ut,ju({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,i,o,a){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var d=QI(s,jde),h=_r(_r(_r({},Te(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:n},a),{},{type:l,layout:u,connectNulls:c});return L.createElement(Y0,ju({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,h=a.animationEasing,p=a.animationId,g=a.animateNewValues,y=a.width,x=a.height,_=this.state,b=_.prevPoints,w=_.totalLength;return L.createElement(fi,{begin:c,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var T=O.t;if(b){var P=b.length/s.length,E=s.map(function(j,k){var W=Math.floor(k*P);if(b[W]){var H=b[W],$=rn(H.x,j.x),F=rn(H.y,j.y);return _r(_r({},j),{},{x:$(T),y:F(T)})}if(g){var M=rn(y*2,j.x),V=rn(x/2,j.y);return _r(_r({},j),{},{x:M(T),y:V(T)})}return _r(_r({},j),{},{x:j.x,y:j.y})});return o.renderCurveStatically(E,n,i)}var S=rn(0,w),I=S(T),N;if(l){var C="".concat(l).split(/[,\s]+/gim).map(function(j){return parseFloat(j)});N=o.getStrokeDasharray(I,w,C)}else N=o.generateSimpleStrokeDasharray(w,I);return o.renderCurveStatically(s,n,i,{strokeDasharray:N})})}},{key:"renderCurve",value:function(n,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&a&&a.length&&(!u&&c>0||!Qm(u,a))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(a,n,i)}},{key:"render",value:function(){var n,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,d=i.top,h=i.left,p=i.width,g=i.height,y=i.isAnimationActive,x=i.id;if(o||!s||!s.length)return null;var _=this.state.isAnimationFinished,b=s.length===1,w=Oe("recharts-line",l),O=u&&u.allowDataOverflow,T=c&&c.allowDataOverflow,P=O||T,E=Ee(x)?this.id:x,S=(n=Te(a,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},I=S.r,N=I===void 0?3:I,C=S.strokeWidth,j=C===void 0?2:C,k=sW(a)?a:{},W=k.clipDot,H=W===void 0?!0:W,$=N*2+j;return L.createElement(ut,{className:w},O||T?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(E)},L.createElement("rect",{x:O?h:h-p/2,y:T?d:d-g/2,width:O?p:p*2,height:T?g:g*2})),!H&&L.createElement("clipPath",{id:"clipPath-dots-".concat(E)},L.createElement("rect",{x:h-$/2,y:d-$/2,width:p+$,height:g+$}))):null,!b&&this.renderCurve(P,E),this.renderErrorBar(P,E),(b||a)&&this.renderDots(P,H,E),(!y||_)&&Zi.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var o=n.length%2!==0?[].concat(ja(n),[0]):n,a=[],s=0;s<i;++s)a=[].concat(ja(a),ja(o));return a}},{key:"renderDotItem",value:function(n,i){var o;if(L.isValidElement(n))o=L.cloneElement(n,i);else if(ge(n))o=n(i);else{var a=i.key,s=QI(i,Rde),l=Oe("recharts-line-dot",typeof n!="boolean"?n.className:"");o=L.createElement(wx,ju({key:a},s,{className:l}))}return o}}])}(U.PureComponent);en(lo,"displayName","Line");en(lo,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!_l.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});en(lo,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,d=l.map(function(h,p){var g=Or(h,a);return c==="horizontal"?{x:jP({axis:r,ticks:i,bandSize:s,entry:h,index:p}),y:Ee(g)?null:n.scale(g),value:g,payload:h}:{x:Ee(g)?null:r.scale(g),y:jP({axis:n,ticks:o,bandSize:s,entry:h,index:p}),value:g,payload:h}});return _r({points:d,layout:c},u)});function Ys(t){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys(t)}function Gde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TM(n.key),n)}}function Xde(t,e,r){return e&&Kde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yde(t,e,r){return e=Op(e),Qde(t,EM()?Reflect.construct(e,r||[],Op(t).constructor):e.apply(t,r))}function Qde(t,e){if(e&&(Ys(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jde(t)}function Jde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EM=function(){return!!t})()}function Op(t){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Op(t)}function Zde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_b(t,e)}function _b(t,e){return _b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_b(t,e)}function SM(t,e,r){return e=TM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TM(t){var e=ehe(t,"string");return Ys(e)=="symbol"?e:e+""}function ehe(t,e){if(Ys(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wb(){return wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wb.apply(this,arguments)}function the(t){var e=t.xAxisId,r=Tx(),n=Ax(),i=uM(e);return i==null?null:L.createElement(Sl,wb({},i,{className:Oe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(a){return Gn(a,!0)}}))}var di=function(t){function e(){return Gde(this,e),Yde(this,e,arguments)}return Zde(e,t),Xde(e,[{key:"render",value:function(){return L.createElement(the,this.props)}}])}(L.Component);SM(di,"displayName","XAxis");SM(di,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Qs(t){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qs(t)}function rhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nhe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IM(n.key),n)}}function ihe(t,e,r){return e&&nhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ohe(t,e,r){return e=Cp(e),ahe(t,AM()?Reflect.construct(e,r||[],Cp(t).constructor):e.apply(t,r))}function ahe(t,e){if(e&&(Qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return she(t)}function she(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AM=function(){return!!t})()}function Cp(t){return Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cp(t)}function lhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xb(t,e)}function xb(t,e){return xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xb(t,e)}function PM(t,e,r){return e=IM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IM(t){var e=uhe(t,"string");return Qs(e)=="symbol"?e:e+""}function uhe(t,e){if(Qs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Eb(){return Eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Eb.apply(this,arguments)}var che=function(e){var r=e.yAxisId,n=Tx(),i=Ax(),o=cM(r);return o==null?null:L.createElement(Sl,Eb({},o,{className:Oe("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return Gn(s,!0)}}))},hi=function(t){function e(){return rhe(this,e),ohe(this,e,arguments)}return lhe(e,t),ihe(e,[{key:"render",value:function(){return L.createElement(che,this.props)}}])}(L.Component);PM(hi,"displayName","YAxis");PM(hi,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function eO(t){return phe(t)||hhe(t)||dhe(t)||fhe()}function fhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dhe(t,e){if(t){if(typeof t=="string")return Sb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sb(t,e)}}function hhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function phe(t){if(Array.isArray(t))return Sb(t)}function Sb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Tb=function(e,r,n,i,o){var a=Ur(e,Ix),s=Ur(e,ig),l=[].concat(eO(a),eO(s)),u=Ur(e,ag),c="".concat(i,"Id"),d=i[0],h=r;if(l.length&&(h=l.reduce(function(y,x){if(x.props[c]===n&&On(x.props,"extendDomain")&&te(x.props[d])){var _=x.props[d];return[Math.min(y[0],_),Math.max(y[1],_)]}return y},h)),u.length){var p="".concat(d,"1"),g="".concat(d,"2");h=u.reduce(function(y,x){if(x.props[c]===n&&On(x.props,"extendDomain")&&te(x.props[p])&&te(x.props[g])){var _=x.props[p],b=x.props[g];return[Math.min(y[0],_,b),Math.max(y[1],_,b)]}return y},h)}return o&&o.length&&(h=o.reduce(function(y,x){return te(x)?[Math.min(y[0],x),Math.max(y[1],x)]:y},h)),h},OM={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,d||l,h),g=r?r+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=r?r+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,g=new Array(p);h<p;h++)g[h]=d[h].fn;return g},s.prototype.listenerCount=function(u){var c=r?r+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,h,p,g){var y=r?r+u:u;if(!this._events[y])return!1;var x=this._events[y],_=arguments.length,b,w;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),_){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,c),!0;case 3:return x.fn.call(x.context,c,d),!0;case 4:return x.fn.call(x.context,c,d,h),!0;case 5:return x.fn.call(x.context,c,d,h,p),!0;case 6:return x.fn.call(x.context,c,d,h,p,g),!0}for(w=1,b=new Array(_-1);w<_;w++)b[w-1]=arguments[w];x.fn.apply(x.context,b)}else{var O=x.length,T;for(w=0;w<O;w++)switch(x[w].once&&this.removeListener(u,x[w].fn,void 0,!0),_){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,c);break;case 3:x[w].fn.call(x[w].context,c,d);break;case 4:x[w].fn.call(x[w].context,c,d,h);break;default:if(!b)for(T=1,b=new Array(_-1);T<_;T++)b[T-1]=arguments[T];x[w].fn.apply(x[w].context,b)}}return!0},s.prototype.on=function(u,c,d){return o(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return o(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,h){var p=r?r+u:u;if(!this._events[p])return this;if(!c)return a(this,p),this;var g=this._events[p];if(g.fn)g.fn===c&&(!h||g.once)&&(!d||g.context===d)&&a(this,p);else{for(var y=0,x=[],_=g.length;y<_;y++)(g[y].fn!==c||h&&!g[y].once||d&&g[y].context!==d)&&x.push(g[y]);x.length?this._events[p]=x.length===1?x[0]:x:a(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&a(this,c)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(OM);var mhe=OM.exports;const ghe=Le(mhe);var Ny=new ghe,jy="recharts.syncMouseEvents";function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function yhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vhe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,CM(n.key),n)}}function bhe(t,e,r){return e&&vhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ry(t,e,r){return e=CM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CM(t){var e=_he(t,"string");return zc(e)=="symbol"?e:e+""}function _he(t,e){if(zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var whe=function(){function t(){yhe(this,t),Ry(this,"activeIndex",0),Ry(this,"coordinateList",[]),Ry(this,"layout","horizontal")}return bhe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,o=i===void 0?null:i,a=r.container,s=a===void 0?null:a,l=r.layout,u=l===void 0?null:l,c=r.offset,d=c===void 0?null:c,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,c=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=o+l+u,h=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function xhe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&te(n)&&te(i))return!0}return!1}function Ehe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function kM(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,o=t.endAngle,a=Rt(e,r,n,i),s=Rt(e,r,n,o);return{points:[a,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:o}}function She(t,e,r){var n,i,o,a;if(t==="horizontal")n=e.x,o=n,i=r.top,a=r.top+r.height;else if(t==="vertical")i=e.y,a=i,n=r.left,o=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,d=e.angle,h=Rt(s,l,u,d),p=Rt(s,l,c,d);n=h.x,i=h.y,o=p.x,a=p.y}else return kM(e);return[{x:n,y:i},{x:o,y:a}]}function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function tO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(r),!0).forEach(function(n){The(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function The(t,e,r){return e=Ahe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ahe(t){var e=Phe(t,"string");return Wc(e)=="symbol"?e:e+""}function Phe(t,e){if(Wc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ihe(t){var e,r,n=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var g,y=Y0;if(h==="ScatterChart")g=a,y=Ile;else if(h==="BarChart")g=Ehe(d,a,l,c),y=_x;else if(d==="radial"){var x=kM(a),_=x.cx,b=x.cy,w=x.radius,O=x.startAngle,T=x.endAngle;g={cx:_,cy:b,startAngle:O,endAngle:T,innerRadius:w,outerRadius:w},y=RD}else g={points:She(d,a,l)},y=Y0;var P=yd(yd(yd(yd({stroke:"#ccc",pointerEvents:"none"},l),g),Te(p,!1)),{},{payload:s,payloadIndex:u,className:Oe("recharts-tooltip-cursor",p.className)});return U.isValidElement(p)?U.cloneElement(p,P):U.createElement(y,P)}var Ohe=["item"],Che=["children","className","width","height","style","compact","title","desc"];function Js(t){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Js(t)}function Za(){return Za=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Za.apply(this,arguments)}function rO(t,e){return jhe(t)||Nhe(t,e)||jM(t,e)||khe()}function khe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nhe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function jhe(t){if(Array.isArray(t))return t}function nO(t,e){if(t==null)return{};var r=Rhe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rhe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Dhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mhe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RM(n.key),n)}}function $he(t,e,r){return e&&Mhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lhe(t,e,r){return e=kp(e),Vhe(t,NM()?Reflect.construct(e,r||[],kp(t).constructor):e.apply(t,r))}function Vhe(t,e){if(e&&(Js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fhe(t)}function Fhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NM=function(){return!!t})()}function kp(t){return kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kp(t)}function Bhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ab(t,e)}function Ab(t,e){return Ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ab(t,e)}function Zs(t){return Whe(t)||zhe(t)||jM(t)||Uhe()}function Uhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jM(t,e){if(t){if(typeof t=="string")return Pb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pb(t,e)}}function zhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Whe(t){if(Array.isArray(t))return Pb(t)}function Pb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function G(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(r),!0).forEach(function(n){ue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ue(t,e,r){return e=RM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RM(t){var e=Hhe(t,"string");return Js(e)=="symbol"?e:e+""}function Hhe(t,e){if(Js(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qhe={xAxis:["bottom","top"],yAxis:["left","right"]},Ghe={width:"100%",height:"100%"},DM={x:0,y:0};function vd(t){return t}var Khe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Xhe=function(e,r,n,i){var o=r.find(function(c){return c&&c.index===n});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return G(G(G({},i),Rt(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return G(G(G({},i),Rt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return DM},sg=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,o=r.dataEndIndex,a=(n??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Zs(s),Zs(u)):s},[]);return a.length>0?a:e&&e.length&&te(i)&&te(o)?e.slice(i,o+1):[]};function MM(t){return t==="number"?[0,"auto"]:void 0}var Ib=function(e,r,n,i){var o=e.graphicalItems,a=e.tooltipAxis,s=sg(r,e);return n<0||!o||!o.length||n>=s.length?null:o.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:r;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var p=d===void 0?s:d;h=Nh(p,a.dataKey,i)}else h=d&&d[n]||s[n];return h?[].concat(Zs(l),[kD(u,h)]):l},[])},oO=function(e,r,n,i){var o=i||{x:e.chartX,y:e.chartY},a=Khe(o,n),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=coe(a,s,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,h=Ib(e,r,c,d),p=Xhe(n,s,c,o);return{activeTooltipIndex:c,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},Yhe=function(e,r){var n=r.axes,i=r.graphicalItems,o=r.axisType,a=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,c=e.layout,d=e.children,h=e.stackOffset,p=ID(c,o);return n.reduce(function(g,y){var x,_=y.type.defaultProps!==void 0?G(G({},y.type.defaultProps),y.props):y.props,b=_.type,w=_.dataKey,O=_.allowDataOverflow,T=_.allowDuplicatedCategory,P=_.scale,E=_.ticks,S=_.includeHidden,I=_[a];if(g[I])return g;var N=sg(e.data,{graphicalItems:i.filter(function(z){var Q,se=a in z.props?z.props[a]:(Q=z.type.defaultProps)===null||Q===void 0?void 0:Q[a];return se===I}),dataStartIndex:l,dataEndIndex:u}),C=N.length,j,k,W;xhe(_.domain,O,b)&&(j=H0(_.domain,null,O),p&&(b==="number"||P!=="auto")&&(W=ku(N,w,"category")));var H=MM(b);if(!j||j.length===0){var $,F=($=_.domain)!==null&&$!==void 0?$:H;if(w){if(j=ku(N,w,b),b==="category"&&p){var M=Q7(j);T&&M?(k=j,j=yp(0,C)):T||(j=$P(F,j,y).reduce(function(z,Q){return z.indexOf(Q)>=0?z:[].concat(Zs(z),[Q])},[]))}else if(b==="category")T?j=j.filter(function(z){return z!==""&&!Ee(z)}):j=$P(F,j,y).reduce(function(z,Q){return z.indexOf(Q)>=0||Q===""||Ee(Q)?z:[].concat(Zs(z),[Q])},[]);else if(b==="number"){var V=moe(N,i.filter(function(z){var Q,se,ve=a in z.props?z.props[a]:(Q=z.type.defaultProps)===null||Q===void 0?void 0:Q[a],Se="hide"in z.props?z.props.hide:(se=z.type.defaultProps)===null||se===void 0?void 0:se.hide;return ve===I&&(S||!Se)}),w,o,c);V&&(j=V)}p&&(b==="number"||P!=="auto")&&(W=ku(N,w,"category"))}else p?j=yp(0,C):s&&s[I]&&s[I].hasStack&&b==="number"?j=h==="expand"?[0,1]:CD(s[I].stackGroups,l,u):j=PD(N,i.filter(function(z){var Q=a in z.props?z.props[a]:z.type.defaultProps[a],se="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return Q===I&&(S||!se)}),b,c,!0);if(b==="number")j=Tb(d,j,I,o,E),F&&(j=H0(F,j,O));else if(b==="category"&&F){var K=F,D=j.every(function(z){return K.indexOf(z)>=0});D&&(j=K)}}return G(G({},g),{},ue({},I,G(G({},_),{},{axisType:o,domain:j,categoricalDomain:W,duplicateDomain:k,originalDomain:(x=_.domain)!==null&&x!==void 0?x:H,isCategorical:p,layout:c})))},{})},Qhe=function(e,r){var n=r.graphicalItems,i=r.Axis,o=r.axisType,a=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,c=e.layout,d=e.children,h=sg(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),p=h.length,g=ID(c,o),y=-1;return n.reduce(function(x,_){var b=_.type.defaultProps!==void 0?G(G({},_.type.defaultProps),_.props):_.props,w=b[a],O=MM("number");if(!x[w]){y++;var T;return g?T=yp(0,p):s&&s[w]&&s[w].hasStack?(T=CD(s[w].stackGroups,l,u),T=Tb(d,T,w,o)):(T=H0(O,PD(h,n.filter(function(P){var E,S,I=a in P.props?P.props[a]:(E=P.type.defaultProps)===null||E===void 0?void 0:E[a],N="hide"in P.props?P.props.hide:(S=P.type.defaultProps)===null||S===void 0?void 0:S.hide;return I===w&&!N}),"number",c),i.defaultProps.allowDataOverflow),T=Tb(d,T,w,o)),G(G({},x),{},ue({},w,G(G({axisType:o},i.defaultProps),{},{hide:!0,orientation:Br(qhe,"".concat(o,".").concat(y%2),null),domain:T,originalDomain:O,isCategorical:g,layout:c})))}return x},{})},Jhe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,o=r.AxisComp,a=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,c=e.children,d="".concat(i,"Id"),h=Ur(c,o),p={};return h&&h.length?p=Yhe(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(p=Qhe(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},Zhe=function(e){var r=Ri(e),n=Gn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Gw(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:lp(r,n)}},aO=function(e){var r=e.children,n=e.defaultShowTooltip,i=Er(r,zs),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!n}},epe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Qn(r&&r.type);return n&&n.indexOf("Bar")>=0})},sO=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},tpe=function(e,r){var n=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=n.width,c=n.height,d=n.children,h=n.margin||{},p=Er(d,zs),g=Er(d,ds),y=Object.keys(l).reduce(function(T,P){var E=l[P],S=E.orientation;return!E.mirror&&!E.hide?G(G({},T),{},ue({},S,T[S]+E.width)):T},{left:h.left||0,right:h.right||0}),x=Object.keys(a).reduce(function(T,P){var E=a[P],S=E.orientation;return!E.mirror&&!E.hide?G(G({},T),{},ue({},S,Br(T,"".concat(S))+E.height)):T},{top:h.top||0,bottom:h.bottom||0}),_=G(G({},x),y),b=_.bottom;p&&(_.bottom+=p.props.height||zs.defaultProps.height),g&&r&&(_=hoe(_,i,n,r));var w=u-_.left-_.right,O=c-_.top-_.bottom;return G(G({brushBottom:b},_),{},{width:Math.max(w,0),height:Math.max(O,0)})},rpe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},$M=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,h=function(_,b){var w=b.graphicalItems,O=b.stackGroups,T=b.offset,P=b.updateId,E=b.dataStartIndex,S=b.dataEndIndex,I=_.barSize,N=_.layout,C=_.barGap,j=_.barCategoryGap,k=_.maxBarSize,W=sO(N),H=W.numericAxisName,$=W.cateAxisName,F=epe(w),M=[];return w.forEach(function(V,K){var D=sg(_.data,{graphicalItems:[V],dataStartIndex:E,dataEndIndex:S}),z=V.type.defaultProps!==void 0?G(G({},V.type.defaultProps),V.props):V.props,Q=z.dataKey,se=z.maxBarSize,ve=z["".concat(H,"Id")],Se=z["".concat($,"Id")],Ke={},ct=l.reduce(function(mn,Dn){var So=b["".concat(Dn.axisType,"Map")],Sa=z["".concat(Dn.axisType,"Id")];So&&So[Sa]||Dn.axisType==="zAxis"||fa();var Tl=So[Sa];return G(G({},mn),{},ue(ue({},Dn.axisType,Tl),"".concat(Dn.axisType,"Ticks"),Gn(Tl)))},Ke),re=ct[$],de=ct["".concat($,"Ticks")],pe=O&&O[ve]&&O[ve].hasStack&&Poe(V,O[ve].stackGroups),J=Qn(V.type).indexOf("Bar")>=0,Ve=lp(re,de),be=[],Qe=F&&foe({barSize:I,stackGroups:O,totalSize:rpe(ct,$)});if(J){var rt,Lt,pn=Ee(se)?k:se,Rn=(rt=(Lt=lp(re,de,!0))!==null&&Lt!==void 0?Lt:pn)!==null&&rt!==void 0?rt:0;be=doe({barGap:C,barCategoryGap:j,bandSize:Rn!==Ve?Rn:Ve,sizeList:Qe[Se],maxBarSize:pn}),Rn!==Ve&&(be=be.map(function(mn){return G(G({},mn),{},{position:G(G({},mn.position),{},{offset:mn.position.offset-Rn/2})})}))}var bi=V&&V.type&&V.type.getComposedData;bi&&M.push({props:G(G({},bi(G(G({},ct),{},{displayedData:D,props:_,dataKey:Q,item:V,bandSize:Ve,barPosition:be,offset:T,stackedData:pe,layout:N,dataStartIndex:E,dataEndIndex:S}))),{},ue(ue(ue({key:V.key||"item-".concat(K)},H,ct[H]),$,ct[$]),"animationId",P)),childIndex:cW(V,_.children),item:V})}),M},p=function(_,b){var w=_.props,O=_.dataStartIndex,T=_.dataEndIndex,P=_.updateId;if(!CT({props:w}))return null;var E=w.children,S=w.layout,I=w.stackOffset,N=w.data,C=w.reverseStackOrder,j=sO(S),k=j.numericAxisName,W=j.cateAxisName,H=Ur(E,n),$=Soe(N,H,"".concat(k,"Id"),"".concat(W,"Id"),I,C),F=l.reduce(function(z,Q){var se="".concat(Q.axisType,"Map");return G(G({},z),{},ue({},se,Jhe(w,G(G({},Q),{},{graphicalItems:H,stackGroups:Q.axisType===k&&$,dataStartIndex:O,dataEndIndex:T}))))},{}),M=tpe(G(G({},F),{},{props:w,graphicalItems:H}),b==null?void 0:b.legendBBox);Object.keys(F).forEach(function(z){F[z]=c(w,F[z],M,z.replace("Map",""),r)});var V=F["".concat(W,"Map")],K=Zhe(V),D=h(w,G(G({},F),{},{dataStartIndex:O,dataEndIndex:T,updateId:P,graphicalItems:H,stackGroups:$,offset:M}));return G(G({formattedGraphicalItems:D,graphicalItems:H,offset:M,stackGroups:$},K),F)},g=function(x){function _(b){var w,O,T;return Dhe(this,_),T=Lhe(this,_,[b]),ue(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ue(T,"accessibilityManager",new whe),ue(T,"handleLegendBBoxUpdate",function(P){if(P){var E=T.state,S=E.dataStartIndex,I=E.dataEndIndex,N=E.updateId;T.setState(G({legendBBox:P},p({props:T.props,dataStartIndex:S,dataEndIndex:I,updateId:N},G(G({},T.state),{},{legendBBox:P}))))}}),ue(T,"handleReceiveSyncEvent",function(P,E,S){if(T.props.syncId===P){if(S===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(E)}}),ue(T,"handleBrushChange",function(P){var E=P.startIndex,S=P.endIndex;if(E!==T.state.dataStartIndex||S!==T.state.dataEndIndex){var I=T.state.updateId;T.setState(function(){return G({dataStartIndex:E,dataEndIndex:S},p({props:T.props,dataStartIndex:E,dataEndIndex:S,updateId:I},T.state))}),T.triggerSyncEvent({dataStartIndex:E,dataEndIndex:S})}}),ue(T,"handleMouseEnter",function(P){var E=T.getMouseInfo(P);if(E){var S=G(G({},E),{},{isTooltipActive:!0});T.setState(S),T.triggerSyncEvent(S);var I=T.props.onMouseEnter;ge(I)&&I(S,P)}}),ue(T,"triggeredAfterMouseMove",function(P){var E=T.getMouseInfo(P),S=E?G(G({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(S),T.triggerSyncEvent(S);var I=T.props.onMouseMove;ge(I)&&I(S,P)}),ue(T,"handleItemMouseEnter",function(P){T.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),ue(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),ue(T,"handleMouseMove",function(P){P.persist(),T.throttleTriggeredAfterMouseMove(P)}),ue(T,"handleMouseLeave",function(P){T.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};T.setState(E),T.triggerSyncEvent(E);var S=T.props.onMouseLeave;ge(S)&&S(E,P)}),ue(T,"handleOuterEvent",function(P){var E=uW(P),S=Br(T.props,"".concat(E));if(E&&ge(S)){var I,N;/.*touch.*/i.test(E)?N=T.getMouseInfo(P.changedTouches[0]):N=T.getMouseInfo(P),S((I=N)!==null&&I!==void 0?I:{},P)}}),ue(T,"handleClick",function(P){var E=T.getMouseInfo(P);if(E){var S=G(G({},E),{},{isTooltipActive:!0});T.setState(S),T.triggerSyncEvent(S);var I=T.props.onClick;ge(I)&&I(S,P)}}),ue(T,"handleMouseDown",function(P){var E=T.props.onMouseDown;if(ge(E)){var S=T.getMouseInfo(P);E(S,P)}}),ue(T,"handleMouseUp",function(P){var E=T.props.onMouseUp;if(ge(E)){var S=T.getMouseInfo(P);E(S,P)}}),ue(T,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),ue(T,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.handleMouseDown(P.changedTouches[0])}),ue(T,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.handleMouseUp(P.changedTouches[0])}),ue(T,"handleDoubleClick",function(P){var E=T.props.onDoubleClick;if(ge(E)){var S=T.getMouseInfo(P);E(S,P)}}),ue(T,"handleContextMenu",function(P){var E=T.props.onContextMenu;if(ge(E)){var S=T.getMouseInfo(P);E(S,P)}}),ue(T,"triggerSyncEvent",function(P){T.props.syncId!==void 0&&Ny.emit(jy,T.props.syncId,P,T.eventEmitterSymbol)}),ue(T,"applySyncEvent",function(P){var E=T.props,S=E.layout,I=E.syncMethod,N=T.state.updateId,C=P.dataStartIndex,j=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)T.setState(G({dataStartIndex:C,dataEndIndex:j},p({props:T.props,dataStartIndex:C,dataEndIndex:j,updateId:N},T.state)));else if(P.activeTooltipIndex!==void 0){var k=P.chartX,W=P.chartY,H=P.activeTooltipIndex,$=T.state,F=$.offset,M=$.tooltipTicks;if(!F)return;if(typeof I=="function")H=I(M,P);else if(I==="value"){H=-1;for(var V=0;V<M.length;V++)if(M[V].value===P.activeLabel){H=V;break}}var K=G(G({},F),{},{x:F.left,y:F.top}),D=Math.min(k,K.x+K.width),z=Math.min(W,K.y+K.height),Q=M[H]&&M[H].value,se=Ib(T.state,T.props.data,H),ve=M[H]?{x:S==="horizontal"?M[H].coordinate:D,y:S==="horizontal"?z:M[H].coordinate}:DM;T.setState(G(G({},P),{},{activeLabel:Q,activeCoordinate:ve,activePayload:se,activeTooltipIndex:H}))}else T.setState(P)}),ue(T,"renderCursor",function(P){var E,S=T.state,I=S.isTooltipActive,N=S.activeCoordinate,C=S.activePayload,j=S.offset,k=S.activeTooltipIndex,W=S.tooltipAxisBandSize,H=T.getTooltipEventType(),$=(E=P.props.active)!==null&&E!==void 0?E:I,F=T.props.layout,M=P.key||"_recharts-cursor";return L.createElement(Ihe,{key:M,activeCoordinate:N,activePayload:C,activeTooltipIndex:k,chartName:r,element:P,isActive:$,layout:F,offset:j,tooltipAxisBandSize:W,tooltipEventType:H})}),ue(T,"renderPolarAxis",function(P,E,S){var I=Br(P,"type.axisType"),N=Br(T.state,"".concat(I,"Map")),C=P.type.defaultProps,j=C!==void 0?G(G({},C),P.props):P.props,k=N&&N[j["".concat(I,"Id")]];return U.cloneElement(P,G(G({},k),{},{className:Oe(I,k.className),key:P.key||"".concat(E,"-").concat(S),ticks:Gn(k,!0)}))}),ue(T,"renderPolarGrid",function(P){var E=P.props,S=E.radialLines,I=E.polarAngles,N=E.polarRadius,C=T.state,j=C.radiusAxisMap,k=C.angleAxisMap,W=Ri(j),H=Ri(k),$=H.cx,F=H.cy,M=H.innerRadius,V=H.outerRadius;return U.cloneElement(P,{polarAngles:Array.isArray(I)?I:Gn(H,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray(N)?N:Gn(W,!0).map(function(K){return K.coordinate}),cx:$,cy:F,innerRadius:M,outerRadius:V,key:P.key||"polar-grid",radialLines:S})}),ue(T,"renderLegend",function(){var P=T.state.formattedGraphicalItems,E=T.props,S=E.children,I=E.width,N=E.height,C=T.props.margin||{},j=I-(C.left||0)-(C.right||0),k=TD({children:S,formattedGraphicalItems:P,legendWidth:j,legendContent:u});if(!k)return null;var W=k.item,H=nO(k,Ohe);return U.cloneElement(W,G(G({},H),{},{chartWidth:I,chartHeight:N,margin:C,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),ue(T,"renderTooltip",function(){var P,E=T.props,S=E.children,I=E.accessibilityLayer,N=Er(S,ur);if(!N)return null;var C=T.state,j=C.isTooltipActive,k=C.activeCoordinate,W=C.activePayload,H=C.activeLabel,$=C.offset,F=(P=N.props.active)!==null&&P!==void 0?P:j;return U.cloneElement(N,{viewBox:G(G({},$),{},{x:$.left,y:$.top}),active:F,label:H,payload:F?W:[],coordinate:k,accessibilityLayer:I})}),ue(T,"renderBrush",function(P){var E=T.props,S=E.margin,I=E.data,N=T.state,C=N.offset,j=N.dataStartIndex,k=N.dataEndIndex,W=N.updateId;return U.cloneElement(P,{key:P.key||"_recharts-brush",onChange:hd(T.handleBrushChange,P.props.onChange),data:I,x:te(P.props.x)?P.props.x:C.left,y:te(P.props.y)?P.props.y:C.top+C.height+C.brushBottom-(S.bottom||0),width:te(P.props.width)?P.props.width:C.width,startIndex:j,endIndex:k,updateId:"brush-".concat(W)})}),ue(T,"renderReferenceElement",function(P,E,S){if(!P)return null;var I=T,N=I.clipPathId,C=T.state,j=C.xAxisMap,k=C.yAxisMap,W=C.offset,H=P.type.defaultProps||{},$=P.props,F=$.xAxisId,M=F===void 0?H.xAxisId:F,V=$.yAxisId,K=V===void 0?H.yAxisId:V;return U.cloneElement(P,{key:P.key||"".concat(E,"-").concat(S),xAxis:j[M],yAxis:k[K],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:N})}),ue(T,"renderActivePoints",function(P){var E=P.item,S=P.activePoint,I=P.basePoint,N=P.childIndex,C=P.isRange,j=[],k=E.props.key,W=E.item.type.defaultProps!==void 0?G(G({},E.item.type.defaultProps),E.item.props):E.item.props,H=W.activeDot,$=W.dataKey,F=G(G({index:N,dataKey:$,cx:S.x,cy:S.y,r:4,fill:bx(E.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},Te(H,!1)),jh(H));return j.push(_.renderActiveDot(H,F,"".concat(k,"-activePoint-").concat(N))),I?j.push(_.renderActiveDot(H,G(G({},F),{},{cx:I.x,cy:I.y}),"".concat(k,"-basePoint-").concat(N))):C&&j.push(null),j}),ue(T,"renderGraphicChild",function(P,E,S){var I=T.filterFormatItem(P,E,S);if(!I)return null;var N=T.getTooltipEventType(),C=T.state,j=C.isTooltipActive,k=C.tooltipAxis,W=C.activeTooltipIndex,H=C.activeLabel,$=T.props.children,F=Er($,ur),M=I.props,V=M.points,K=M.isRange,D=M.baseLine,z=I.item.type.defaultProps!==void 0?G(G({},I.item.type.defaultProps),I.item.props):I.item.props,Q=z.activeDot,se=z.hide,ve=z.activeBar,Se=z.activeShape,Ke=!!(!se&&j&&F&&(Q||ve||Se)),ct={};N!=="axis"&&F&&F.props.trigger==="click"?ct={onClick:hd(T.handleItemMouseEnter,P.props.onClick)}:N!=="axis"&&(ct={onMouseLeave:hd(T.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:hd(T.handleItemMouseEnter,P.props.onMouseEnter)});var re=U.cloneElement(P,G(G({},I.props),ct));function de(Dn){return typeof k.dataKey=="function"?k.dataKey(Dn.payload):null}if(Ke)if(W>=0){var pe,J;if(k.dataKey&&!k.allowDuplicatedCategory){var Ve=typeof k.dataKey=="function"?de:"payload.".concat(k.dataKey.toString());pe=Nh(V,Ve,H),J=K&&D&&Nh(D,Ve,H)}else pe=V==null?void 0:V[W],J=K&&D&&D[W];if(Se||ve){var be=P.props.activeIndex!==void 0?P.props.activeIndex:W;return[U.cloneElement(P,G(G(G({},I.props),ct),{},{activeIndex:be})),null,null]}if(!Ee(pe))return[re].concat(Zs(T.renderActivePoints({item:I,activePoint:pe,basePoint:J,childIndex:W,isRange:K})))}else{var Qe,rt=(Qe=T.getItemByXY(T.state.activeCoordinate))!==null&&Qe!==void 0?Qe:{graphicalItem:re},Lt=rt.graphicalItem,pn=Lt.item,Rn=pn===void 0?P:pn,bi=Lt.childIndex,mn=G(G(G({},I.props),ct),{},{activeIndex:bi});return[U.cloneElement(Rn,mn),null,null]}return K?[re,null,null]:[re,null]}),ue(T,"renderCustomized",function(P,E,S){return U.cloneElement(P,G(G({key:"recharts-customized-".concat(S)},T.props),T.state))}),ue(T,"renderMap",{CartesianGrid:{handler:vd,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:vd},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:vd},YAxis:{handler:vd},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:ff("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=SR(T.triggeredAfterMouseMove,(O=b.throttleDelay)!==null&&O!==void 0?O:1e3/60),T.state={},T}return Bhe(_,x),$he(_,[{key:"componentDidMount",value:function(){var w,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,O=w.children,T=w.data,P=w.height,E=w.layout,S=Er(O,ur);if(S){var I=S.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,C=Ib(this.state,T,I,N),j=this.state.tooltipTicks[I].coordinate,k=(this.state.offset.top+P)/2,W=E==="horizontal",H=W?{x:j,y:k}:{y:j,x:k},$=this.state.formattedGraphicalItems.find(function(M){var V=M.item;return V.type.name==="Scatter"});$&&(H=G(G({},H),$.props.points[I].tooltipPosition),C=$.props.points[I].tooltipPayload);var F={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:N,activePayload:C,activeCoordinate:H};this.setState(F),this.renderCursor(S),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var T,P;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(w){a0([Er(w.children,ur)],[Er(this.props.children,ur)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Er(this.props.children,ur);if(w&&typeof w.props.shared=="boolean"){var O=w.props.shared?"axis":"item";return s.indexOf(O)>=0?O:o}return o}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var O=this.container,T=O.getBoundingClientRect(),P=Mee(T),E={chartX:Math.round(w.pageX-P.left),chartY:Math.round(w.pageY-P.top)},S=T.width/O.offsetWidth||1,I=this.inRange(E.chartX,E.chartY,S);if(!I)return null;var N=this.state,C=N.xAxisMap,j=N.yAxisMap,k=this.getTooltipEventType(),W=oO(this.state,this.props.data,this.props.layout,I);if(k!=="axis"&&C&&j){var H=Ri(C).scale,$=Ri(j).scale,F=H&&H.invert?H.invert(E.chartX):null,M=$&&$.invert?$.invert(E.chartY):null;return G(G({},E),{},{xValue:F,yValue:M},W)}return W?G(G({},E),W):null}},{key:"inRange",value:function(w,O){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,E=w/T,S=O/T;if(P==="horizontal"||P==="vertical"){var I=this.state.offset,N=E>=I.left&&E<=I.left+I.width&&S>=I.top&&S<=I.top+I.height;return N?{x:E,y:S}:null}var C=this.state,j=C.angleAxisMap,k=C.radiusAxisMap;if(j&&k){var W=Ri(j);return FP({x:E,y:S},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,O=this.getTooltipEventType(),T=Er(w,ur),P={};T&&O==="axis"&&(T.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=jh(this.props,this.handleOuterEvent);return G(G({},E),P)}},{key:"addListener",value:function(){Ny.on(jy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ny.removeListener(jy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,O,T){for(var P=this.state.formattedGraphicalItems,E=0,S=P.length;E<S;E++){var I=P[E];if(I.item===w||I.props.key===w.key||O===Qn(I.item.type)&&T===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,O=this.state.offset,T=O.left,P=O.top,E=O.height,S=O.width;return L.createElement("defs",null,L.createElement("clipPath",{id:w},L.createElement("rect",{x:T,y:P,height:E,width:S})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(O,T){var P=rO(T,2),E=P[0],S=P[1];return G(G({},O),{},ue({},E,S.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(O,T){var P=rO(T,2),E=P[0],S=P[1];return G(G({},O),{},ue({},E,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[w])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(w){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[w])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(w){var O=this.state,T=O.formattedGraphicalItems,P=O.activeItem;if(T&&T.length)for(var E=0,S=T.length;E<S;E++){var I=T[E],N=I.props,C=I.item,j=C.type.defaultProps!==void 0?G(G({},C.type.defaultProps),C.props):C.props,k=Qn(C.type);if(k==="Bar"){var W=(N.data||[]).find(function(M){return vle(w,M)});if(W)return{graphicalItem:I,payload:W}}else if(k==="RadialBar"){var H=(N.data||[]).find(function(M){return FP(w,M)});if(H)return{graphicalItem:I,payload:H}}else if(eg(I,P)||tg(I,P)||Lc(I,P)){var $=wue({graphicalItem:I,activeTooltipItem:P,itemData:j.data}),F=j.activeIndex===void 0?$:j.activeIndex;return{graphicalItem:G(G({},I),{},{childIndex:F}),payload:Lc(I,P)?j.data[$]:I.props.data[$]}}}return null}},{key:"render",value:function(){var w=this;if(!CT(this))return null;var O=this.props,T=O.children,P=O.className,E=O.width,S=O.height,I=O.style,N=O.compact,C=O.title,j=O.desc,k=nO(O,Che),W=Te(k,!1);if(N)return L.createElement(LI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement(l0,Za({},W,{width:E,height:S,title:C,desc:j}),this.renderClipPath(),NT(T,this.renderMap)));if(this.props.accessibilityLayer){var H,$;W.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,W.role=($=this.props.role)!==null&&$!==void 0?$:"application",W.onKeyDown=function(M){w.accessibilityManager.keyboardEvent(M)},W.onFocus=function(){w.accessibilityManager.focus()}}var F=this.parseEventsOfWrapper();return L.createElement(LI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement("div",Za({className:Oe("recharts-wrapper",P),style:G({position:"relative",cursor:"default",width:E,height:S},I)},F,{ref:function(V){w.container=V}}),L.createElement(l0,Za({},W,{width:E,height:S,title:C,desc:j,style:Ghe}),this.renderClipPath(),NT(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(U.Component);ue(g,"displayName",r),ue(g,"defaultProps",G({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),ue(g,"getDerivedStateFromProps",function(x,_){var b=x.dataKey,w=x.data,O=x.children,T=x.width,P=x.height,E=x.layout,S=x.stackOffset,I=x.margin,N=_.dataStartIndex,C=_.dataEndIndex;if(_.updateId===void 0){var j=aO(x);return G(G(G({},j),{},{updateId:0},p(G(G({props:x},j),{},{updateId:0}),_)),{},{prevDataKey:b,prevData:w,prevWidth:T,prevHeight:P,prevLayout:E,prevStackOffset:S,prevMargin:I,prevChildren:O})}if(b!==_.prevDataKey||w!==_.prevData||T!==_.prevWidth||P!==_.prevHeight||E!==_.prevLayout||S!==_.prevStackOffset||!fs(I,_.prevMargin)){var k=aO(x),W={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},H=G(G({},oO(_,w,E)),{},{updateId:_.updateId+1}),$=G(G(G({},k),W),H);return G(G(G({},$),p(G({props:x},$),_)),{},{prevDataKey:b,prevData:w,prevWidth:T,prevHeight:P,prevLayout:E,prevStackOffset:S,prevMargin:I,prevChildren:O})}if(!a0(O,_.prevChildren)){var F,M,V,K,D=Er(O,zs),z=D&&(F=(M=D.props)===null||M===void 0?void 0:M.startIndex)!==null&&F!==void 0?F:N,Q=D&&(V=(K=D.props)===null||K===void 0?void 0:K.endIndex)!==null&&V!==void 0?V:C,se=z!==N||Q!==C,ve=!Ee(w),Se=ve&&!se?_.updateId:_.updateId+1;return G(G({updateId:Se},p(G(G({props:x},_),{},{updateId:Se,dataStartIndex:z,dataEndIndex:Q}),_)),{},{prevChildren:O,dataStartIndex:z,dataEndIndex:Q})}return null}),ue(g,"renderActiveDot",function(x,_,b){var w;return U.isValidElement(x)?w=U.cloneElement(x,_):ge(x)?w=x(_):w=L.createElement(wx,_),L.createElement(ut,{className:"recharts-active-dot",key:b},w)});var y=U.forwardRef(function(_,b){return L.createElement(g,Za({},_,{ref:b}))});return y.displayName=g.displayName,y},Np=$M({chartName:"LineChart",GraphicalChild:lo,axisComponents:[{axisType:"xAxis",AxisComp:di},{axisType:"yAxis",AxisComp:hi}],formatAxisMap:tM}),npe=$M({chartName:"BarChart",GraphicalChild:Ea,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:di},{axisType:"yAxis",AxisComp:hi}],formatAxisMap:tM});const ipe=t=>t>=60?{label:"Excelente",emoji:""}:t>=50?{label:"Bom",emoji:""}:t>=40?{label:"Legal",emoji:""}:t>=20?{label:"Ok",emoji:""}:{label:"Ruim",emoji:""},ope=t=>t>=70?{label:"Excelente",emoji:""}:t>=60?{label:"Muito bom",emoji:""}:t>=50?{label:"Bom",emoji:""}:t>=40?{label:"Legal",emoji:""}:{label:"Ruim",emoji:""},yn={primary:"#4682B4",warning:"#ef4444",chart:{weight:"#f59e0b"}},ha="weeklyDebriefings",ape=async(t,e)=>{try{if(console.log(" [debriefingService] Salvando debriefing para semana:",t),!t)throw new Error('Campo "weekDate"  obrigatrio');const r=await kx(t),n={weekDate:t,status:e.status||"in_progress",habitComments:e.habitComments||{},weekRating:e.weekRating||null,proudOf:e.proudOf||"",notSoGood:e.notSoGood||"",improveNext:e.improveNext||"",updatedAt:Oh()};if(r.success&&r.data){const i=vo(yr,ha,r.data.id);return await rj(i,n),console.log(" [debriefingService] Debriefing atualizado com sucesso"),{success:!0,data:{id:r.data.id,...n},message:"Debriefing atualizado com sucesso"}}else{n.createdAt=Oh();const i=await qU(sa(yr,ha),n);return console.log(" [debriefingService] Novo debriefing criado com sucesso"),{success:!0,data:{id:i.id,...n},message:"Debriefing criado com sucesso"}}}catch(r){return console.error(" [debriefingService] Erro ao salvar debriefing:",r),{success:!1,error:r.message,message:"Erro ao salvar debriefing"}}},kx=async t=>{var e,r,n,i;try{if(console.log(" [debriefingService] Buscando debriefing para semana:",t),!t)throw new Error('Campo "weekDate"  obrigatrio');const o=lf(sa(yr,ha),pw("weekDate","==",t)),a=await ks(o);if(a.empty)return console.log(" [debriefingService] Nenhum debriefing encontrado para esta semana"),{success:!0,data:null};const s=a.docs[0],l=s.data();return console.log(" [debriefingService] Debriefing encontrado"),{success:!0,data:{id:s.id,...l,createdAt:((r=(e=l.createdAt)==null?void 0:e.toDate)==null?void 0:r.call(e))||l.createdAt,updatedAt:((i=(n=l.updatedAt)==null?void 0:n.toDate)==null?void 0:i.call(n))||l.updatedAt}}}catch(o){return console.error(" [debriefingService] Erro ao buscar debriefing:",o),{success:!1,error:o.message}}},spe=async()=>{var t,e,r,n;try{console.log(" [debriefingService] Buscando ltimo debriefing finalizado...");const i=lf(sa(yr,ha),pw("status","==","completed"),vm("weekDate","desc"),YN(1)),o=await ks(i);if(o.empty)return console.log(" [debriefingService] Nenhum debriefing finalizado encontrado"),{success:!0,data:null};const a=o.docs[0],s=a.data();return console.log(" [debriefingService] ltimo debriefing finalizado encontrado"),{success:!0,data:{id:a.id,...s,createdAt:((e=(t=s.createdAt)==null?void 0:t.toDate)==null?void 0:e.call(t))||s.createdAt,updatedAt:((n=(r=s.updatedAt)==null?void 0:r.toDate)==null?void 0:n.call(r))||s.updatedAt}}}catch(i){return console.error(" [debriefingService] Erro ao buscar ltimo debriefing:",i),{success:!1,error:i.message}}},lpe=async()=>{try{console.log(" [debriefingService] Buscando todos os debriefings...");const t=lf(sa(yr,ha),vm("weekDate","desc")),e=await ks(t),r=[];return e.forEach(n=>{var o,a,s,l;const i=n.data();r.push({id:n.id,...i,createdAt:((a=(o=i.createdAt)==null?void 0:o.toDate)==null?void 0:a.call(o))||i.createdAt,updatedAt:((l=(s=i.updatedAt)==null?void 0:s.toDate)==null?void 0:l.call(s))||i.updatedAt})}),console.log(` [debriefingService] ${r.length} debriefings encontrados`),{success:!0,data:r}}catch(t){return console.error(" [debriefingService] Erro ao buscar debriefings:",t),{success:!1,error:t.message,data:[]}}},upe=async()=>{var t,e,r,n;try{console.log(" [debriefingService] Verificando debriefings em progresso...");const i=lf(sa(yr,ha),pw("status","==","in_progress"),vm("weekDate","desc"),YN(1)),o=await ks(i);if(o.empty)return console.log(" [debriefingService] Nenhum debriefing em progresso"),{success:!0,data:null};const a=o.docs[0],s=a.data();return console.log(" [debriefingService] Debriefing em progresso encontrado"),{success:!0,data:{id:a.id,...s,createdAt:((e=(t=s.createdAt)==null?void 0:t.toDate)==null?void 0:e.call(t))||s.createdAt,updatedAt:((n=(r=s.updatedAt)==null?void 0:r.toDate)==null?void 0:n.call(r))||s.updatedAt}}}catch(i){return console.error(" [debriefingService] Erro ao verificar debriefings em progresso:",i),{success:!1,error:i.message}}},cpe=async t=>{try{console.log(" [debriefingService] Finalizando debriefing para semana:",t);const e=await kx(t);if(!e.success||!e.data)throw new Error("Debriefing no encontrado para finalizar");const r=vo(yr,ha,e.data.id);return await rj(r,{status:"completed",completedAt:Oh(),updatedAt:Oh()}),console.log(" [debriefingService] Debriefing finalizado com sucesso"),{success:!0,message:"Debriefing finalizado com sucesso"}}catch(e){return console.error(" [debriefingService] Erro ao finalizar debriefing:",e),{success:!1,error:e.message}}},ms=(t=new Date)=>{const e=new Date(t),r=e.getDay(),n=r===6?0:6-r;return e.setDate(e.getDate()+n),e.toISOString().split("T")[0]},fpe=t=>{try{return new Date(t+"T00:00:00").toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return t}},dpe=({selectedWeek:t,onWeekChange:e,className:r=""})=>{const{data:n}=_m(),[i,o]=U.useState([]),[a,s]=U.useState(!1),[l,u]=U.useState(!1),c=y=>{try{const[x,_]=y.split("/");let b=new Date().getFullYear();parseInt(_)===12&&new Date().getMonth()>=0&&(b=b-1);const w=new Date(b,parseInt(_)-1,parseInt(x));return console.log(` [WeekSelector] Convertendo ${y} -> ${w.toISOString().split("T")[0]} (ano ${b})`),ms(w)}catch(x){return console.warn(" [WeekSelector] Erro ao converter semana:",y,x),null}},d=async()=>{s(!0);try{const y=await lpe(),x=y.success?y.data:[],_=(n==null?void 0:n.weeklyCompletionData)||[],b=[];_.forEach(T=>{const P=c(T.semana);if(P){const E=x.find(S=>S.weekDate===P);b.push({weekDate:P,displayName:T.semana,hasData:!0,hasDebriefing:!!E,debriefingStatus:(E==null?void 0:E.status)||null,rawDate:new Date(P)})}});const w=ms();if(!b.find(T=>T.weekDate===w)){const T=x.find(P=>P.weekDate===w);b.push({weekDate:w,displayName:h(w),hasData:!1,hasDebriefing:!!T,debriefingStatus:(T==null?void 0:T.status)||null,rawDate:new Date(w)})}b.sort((T,P)=>P.rawDate-T.rawDate),console.log(" [WeekSelector] Semanas ordenadas:",b.map(T=>`${T.displayName} (${T.weekDate})`)),o(b),console.log(" [WeekSelector] Semanas carregadas:",b.length)}catch(y){console.error(" [WeekSelector] Erro ao carregar semanas:",y)}finally{s(!1)}},h=y=>{try{return new Date(y+"T00:00:00").toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})}catch{return y}};U.useEffect(()=>{n&&d()},[n]);const p=i.find(y=>y.weekDate===t),g=y=>{const x=y.weekDate===t;return m.jsxs("div",{onClick:()=>{e(y.weekDate),u(!1)},className:`px-4 py-3 cursor-pointer hover:bg-blue-50 flex items-center justify-between ${x?"bg-blue-100 text-blue-800":"text-gray-700"}`,children:[m.jsxs("div",{children:[m.jsxs("span",{className:"font-medium",children:["Semana ",y.displayName]}),!y.hasData&&m.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(sem dados)"})]}),m.jsx("div",{className:"flex items-center gap-2",children:y.hasDebriefing&&m.jsx("span",{className:`text-xs px-2 py-1 rounded ${y.debriefingStatus==="completed"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:y.debriefingStatus==="completed"?"Finalizado":"Em progresso"})})]},y.weekDate)};return m.jsxs("div",{className:`relative ${r}`,children:[m.jsxs("button",{onClick:()=>u(!l),disabled:a,className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-3 flex items-center justify-between hover:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(bm,{size:18,className:"text-gray-500"}),m.jsx("span",{className:"text-gray-700",children:a?"Carregando...":p?`Semana ${p.displayName}`:"Selecionar semana"})]}),m.jsx(JU,{size:18,className:`text-gray-500 transition-transform ${l?"rotate-180":""}`})]}),l&&!a&&m.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:i.length===0?m.jsx("div",{className:"px-4 py-3 text-gray-500 text-center",children:"Nenhuma semana disponvel"}):i.map(g)}),l&&m.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>u(!1)})]})},LM=({isOpen:t,onClose:e})=>{const{data:r}=_m(),[n,i]=U.useState(1),[o,a]=U.useState(""),[s,l]=U.useState({habitComments:{},weekRating:null,proudOf:"",notSoGood:"",improveNext:""}),[u,c]=U.useState("idle"),[d,h]=U.useState(null),[p,g]=U.useState(!1),y=[{key:"meditar",label:" Meditar",description:"Meditao ou mindfulness"},{key:"medicar",label:" Medicar",description:"Tomar medicamentos"},{key:"exercitar",label:" Exercitar",description:"Atividade fsica"},{key:"comunicar",label:" Comunicar",description:"Comunicao importante"},{key:"alimentar",label:" Alimentar",description:"Alimentao saudvel"},{key:"estudar",label:" Estudar",description:"Estudos ou aprendizado"},{key:"descansar",label:" Descansar",description:"Descanso adequado"}],x=()=>{const $=new Date;if($.getDay()===6){const M=ms($);return console.log(" [WeeklyDebriefing]  sbado! Usando semana atual:",M),M}else{const M=new Date($);M.setDate($.getDate()-7);const V=ms(M);return console.log(" [WeeklyDebriefing] No  sbado! Usando semana anterior:",V),V}},_=()=>{if(!r||!o)return{completudeData:[],weightData:[],currentWeek:null,last4Weeks:[]};const $=r.weeklyCompletionData,F=r.weightData,M=$.findIndex(Se=>b(Se.semana)===o);if(M===-1)return{completudeData:[],weightData:[],currentWeek:null,last4Weeks:[]};const V=Math.max(0,M-4),K=M+1,D=$.slice(V,K),z=D[D.length-1],Q=D.slice(0,-1),se=D.map((Se,Ke)=>({semana:Se.semana,completude:Se.completude,isCurrentWeek:Ke===D.length-1})),ve=D.map((Se,Ke)=>{const ct=F.find(re=>re.semana===Se.semana);return{semana:Se.semana,peso:(ct==null?void 0:ct.peso)||null,isCurrentWeek:Ke===D.length-1}}).filter(Se=>Se.peso!==null);return{completudeData:se,weightData:ve,currentWeek:z,last4Weeks:Q}},b=$=>{try{const[F,M]=$.split("/");let V=new Date().getFullYear();parseInt(M)===12&&new Date().getMonth()>=0&&(V=V-1);const K=new Date(V,parseInt(M)-1,parseInt(F));return ms(K)}catch{return null}},w=$=>{var Q;if(!r||!o)return{current:0,average:0,classification:null};const F=((Q=r.habitDataByType[$])==null?void 0:Q.data)||[],M=F.find(se=>b(se.semana)===o),V=(M==null?void 0:M.valor)||0,K=F.findIndex(se=>b(se.semana)===o);let D=0;if(K>0){const se=Math.max(0,K-4),ve=F.slice(se,K);D=ve.reduce((Se,Ke)=>Se+Ke.valor,0)/ve.length}const z=ipe(V);return{current:V,average:D,classification:z}},O=U.useCallback(async $=>{if(!(!o||!p))try{c("saving"),console.log(" [WeeklyDebriefing] Auto-salvando...",o),(await ape(o,$)).success?(c("saved"),setTimeout(()=>c("idle"),2e3)):(c("error"),setTimeout(()=>c("idle"),3e3))}catch(F){c("error"),console.error(" [WeeklyDebriefing] Erro no auto-save:",F),setTimeout(()=>c("idle"),3e3)}},[o,p]),T=U.useCallback($=>{d&&clearTimeout(d);const F=setTimeout(()=>{O($)},1500);h(F)},[d,O]),P=($,F,M=null)=>{let V;M?V={...s,habitComments:{...s.habitComments,[M]:F}}:V={...s,[$]:F},l(V),T(V)},E=U.useCallback(async $=>{try{console.log(" [WeeklyDebriefing] Carregando dados para semana:",$);const F=await kx($);if(F.success&&F.data){const M=F.data;l({habitComments:M.habitComments||{},weekRating:M.weekRating||null,proudOf:M.proudOf||"",notSoGood:M.notSoGood||"",improveNext:M.improveNext||""}),console.log(" [WeeklyDebriefing] Dados carregados")}else l({habitComments:{},weekRating:null,proudOf:"",notSoGood:"",improveNext:""}),console.log(" [WeeklyDebriefing] Nova semana, formulrio resetado");g(!0)}catch(F){console.error(" [WeeklyDebriefing] Erro ao carregar dados:",F),g(!0)}},[]),S=async()=>{try{await O({...s,status:"completed"});const $=await cpe(o);$.success?(alert(" Debriefing finalizado com sucesso!"),e()):alert(" Erro ao finalizar debriefing: "+$.error)}catch($){console.error(" [WeeklyDebriefing] Erro ao finalizar:",$),alert(" Erro inesperado ao finalizar debriefing")}},I=$=>{$>=1&&$<=3&&i($)};U.useEffect(()=>{if(t){const $=x();a($),i(1),g(!1)}},[t]),U.useEffect(()=>{o&&t&&E(o)},[o,t,E]),U.useEffect(()=>()=>{d&&clearTimeout(d)},[d]);const N=()=>{d&&clearTimeout(d),i(1),a(""),l({habitComments:{},weekRating:null,proudOf:"",notSoGood:"",improveNext:""}),g(!1),c("idle"),e()},C=()=>{const F={idle:{icon:null,text:"",color:""},saving:{icon:m.jsx(_w,{size:16,className:"animate-spin"}),text:"Salvando...",color:"text-blue-600"},saved:{icon:m.jsx(t0,{size:16}),text:"Salvo automaticamente",color:"text-green-600"},error:{icon:m.jsx(ij,{size:16}),text:"Erro ao salvar",color:"text-red-600"}}[u];return u==="idle"?null:m.jsxs("div",{className:`flex items-center gap-2 text-sm ${F.color} bg-white px-3 py-1 rounded-full shadow-sm border`,children:[F.icon,m.jsx("span",{children:F.text})]})};if(!t)return null;const{completudeData:j,weightData:k,currentWeek:W,last4Weeks:H}=_();return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[m.jsxs("div",{className:"flex justify-between items-center p-6 border-b bg-gradient-to-r from-purple-50 to-blue-50",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:" Debriefing da Semana"}),m.jsx("div",{className:"max-w-xs",children:m.jsx(dpe,{selectedWeek:o,onWeekChange:a})})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(C,{}),m.jsx("button",{onClick:N,className:"text-gray-500 hover:text-gray-700 p-2 rounded-full hover:bg-gray-100",children:m.jsx(n0,{size:24})})]})]}),m.jsxs("div",{className:"p-6",children:[n===1&&m.jsxs("div",{className:"space-y-6",children:[m.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:" Viso Geral da Semana"}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[m.jsx("h4",{className:"text-lg font-semibold text-blue-800 mb-4",children:"Completude de Hbitos"}),j.length>0?m.jsx("div",{className:"h-64",children:m.jsx(pc,{width:"100%",height:"100%",children:m.jsxs(Np,{data:j,children:[m.jsx(di,{dataKey:"semana",fontSize:12}),m.jsx(hi,{domain:[0,100],fontSize:12}),m.jsx(ur,{formatter:$=>[`${$}%`,"Completude"]}),m.jsx(lo,{type:"monotone",dataKey:"completude",stroke:yn.primary,strokeWidth:3,dot:$=>{var M,V;const F=(V=j[(M=$.payload)==null?void 0:M.index])==null?void 0:V.isCurrentWeek;return m.jsx("circle",{cx:$.cx,cy:$.cy,r:F?8:5,fill:F?yn.warning:yn.primary,stroke:F?yn.warning:yn.primary,strokeWidth:2})}})]})})}):m.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"Dados insuficientes"}),W&&H.length>0&&m.jsx("div",{className:"mt-4 p-3 bg-blue-100 rounded border-l-4 border-blue-500",children:m.jsxs("p",{className:"text-sm text-blue-800",children:[m.jsx("strong",{children:"Anlise:"})," ",(()=>{const $=W.completude,F=H.reduce((K,D)=>K+D.completude,0)/H.length,M=ope($),V=$-F;return V>5?`Excelente! ${M.emoji} Melhora significativa de ${V.toFixed(1)}pp.`:V>0?`Progresso! ${M.emoji} Leve melhora de ${V.toFixed(1)}pp.`:V<-5?`Semana desafiadora. ${M.emoji} Queda de ${Math.abs(V).toFixed(1)}pp.`:`Performance estvel. ${M.emoji} Variao de ${V.toFixed(1)}pp.`})()]})})]}),m.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[m.jsx("h4",{className:"text-lg font-semibold text-orange-800 mb-4",children:"Evoluo do Peso"}),k.length>0?m.jsx("div",{className:"h-64",children:m.jsx(pc,{width:"100%",height:"100%",children:m.jsxs(Np,{data:k,children:[m.jsx(di,{dataKey:"semana",fontSize:12}),m.jsx(hi,{domain:[80,90],fontSize:12}),m.jsx(ur,{formatter:$=>[`${$}kg`,"Peso"]}),m.jsx(lo,{type:"monotone",dataKey:"peso",stroke:yn.chart.weight,strokeWidth:3,dot:$=>{var M,V;const F=(V=k[(M=$.payload)==null?void 0:M.index])==null?void 0:V.isCurrentWeek;return m.jsx("circle",{cx:$.cx,cy:$.cy,r:F?8:5,fill:F?yn.warning:yn.chart.weight,stroke:F?yn.warning:yn.chart.weight,strokeWidth:2})}})]})})}):m.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"Dados de peso insuficientes"}),k.length>=2&&m.jsx("div",{className:"mt-4 p-3 bg-orange-100 rounded border-l-4 border-orange-500",children:m.jsxs("p",{className:"text-sm text-orange-800",children:[m.jsx("strong",{children:"Anlise:"})," ",(()=>{const $=k[k.length-1].peso,F=k.slice(0,-1),M=F.reduce((K,D)=>K+D.peso,0)/F.length,V=$-M;return V<-.5?` Reduo de ${Math.abs(V).toFixed(1)}kg! Tendncia positiva.`:V>.5?` Aumento de ${V.toFixed(1)}kg. Variao normal.`:` Peso estvel (${Math.abs(V).toFixed(1)}kg de variao).`})()]})})]})]})]}),n===2&&m.jsxs("div",{className:"space-y-6",children:[m.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:" Anlise por Hbito"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:y.map($=>{var M,V,K;const F=w($.key);return m.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("h4",{className:"font-semibold text-gray-800",children:$.label}),m.jsxs("div",{className:"text-right",children:[m.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[F.current,"%"]}),m.jsx("span",{className:"text-sm text-gray-500 ml-1",children:(M=F.classification)==null?void 0:M.emoji})]})]}),m.jsxs("div",{className:"mb-3 p-2 bg-white rounded border text-sm",children:[m.jsx("strong",{children:"Status:"})," ",((V=F.classification)==null?void 0:V.label)||"N/A"," ",(K=F.classification)==null?void 0:K.emoji,F.average>0&&m.jsxs(m.Fragment,{children:[m.jsx("br",{}),m.jsx("strong",{children:"vs Mdia anterior:"})," ",F.current>F.average+5?" Muito melhor":F.current>F.average?" Melhor":F.current<F.average-5?" Abaixo":" Similar"," (",F.average.toFixed(1),"%)"]})]}),m.jsx("textarea",{value:s.habitComments[$.key]||"",onChange:D=>P("habitComments",D.target.value,$.key),placeholder:`Como foi ${$.label.toLowerCase()} nesta semana?`,className:"w-full p-2 border border-gray-300 rounded text-sm resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]},$.key)})})]}),n===3&&m.jsxs("div",{className:"space-y-6",children:[m.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:" Reflexo Final"}),m.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-6 border",children:[m.jsxs("h4",{className:"font-semibold text-gray-800 mb-6 flex items-center justify-center gap-2 text-xl",children:[m.jsx(oj,{className:"text-yellow-500",size:24}),"Que nota voc d para esta semana?"]}),m.jsx("div",{className:"hidden md:flex items-center justify-center gap-4",children:[{rating:1,emoji:"",label:"Muito ruim"},{rating:2,emoji:"",label:"Ruim"},{rating:3,emoji:"",label:"Satisfatrio"},{rating:4,emoji:"",label:"Bom"},{rating:5,emoji:"",label:"Muito bom!"}].map($=>m.jsxs("button",{onClick:()=>P("weekRating",$.rating),className:`flex flex-col items-center p-4 rounded-2xl border-2 transition-all duration-200 min-w-[100px] ${s.weekRating===$.rating?"bg-purple-100 border-purple-500 scale-105 shadow-lg":"bg-white border-gray-300 hover:border-purple-300 hover:bg-purple-50"}`,children:[m.jsx("div",{className:"text-4xl mb-2",children:$.emoji}),m.jsx("div",{className:"text-sm font-medium text-gray-700 text-center",children:$.label}),m.jsx("div",{className:"text-lg font-bold text-purple-600 mt-1",children:$.rating})]},$.rating))}),m.jsx("div",{className:"flex md:hidden items-center justify-center gap-4",children:[{rating:1,emoji:""},{rating:2,emoji:""},{rating:3,emoji:""},{rating:4,emoji:""},{rating:5,emoji:""}].map($=>m.jsx("button",{onClick:()=>P("weekRating",$.rating),className:`flex items-center justify-center rounded-full transition-all duration-200 w-16 h-16 ${s.weekRating===$.rating?"bg-purple-200 scale-110 shadow-lg":"bg-gray-100 hover:bg-purple-100"}`,children:m.jsx("div",{className:"text-3xl",children:$.emoji})},$.rating))})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold text-gray-800 mb-2",children:" O que me orgulho dessa semana?"}),m.jsx("textarea",{value:s.proudOf,onChange:$=>P("proudOf",$.target.value),placeholder:"Conquistas, vitrias, momentos especiais...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none",rows:3})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold text-gray-800 mb-2",children:" O que no foi to bom essa semana?"}),m.jsx("textarea",{value:s.notSoGood,onChange:$=>P("notSoGood",$.target.value),placeholder:"Desafios, dificuldades, o que poderia ter sido melhor...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none",rows:3})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold text-gray-800 mb-2",children:" O que quero melhorar para a semana seguinte?"}),m.jsx("textarea",{value:s.improveNext,onChange:$=>P("improveNext",$.target.value),placeholder:"Ajustes, metas, focos para a prxima semana...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none",rows:3})]})]}),m.jsx("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-semibold text-green-800",children:"Finalizar Debriefing"}),m.jsx("p",{className:"text-green-700 text-sm",children:"Marcar como completo e salvar todas as reflexes"})]}),m.jsxs("button",{onClick:S,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[m.jsx(t0,{size:20}),"Finalizar"]})]})})]})]}),m.jsxs("div",{className:"flex justify-between items-center p-6 border-t bg-gray-50",children:[m.jsxs("button",{onClick:()=>I(n-1),disabled:n===1,className:"flex items-center gap-2 px-4 py-2 text-gray-600 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[m.jsx(ZU,{size:20}),m.jsx("span",{className:"hidden sm:inline",children:"Anterior"})]}),m.jsxs("span",{className:"text-gray-600 font-medium",children:[m.jsxs("span",{className:"hidden sm:inline",children:["Pgina ",n," de 3"]}),m.jsxs("span",{className:"sm:hidden",children:[n,"/3"]})]}),m.jsxs("button",{onClick:()=>I(n+1),disabled:n===3,className:"flex items-center gap-2 px-4 py-2 text-white bg-purple-600 border border-purple-600 rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[m.jsx("span",{className:"hidden sm:inline",children:"Prximo"}),m.jsx(e9,{size:20})]})]})]})})},Dy=({data:t,isExpanded:e,onToggle:r})=>{const[n,i]=U.useState({}),[o,a]=U.useState(!0),s=[{key:"meditar",label:"",name:"Meditar"},{key:"medicar",label:"",name:"Medicar"},{key:"exercitar",label:"",name:"Exercitar"},{key:"comunicar",label:"",name:"Comunicar"},{key:"alimentar",label:"",name:"Alimentar"},{key:"estudar",label:"",name:"Estudar"},{key:"descansar",label:"",name:"Descansar"}],l={ansioso:"",normal:"",produtivo:""},u=()=>{const h=new Date,p=-3,g=h.getTime()+h.getTimezoneOffset()*6e4,y=new Date(g+p*36e5),x=y.getDay(),_=[],b=new Date(y);b.setDate(y.getDate()-x);for(let w=0;w<=x;w++){const O=new Date(b);O.setDate(b.getDate()+w);const T=O.toISOString().split("T")[0],P=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"][w];_.push({date:T,dayName:P,dayNumber:O.getDate(),isToday:T===y.toISOString().split("T")[0]})}return _},c=async()=>{a(!0);try{const h=u(),p={};for(const g of h)try{const y=await lj(g.date);y.success&&y.data?p[g.date]={...y.data,dayInfo:g,hasData:!0}:p[g.date]={dayInfo:g,hasData:!1}}catch{p[g.date]={dayInfo:g,hasData:!1}}i(p)}catch(h){console.error("Erro ao carregar dados da semana:",h)}finally{a(!1)}};U.useEffect(()=>{c()},[]);const d=Object.values(n).sort((h,p)=>h.dayInfo.date.localeCompare(p.dayInfo.date));return o?m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 mb-6 overflow-hidden",children:m.jsxs("div",{className:"flex items-center justify-center py-8",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),m.jsx("span",{className:"ml-2 text-gray-600",children:"Carregando semana atual..."})]})}):d.length===0?m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 mb-6 overflow-hidden",children:m.jsxs("div",{className:"text-center text-gray-500 p-6",children:[m.jsx(bm,{className:"w-8 h-8 mx-auto mb-2"}),m.jsx("p",{className:"font-medium",children:"Nenhum dia da semana atual disponvel"})]})}):m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 mb-6 overflow-hidden",children:m.jsx("div",{className:"p-3 sm:p-6 overflow-x-auto",children:m.jsx("div",{className:"min-w-0 w-full",children:m.jsxs("table",{className:"w-full table-auto",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{className:"w-24 sm:w-32 text-left py-3 px-2 sm:py-4 sm:px-3"}),d.map(h=>m.jsx("th",{className:"w-14 sm:w-18 text-center py-3 px-1",children:m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("span",{className:"text-sm font-medium text-gray-600",children:h.dayInfo.dayName}),m.jsx("span",{className:`text-lg font-bold ${h.dayInfo.isToday?"text-blue-600":"text-gray-700"}`,children:h.dayInfo.dayNumber})]})},h.dayInfo.date))]})}),m.jsxs("tbody",{children:[m.jsxs("tr",{children:[m.jsx("td",{className:"py-3 px-2 sm:py-4 sm:px-3 font-medium text-gray-700",children:m.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m.jsx("span",{className:"text-2xl sm:text-3xl",children:""}),m.jsx("span",{className:"text-base sm:text-lg font-medium",children:"Peso"})]})}),d.map(h=>m.jsx("td",{className:"text-center py-3 px-1",children:h.peso?m.jsxs("span",{className:"text-sm font-medium text-gray-800 bg-blue-50 px-2 py-1 rounded",children:[h.peso,"kg"]}):m.jsx("span",{className:"text-gray-300 text-lg",children:"-"})},h.dayInfo.date))]}),s.map(h=>m.jsxs("tr",{className:"hover:bg-gray-50",children:[m.jsx("td",{className:"py-3 px-2 sm:py-4 sm:px-3 font-medium text-gray-700",children:m.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m.jsx("span",{className:"text-2xl sm:text-3xl",children:h.label}),m.jsx("span",{className:"text-base sm:text-lg font-medium",children:h.name})]})}),d.map(p=>m.jsx("td",{className:"text-center py-3 px-1",children:p[h.key]?m.jsx("div",{className:"w-6 h-6 sm:w-7 sm:h-7 bg-green-500 rounded-full flex items-center justify-center mx-auto",children:m.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}):m.jsx("div",{className:"w-6 h-6 sm:w-7 sm:h-7 bg-gray-100 rounded-full mx-auto"})},p.dayInfo.date))]},h.key)),m.jsxs("tr",{children:[m.jsx("td",{className:"py-3 px-2 sm:py-4 sm:px-3 font-medium text-gray-700",children:m.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m.jsx("span",{className:"text-2xl sm:text-3xl",children:""}),m.jsx("span",{className:"text-base sm:text-lg font-medium",children:"Sentimento"})]})}),d.map(h=>m.jsx("td",{className:"text-center py-3 px-1",children:h.sentimento&&l[h.sentimento]?m.jsx("span",{className:"text-xl sm:text-2xl",children:l[h.sentimento]}):m.jsx("span",{className:"text-gray-300 text-lg",children:"-"})},h.dayInfo.date))]})]})]})})})})},lO=({data:t,isExpanded:e,onToggle:r})=>{if(!t)return m.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:m.jsxs("div",{className:"text-center text-gray-500",children:[m.jsx(Bo,{className:"w-8 h-8 mx-auto mb-2"}),m.jsx("p",{children:"Dados no disponveis"})]})});const{weeklyCompletionData:n=[],weightData:i=[]}=t,o=()=>{if(!n||n.length===0)return{avgGeral:0,percentActive:0,avgActive:0};const c=n.length,d=n.reduce((_,b)=>_+(b.completude||0),0),h=c>0?d/c:0,p=n.filter(_=>(_.completude||0)>0),g=c>0?p.length/c*100:0,y=p.reduce((_,b)=>_+(b.completude||0),0),x=p.length>0?y/p.length:0;return{avgGeral:Number(h.toFixed(1)),percentActive:Number(g.toFixed(1)),avgActive:Number(x.toFixed(1))}},a=()=>{if(!i||i.length<2)return{trend:0,firstWeight:0,lastWeight:0,hasData:!1};const c=i[0].peso||0,d=i[i.length-1].peso||0,h=d-c;return{trend:Number(h.toFixed(1)),firstWeight:Number(c.toFixed(1)),lastWeight:Number(d.toFixed(1)),hasData:!0}},s=o(),l=a(),u=()=>{r&&r()};return m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 mb-6 overflow-hidden",children:[m.jsx("div",{className:"p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 transition-colors",onClick:u,children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[m.jsx(Bo,{className:"text-green-600"}),"Evoluo Geral (Completude e Peso)"]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{className:"text-sm text-gray-500",children:[n.length," semanas"]}),m.jsx(Bo,{className:`w-5 h-5 text-gray-400 transform transition-transform ${e?"rotate-180":""}`})]})]})}),e&&m.jsx("div",{className:"p-4 overflow-hidden",children:m.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-white min-w-0",children:[m.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[m.jsx(Bo,{className:"text-green-600"})," Evoluo da Completude"]}),m.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[m.jsxs("div",{className:"text-center",children:[m.jsxs("div",{className:"text-lg font-bold text-[#4682B4]",children:[s.avgGeral,"%"]}),m.jsx("div",{className:"text-xs text-gray-600",children:"Mdia Geral"})]}),m.jsxs("div",{className:"text-center",children:[m.jsxs("div",{className:"text-lg font-bold text-green-600",children:[s.percentActive,"%"]}),m.jsx("div",{className:"text-xs text-gray-600",children:"% Semanas Ativas"})]}),m.jsxs("div",{className:"text-center",children:[m.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[s.avgActive,"%"]}),m.jsx("div",{className:"text-xs text-gray-600",children:"Mdia Ativas"})]})]}),n.length>0?m.jsx("div",{className:"h-48",children:m.jsx(pc,{width:"100%",height:"100%",children:m.jsxs(Np,{data:n,children:[m.jsx(Pp,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),m.jsx(di,{dataKey:"semana",fontSize:11,stroke:"#6b7280"}),m.jsx(hi,{fontSize:11,stroke:"#6b7280",domain:[0,100]}),m.jsx(ur,{formatter:c=>[`${c}%`,"Completude"],labelStyle:{color:"#374151"},contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"12px"}}),m.jsx(lo,{type:"monotone",dataKey:"completude",stroke:"#4682B4",strokeWidth:2,dot:{fill:"#4682B4",strokeWidth:2,r:3},activeDot:{r:5,stroke:"#4682B4",strokeWidth:2}})]})})}):m.jsx("div",{className:"h-48 flex items-center justify-center text-gray-500 text-sm",children:"Adicione dados de hbitos para ver o grfico"})]}),m.jsxs("div",{className:"bg-white min-w-0",children:[m.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[m.jsx(aj,{className:"text-orange-600"})," Evoluo do Peso"]}),l.hasData?m.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[m.jsxs("div",{className:"text-center",children:[m.jsxs("div",{className:"text-lg font-bold text-orange-600",children:[l.trend>0?"+":"",l.trend,"kg"]}),m.jsx("div",{className:"text-xs text-gray-600",children:"Variao Total"})]}),m.jsxs("div",{className:"text-center",children:[m.jsxs("div",{className:"text-lg font-bold text-gray-600",children:[l.firstWeight,"kg"]}),m.jsx("div",{className:"text-xs text-gray-600",children:"Peso Inicial"})]}),m.jsxs("div",{className:"text-center",children:[m.jsxs("div",{className:"text-lg font-bold text-gray-600",children:[l.lastWeight,"kg"]}),m.jsx("div",{className:"text-xs text-gray-600",children:"Peso Atual"})]})]}):m.jsx("div",{className:"text-center mb-4 text-gray-500 text-sm",children:m.jsx("p",{children:"Adicione dados de peso para ver a evoluo"})}),i.length>0?m.jsx("div",{className:"h-48",children:m.jsx(pc,{width:"100%",height:"100%",children:m.jsxs(Np,{data:i,children:[m.jsx(Pp,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),m.jsx(di,{dataKey:"semana",fontSize:11,stroke:"#6b7280"}),m.jsx(hi,{fontSize:11,stroke:"#6b7280",domain:[75,90]}),m.jsx(ur,{formatter:c=>[`${c}kg`,"Peso"],labelStyle:{color:"#374151"},contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"12px"}}),m.jsx(lo,{type:"monotone",dataKey:"peso",stroke:"#f59e0b",strokeWidth:2,dot:{fill:"#f59e0b",strokeWidth:2,r:3},activeDot:{r:5,stroke:"#f59e0b",strokeWidth:2}})]})})}):m.jsx("div",{className:"h-48 flex items-center justify-center text-gray-500 text-sm",children:"Adicione dados de peso para ver o grfico"})]})]})})]})},uO=({data:t,isExpanded:e,onToggle:r})=>{var p,g,y,x;const[n,i]=U.useState(!1),[o,a]=U.useState(null),[s,l]=U.useState(!0),u=async()=>{try{l(!0);const _=await spe();_.success&&_.data?a(_.data):a(null)}catch(_){console.error("Erro ao carregar ltimo debriefing:",_),a(null)}finally{l(!1)}};U.useEffect(()=>{u()},[]);const c=_=>{try{return new Date(_+"T00:00:00").toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})}catch{return _}},d=_=>m.jsxs("div",{className:"flex items-center",children:[[1,2,3,4,5].map(b=>m.jsx(oj,{size:16,className:b<=_?"text-yellow-500 fill-current":"text-gray-300"},b)),m.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["(",_,"/5)"]})]}),h=_=>({1:"Muito ruim",2:"Ruim",3:"Satisfatrio",4:"Bom",5:"Muito bom!"})[_]||"";return m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"flex justify-center mb-6",children:m.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-3 bg-purple-600 text-white px-8 py-4 rounded-lg hover:bg-purple-700 transition-colors text-lg font-medium",children:[m.jsx(cs,{className:"w-6 h-6"}),"Debriefing da Semana"]})}),m.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[m.jsxs("div",{className:"flex justify-between items-start mb-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:" ltimo Debriefing Finalizado"}),m.jsx("p",{className:"text-gray-600",children:"Reflexo da ltima semana finalizada com debriefing completo"})]}),m.jsx("button",{onClick:u,disabled:s,className:"px-3 py-1 bg-purple-100 text-purple-700 rounded text-sm hover:bg-purple-200 disabled:opacity-50",children:s?"Carregando...":"Recarregar"})]}),s?m.jsxs("div",{className:"flex items-center justify-center py-8",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),m.jsx("span",{className:"ml-2 text-gray-600",children:"Carregando debriefing..."})]}):o?m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-4 border border-purple-200",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg font-semibold text-purple-800",children:" Debriefing da Semana"}),m.jsx("p",{className:"text-purple-600",children:c(o.weekDate)})]}),o.weekRating&&m.jsxs("div",{className:"text-right",children:[m.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Avaliao da semana"}),d(o.weekRating),m.jsx("div",{className:"text-sm font-medium text-purple-700 mt-1",children:h(o.weekRating)})]})]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.proudOf&&m.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[m.jsxs("h4",{className:"font-semibold text-green-800 mb-2 flex items-center gap-2",children:[m.jsx(Bo,{size:16}),"Me orgulho de..."]}),m.jsx("p",{className:"text-green-700 text-sm whitespace-pre-wrap",children:o.proudOf})]}),o.notSoGood&&m.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:[m.jsxs("h4",{className:"font-semibold text-orange-800 mb-2 flex items-center gap-2",children:[m.jsx(a9,{size:16}),"Pontos de ateno"]}),m.jsx("p",{className:"text-orange-700 text-sm whitespace-pre-wrap",children:o.notSoGood})]}),o.improveNext&&m.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[m.jsxs("h4",{className:"font-semibold text-blue-800 mb-2 flex items-center gap-2",children:[m.jsx(aj,{size:16}),"Foco para prxima semana"]}),m.jsx("p",{className:"text-blue-700 text-sm whitespace-pre-wrap",children:o.improveNext})]})]}),o.habitComments&&Object.keys(o.habitComments).length>0&&m.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border",children:[m.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:" Reflexes por Hbito"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(o.habitComments).map(([_,b])=>{if(!b||b.trim()==="")return null;const w={meditar:" Meditar",medicar:" Medicar",exercitar:" Exercitar",comunicar:" Comunicar",alimentar:" Alimentar",estudar:" Estudar",descansar:" Descansar"};return m.jsxs("div",{className:"bg-white rounded p-3 border border-gray-200",children:[m.jsx("h5",{className:"font-medium text-gray-800 mb-1",children:w[_]||_}),m.jsx("p",{className:"text-gray-600 text-sm",children:b})]},_)})})]}),m.jsx("div",{className:"border-t pt-4",children:m.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(_w,{size:14}),"Finalizado em: ",o.completedAt?new Date(o.completedAt).toLocaleDateString("pt-BR"):new Date(o.updatedAt).toLocaleDateString("pt-BR")]}),m.jsxs("span",{children:["Semana: ",fpe(o.weekDate)]})]})})]}):m.jsxs("div",{className:"text-center py-8 text-gray-500",children:[m.jsx(bm,{size:48,className:"mx-auto mb-4 opacity-50"}),m.jsx("p",{className:"font-medium",children:"Nenhum debriefing finalizado ainda"}),m.jsx("p",{className:"text-sm",children:"Complete seu primeiro debriefing semanal para ver as reflexes aqui"})]})]}),t&&m.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[m.jsx("h4",{className:"font-semibold text-purple-800 mb-2",children:"Debug - Dados Disponveis:"}),m.jsxs("div",{className:"text-sm text-purple-700",children:[m.jsxs("p",{children:["Semanas totais: ",((p=t.analysisInfo)==null?void 0:p.totalWeeks)||0]}),m.jsxs("p",{children:["Perodo: ",(g=t.analysisInfo)==null?void 0:g.startDate," at ",(y=t.analysisInfo)==null?void 0:y.endDate]}),m.jsxs("p",{children:["Hbitos: ",((x=t.habitsList)==null?void 0:x.length)||0]})]})]}),n&&m.jsx(LM,{isOpen:n,onClose:()=>i(!1)})]})},cO=({data:t,isExpanded:e,onToggle:r})=>{if(!t)return m.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:m.jsxs("div",{className:"text-center text-gray-500",children:[m.jsx(cs,{className:"w-8 h-8 mx-auto mb-2"}),m.jsx("p",{children:"Dados no disponveis"})]})});const{habitDataByType:n={},habitsList:i=[]}=t,o=s=>{if(!s||s.length===0)return{avgGeral:0,percentActive:0,avgActive:0,classification:"Sem dados"};const l=s.length,u=s.reduce((x,_)=>x+(_.valor||0),0),c=l>0?u/l:0,d=s.filter(x=>(x.valor||0)>0),h=l>0?d.length/l*100:0,p=d.reduce((x,_)=>x+(_.valor||0),0),g=d.length>0?p/d.length:0;let y="";return c>=60?y=" Excelente":c>=50?y=" Bom":c>=40?y=" Legal":c>=20?y=" Ok":y=" Ruim",{avgGeral:Number(c.toFixed(1)),percentActive:Number(h.toFixed(1)),avgActive:Number(g.toFixed(1)),classification:y}},a=()=>{r&&r()};return m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 mb-6",children:[m.jsx("div",{className:"p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 transition-colors",onClick:a,children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[m.jsx(cs,{className:"text-purple-600"}),"Performance por Hbito Individual"]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{className:"text-sm text-gray-500",children:[i.length," hbitos"]}),m.jsx(cs,{className:`w-5 h-5 text-gray-400 transform transition-transform ${e?"rotate-180":""}`})]})]})}),e&&m.jsx("div",{className:"p-4",children:m.jsx("div",{className:"grid gap-4",children:i.map((s,l)=>{const u=n[s];if(!u||!u.data)return m.jsx("div",{className:"border-l-4 border-gray-300 pl-3",children:m.jsxs("h3",{className:"text-lg font-medium text-gray-500 capitalize",children:[s," - Sem dados"]})},s);const c=o(u.data),d=["#4682B4","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16"],h=d[l%d.length];return m.jsxs("div",{className:"border-l-4 border-gray-300 pl-3",children:[m.jsxs("div",{className:"flex justify-between items-center mb-2",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-700 capitalize",children:u.habit||s}),m.jsx("div",{className:"text-right",children:m.jsxs("div",{className:"grid grid-cols-1 gap-1 text-xs",children:[m.jsxs("div",{className:"text-gray-600",children:[m.jsx("span",{className:"font-semibold",children:"Mdia Geral:"})," ",c.avgGeral,"%"]}),m.jsxs("div",{className:"text-green-600",children:[m.jsx("span",{className:"font-semibold",children:"% Ativas:"})," ",c.percentActive,"%"]}),m.jsxs("div",{className:"text-blue-600",children:[m.jsx("span",{className:"font-semibold",children:"Mdia Ativas:"})," ",c.avgActive,"%"]}),m.jsx("div",{className:"text-gray-500 mt-1",children:c.classification})]})})]}),m.jsx("div",{className:"h-32",children:m.jsx(pc,{width:"100%",height:"100%",children:m.jsxs(npe,{data:u.data,children:[m.jsx(Pp,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),m.jsx(di,{dataKey:"semana",fontSize:10,stroke:"#6b7280"}),m.jsx(hi,{fontSize:10,stroke:"#6b7280",domain:[0,100]}),m.jsx(ur,{formatter:p=>[`${p}%`,u.habit||s],labelStyle:{color:"#374151"},contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"11px"}}),m.jsx(Ea,{dataKey:"valor",fill:h,radius:[2,2,0,0]})]})})})]},s)})})})]})},fO=({data:t,isExpanded:e,onToggle:r})=>{if(!t)return m.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:m.jsxs("div",{className:"text-center text-gray-500",children:[m.jsx(pT,{className:"w-8 h-8 mx-auto mb-2"}),m.jsx("p",{children:"Dados no disponveis"})]})});const{weeklyCompletionData:n=[],weightData:i=[],habitDataByType:o={},habitsList:a=[]}=t,s=()=>{if(!n||n.length===0)return{avgGeneral:0,percentActive:0,avgActive:0};const p=n.length,g=n.reduce((O,T)=>O+(T.completude||0),0),y=p>0?g/p:0,x=n.filter(O=>(O.completude||0)>0),_=p>0?x.length/p*100:0,b=x.reduce((O,T)=>O+(T.completude||0),0),w=x.length>0?b/x.length:0;return{avgGeneral:Number(y.toFixed(1)),percentActive:Number(_.toFixed(1)),avgActive:Number(w.toFixed(1))}},l=()=>{if(!i||i.length<2)return{trend:0,firstWeight:0,lastWeight:0,hasData:!1};const p=i[0].peso||0,g=i[i.length-1].peso||0,y=g-p;return{trend:Number(y.toFixed(1)),firstWeight:Number(p.toFixed(1)),lastWeight:Number(g.toFixed(1)),hasData:!0}},u=p=>{if(!p||p.length===0)return{avgGeral:0,percentActive:0,avgActive:0,classification:"Sem dados"};const g=p.length,y=p.reduce((P,E)=>P+(E.valor||0),0),x=g>0?y/g:0,_=p.filter(P=>(P.valor||0)>0),b=g>0?_.length/g*100:0,w=_.reduce((P,E)=>P+(E.valor||0),0),O=_.length>0?w/_.length:0;let T="Ruim ";return x>=60?T="Excelente ":x>=50?T="Bom ":x>=40?T="Legal ":x>=20&&(T="Ok "),{avgGeral:Number(x.toFixed(1)),percentActive:Number(b.toFixed(1)),avgActive:Number(O.toFixed(1)),classification:T}},c=s(),d=l(),h=()=>{r&&r()};return m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 mb-6",children:[m.jsx("div",{className:"p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 transition-colors",onClick:h,children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[m.jsx(pT,{className:"text-yellow-600"}),"Insights Principais"]}),m.jsx(Bo,{className:`w-5 h-5 text-gray-400 transform transition-transform ${e?"rotate-180":""}`})]})}),e&&m.jsx("div",{className:"p-4",children:m.jsxs("div",{className:"grid gap-3",children:[m.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-3 rounded-r-lg",children:[m.jsx("h3",{className:"font-semibold text-blue-700 mb-2 flex items-center gap-2",children:" Desempenho Geral"}),m.jsx("p",{className:"text-blue-600",children:n.length>0?m.jsxs(m.Fragment,{children:["Sua mdia geral de completude  ",m.jsxs("strong",{children:[c.avgGeneral,"%"]}),". Voc tem ",m.jsxs("strong",{children:[c.percentActive,"% de semanas ativas"]})," e quando ativo, atinge ",m.jsxs("strong",{children:[c.avgActive,"%"]})," de completude."]}):"Adicione mais dados para ver insights de desempenho geral."})]}),m.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-3 rounded-r-lg",children:[m.jsx("h3",{className:"font-semibold text-orange-700 mb-2 flex items-center gap-2",children:" Evoluo do Peso"}),m.jsx("p",{className:"text-orange-600",children:d.hasData?d.trend<0?m.jsxs(m.Fragment,{children:[m.jsx("strong",{children:"Progresso consistente!"})," Reduo de ",m.jsxs("strong",{children:[Math.abs(d.trend),"kg"]}),"(",d.firstWeight,"kg  ",d.lastWeight,"kg). Tendncia de reduo constante e saudvel!"]}):d.trend>0?m.jsxs(m.Fragment,{children:["Aumento de ",m.jsxs("strong",{children:[d.trend,"kg"]}),"(",d.firstWeight,"kg  ",d.lastWeight,"kg). Continue monitorando e ajuste conforme necessrio."]}):m.jsxs(m.Fragment,{children:["Peso estvel em ",m.jsxs("strong",{children:[d.lastWeight,"kg"]}),". tima manuteno!"]}):"Adicione dados de peso para ver a evoluo ao longo do tempo."})]}),m.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 p-3 rounded-r-lg",children:[m.jsx("h3",{className:"font-semibold text-green-700 mb-2 flex items-center gap-2",children:" Destaques por Hbito"}),m.jsx("div",{className:"text-green-600 space-y-1",children:a&&a.length>0?a.map(p=>{const g=o[p];if(!g||!g.data)return m.jsxs("p",{className:"text-sm",children:[m.jsxs("strong",{className:"capitalize",children:[p,":"]})," Sem dados disponveis"]},p);const y=u(g.data);return m.jsxs("p",{className:"text-sm",children:[m.jsxs("strong",{children:[y.classification.split(" ")[1]," ",g.habit||p,":"]})," "," ",y.avgGeral,"% geral | ",y.percentActive,"% ativas | ",y.avgActive,"% quando engajado"]},p)}):m.jsx("p",{className:"text-sm",children:"Adicione dados de hbitos para ver anlises detalhadas."})})]})]})})]})},hpe=()=>{const[t,e]=U.useState(!1),[r,n]=U.useState(!0),i=async()=>{try{n(!0);const o=new Date,a=o.getDay(),s=a>=6||a===0,l=await upe(),u=l.success&&l.data;let c=!1;if(u){const h=ms(o);c=l.data.weekDate===h}const d=s||c;e(d),console.log(" [useDebriefingVisibility] Debug:",{dayOfWeek:a,isSaturdayOrAfter:s,hasInProgressDebriefing:!!u,isCurrentWeekInProgress:c,shouldShow:d})}catch(o){console.error(" [useDebriefingVisibility] Erro:",o),e(!1)}finally{n(!1)}};return U.useEffect(()=>{i()},[]),{shouldShowButton:t,loading:r,refresh:i}},ppe=({currentSection:t})=>{const{data:e,loading:r,error:n,refreshData:i,addNewDay:o}=_m(),{shouldShowButton:a,refresh:s}=hpe(),[l,u]=U.useState(!1),[c,d]=U.useState(!1),[h,p]=U.useState("semana-atual"),g=w=>{p(w)},y=()=>{switch(t){case"semana-atual":return m.jsx(Dy,{data:e,isExpanded:!0,onToggle:()=>{}});case"semana-anterior":return m.jsx(uO,{data:e,isExpanded:!0,onToggle:()=>{}});case"evolucao-geral":return m.jsx(lO,{data:e,isExpanded:!0,onToggle:()=>{}});case"performance-habito":return m.jsx(cO,{data:e,isExpanded:!0,onToggle:()=>{}});case"insights-principais":return m.jsx(fO,{data:e,isExpanded:!0,onToggle:()=>{}});default:return m.jsx(Dy,{data:e,isExpanded:!0,onToggle:()=>{}})}},x=()=>{switch(h){case"semana-atual":return m.jsx(Dy,{data:e,isExpanded:!0,onToggle:()=>{}});case"semana-anterior":return m.jsx(uO,{data:e,isExpanded:!0,onToggle:()=>{}});case"evolucao-geral":return m.jsx(lO,{data:e,isExpanded:!0,onToggle:()=>{}});case"performance-habito":return m.jsx(cO,{data:e,isExpanded:!0,onToggle:()=>{}});case"insights-principais":return m.jsx(fO,{data:e,isExpanded:!0,onToggle:()=>{}});case"dashboard":default:return null}},_=()=>{switch(t){case"semana-atual":return"Semana Atual";case"semana-anterior":return"Semana Anterior";case"evolucao-geral":return"Evoluo Geral";case"performance-habito":return"Performance por Hbito";case"insights-principais":return"Insights Principais";default:return"Semana Atual"}},b=()=>{switch(t){case"semana-anterior":return"Anlise e debriefing das semanas passadas";case"evolucao-geral":return"Progresso ao longo do tempo";case"performance-habito":return"Anlise detalhada por hbito";case"insights-principais":return"Descobertas e padres identificados";default:return"Anlise detalhada dos seus hbitos"}};return r?m.jsx("div",{className:"max-w-6xl mx-auto p-6 bg-gray-50 min-h-screen",children:m.jsxs("div",{className:"text-center text-blue-600",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),m.jsx("p",{children:"Carregando dados dos hbitos..."})]})}):n?m.jsx("div",{className:"max-w-6xl mx-auto p-6 bg-gray-50 min-h-screen",children:m.jsxs("div",{className:"text-center text-red-600",children:[m.jsxs("p",{className:"mb-4",children:["Erro: ",n]}),m.jsx("button",{onClick:i,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Tentar novamente"})]})}):m.jsxs("div",{className:"max-w-6xl mx-auto p-4 lg:p-6 bg-gray-50 min-h-screen",children:[m.jsxs("div",{className:"lg:hidden",children:[m.jsx("div",{className:"h-4"}),m.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-1 py-2 z-30",children:m.jsx("div",{className:"flex items-center justify-around",children:[{id:"semana-atual",label:"Atual",icon:""},{id:"semana-anterior",label:"Anterior",icon:""},{id:"evolucao-geral",label:"Evoluo",icon:""},{id:"performance-habito",label:"Performance",icon:""},{id:"insights-principais",label:"Insights",icon:""}].map(w=>m.jsxs("button",{onClick:()=>g(w.id),className:`
                  flex flex-col items-center p-2 rounded-lg transition-colors duration-200 min-w-0 flex-1
                  ${h===w.id?"text-blue-600 bg-blue-50":"text-gray-500"}
                `,children:[m.jsx("span",{className:"text-lg mb-1",children:w.icon}),m.jsx("span",{className:"text-xs font-medium truncate",children:w.label})]},w.id))})})]}),m.jsxs("div",{className:"lg:hidden",children:[m.jsx("button",{onClick:()=>u(!0),className:"fixed right-4 w-16 h-16 rounded-full shadow-xl transition-all duration-300 flex items-center justify-center",style:{backgroundColor:"#4682B4",bottom:"100px",zIndex:50,transform:"translateZ(0)"},onTouchStart:w=>w.target.style.transform="scale(0.95) translateZ(0)",onTouchEnd:w=>w.target.style.transform="scale(1) translateZ(0)",children:m.jsx(r0,{className:"w-7 h-7 text-white"})}),a&&m.jsx("button",{onClick:()=>d(!0),className:"fixed right-24 w-12 h-12 bg-green-600 rounded-full shadow-lg transition-all duration-300 flex items-center justify-center",style:{bottom:"105px",zIndex:50},onTouchStart:w=>w.target.style.transform="scale(0.95)",onTouchEnd:w=>w.target.style.transform="scale(1)",children:m.jsx(cs,{className:"w-5 h-5 text-white"})})]}),t!=="semana-atual"&&m.jsxs("div",{className:"hidden lg:block mb-6",children:[m.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-800",children:_()}),m.jsx("p",{className:"text-gray-600 mt-1",children:b()})]}),m.jsx("div",{className:"flex flex-col lg:flex-row justify-center items-center gap-4 mb-4 lg:mb-8",children:t==="semana-atual"&&m.jsxs("div",{className:"hidden lg:flex flex-row justify-center items-center gap-4 w-full",children:[m.jsxs("button",{onClick:()=>u(!0),className:"flex items-center justify-center gap-3 text-white px-8 py-4 rounded-lg transition-colors text-lg font-bold",style:{backgroundColor:"#4682B4"},onMouseEnter:w=>w.target.style.backgroundColor="#3a6d99",onMouseLeave:w=>w.target.style.backgroundColor="#4682B4",children:[m.jsx(r0,{className:"w-6 h-6"}),"Update Dirio"]}),a&&m.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-3 bg-green-600 text-white px-8 py-4 rounded-lg hover:bg-green-700 transition-colors text-lg font-medium",children:[m.jsx(cs,{className:"w-6 h-6"}),"Debriefing da Semana"]})]})}),m.jsxs("div",{className:"max-w-6xl mx-auto px-4 lg:px-6 pb-20 lg:pb-4",children:[m.jsx("div",{className:"hidden lg:block space-y-4",children:y()}),m.jsx("div",{className:"lg:hidden space-y-2",children:x()})]}),l&&m.jsx(b9,{isOpen:l,onClose:()=>u(!1),onSubmit:async w=>{await o(w),u(!1)},existingDays:(e==null?void 0:e.existingDays)||[]}),c&&m.jsx(LM,{isOpen:c,onClose:()=>{d(!1),s()}})]})},mpe=({isOpen:t,currentSection:e,onNavigate:r,onClose:n,onLogout:i})=>{const o=[{id:"meu-habito",label:"Meu Hbito",icon:"",description:"Acompanhar meu progresso dirio"},{id:"evolucao",label:"Evoluo",icon:"",description:"Histrico de progresso"}];return m.jsxs("div",{className:`
      fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out
      ${t?"translate-x-0":"-translate-x-full"}
      lg:translate-x-0 lg:static lg:inset-0
    `,children:[t&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 lg:hidden",onClick:n}),m.jsxs("div",{className:"relative flex flex-col h-full bg-white",children:[m.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:sj,alt:"Thy Logo",className:"w-8 h-8"}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-lg font-bold text-gray-800",children:"Thy"}),m.jsx("p",{className:"text-xs text-gray-500",children:"Hbitos Simples"})]})]}),m.jsx("button",{onClick:n,className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:m.jsx("span",{className:"text-gray-500",children:""})})]}),m.jsx("nav",{className:"p-4 flex-1",children:m.jsx("div",{className:"space-y-1",children:o.map(a=>m.jsxs("button",{onClick:()=>r(a.id),className:`
                  w-full flex items-center gap-3 p-3 rounded-lg text-left 
                  transition-all duration-200 ease-in-out
                  ${e===a.id?"bg-blue-50 text-blue-700 border border-blue-200 shadow-sm":"text-gray-700 hover:bg-gray-50 hover:text-gray-900 border border-transparent"}
                `,children:[m.jsx("span",{className:"text-lg",children:a.icon}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("div",{className:"font-medium text-sm",children:a.label}),m.jsx("div",{className:"text-xs text-gray-500 mt-1 truncate",children:a.description})]}),e===a.id&&m.jsx("span",{className:"text-blue-500 text-xs",children:""})]},a.id))})}),m.jsx("div",{className:"p-4 border-t border-gray-100",children:m.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 p-3 rounded-lg text-red-600 hover:bg-red-50 hover:text-red-700 text-left transition-colors duration-200",children:[m.jsx("span",{className:"text-lg",children:""}),m.jsx("span",{className:"text-sm",children:"Sair"})]})})]})]})},gpe=({habit:t})=>{const[e,r]=U.useState([]),n=()=>{if(!t||!t.completedDays)return[];const a=[],s=new Date;for(let l=3;l>=0;l--){const u=new Date(s);u.setDate(s.getDate()-l*7-s.getDay());const c=new Date(u);c.setDate(u.getDate()+6);let d=0,h=0;for(let p=new Date(u);p<=c;p.setDate(p.getDate()+1))if(p<=s){h++;const g=p.toISOString().split("T")[0];t.completedDays.includes(g)&&d++}if(h>0){const p=Math.round(d/h*100);a.push({weekStart:u.toISOString().split("T")[0],weekEnd:c.toISOString().split("T")[0],completedDays:d,totalDays:h,percentage:p,label:l===0?"Esta semana":`${l} semana${l>1?"s":""} atrs`})}}return a.reverse()};U.useEffect(()=>{if(t){const a=n();r(a)}},[t]);const i=a=>a>=80?"bg-green-500":a>=60?"bg-yellow-500":a>=40?"bg-orange-500":"bg-red-500",o=a=>a>=80?"text-green-700":a>=60?"text-yellow-700":a>=40?"text-orange-700":"text-red-700";return t?m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx(Bo,{className:"w-6 h-6 text-blue-600"}),m.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:["Evoluo: ",t.name]})]}),m.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[m.jsx("span",{className:"text-2xl",children:t.emoji}),m.jsx("p",{className:"text-sm",children:"Acompanhe seu progresso ao longo das semanas"})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Progresso por Semana"}),e.length>0?m.jsx("div",{className:"space-y-4",children:e.map((a,s)=>m.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("span",{className:"text-sm font-medium text-gray-700",children:a.label}),m.jsxs("span",{className:`text-sm font-bold ${o(a.percentage)}`,children:[a.percentage,"%"]})]}),m.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:m.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${i(a.percentage)}`,style:{width:`${a.percentage}%`}})}),m.jsxs("div",{className:"text-xs text-gray-500",children:[a.completedDays," de ",a.totalDays," dias completados"]})]},s))}):m.jsxs("div",{className:"text-center text-gray-500 py-8",children:[m.jsx("p",{children:"Ainda no h dados suficientes para mostrar a evoluo."}),m.jsx("p",{className:"text-sm mt-1",children:"Continue marcando seus dias!"})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Estatsticas Gerais"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"text-center bg-blue-50 rounded-lg p-4",children:[m.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.completedDays?t.completedDays.length:0}),m.jsx("div",{className:"text-sm text-gray-600",children:"Dias completados"})]}),m.jsxs("div",{className:"text-center bg-green-50 rounded-lg p-4",children:[m.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[e.length>0?Math.round(e.reduce((a,s)=>a+s.percentage,0)/e.length):0,"%"]}),m.jsx("div",{className:"text-sm text-gray-600",children:"Mdia semanal"})]}),m.jsxs("div",{className:"text-center bg-purple-50 rounded-lg p-4",children:[m.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.length}),m.jsx("div",{className:"text-sm text-gray-600",children:"Semanas monitoradas"})]})]})]})]}):m.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:m.jsxs("div",{className:"text-gray-500",children:[m.jsx(bm,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),m.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhum hbito encontrado"}),m.jsx("p",{className:"text-sm",children:"Crie um hbito primeiro para ver sua evoluo"})]})})},ype=({onLogout:t})=>{const[e,r]=U.useState(null),[n,i]=U.useState(!1),[o,a]=U.useState(""),[s,l]=U.useState(""),[u,c]=U.useState(!1),[d,h]=U.useState("meu-habito"),p=["","","","","","","","","",""],g=()=>c(!u),y=()=>c(!1),x=E=>{h(E),y()},_=()=>{const E=new Date,S=-3,I=E.getTime()+E.getTimezoneOffset()*6e4,N=new Date(I+S*36e5),C=N.getDay(),j=[],k=new Date(N);k.setDate(N.getDate()-C);for(let W=0;W<=C;W++){const H=new Date(k);H.setDate(k.getDate()+W);const $=H.toISOString().split("T")[0],F=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"][W];j.push({date:$,dayName:F,dayNumber:H.getDate(),isToday:$===N.toISOString().split("T")[0]})}return j},b=()=>{o.trim()&&(r({name:o.trim(),emoji:s,completedDays:[]}),i(!1),a(""))},w=E=>{if(!e)return;const S={...e},I=S.completedDays.indexOf(E);I>-1?S.completedDays.splice(I,1):S.completedDays.push(E),r(S)},O=_(),T=()=>{switch(d){case"meu-habito":return P();case"evolucao":return m.jsx(gpe,{habit:e});default:return P()}},P=()=>m.jsxs("div",{className:"space-y-6",children:[!e&&!n&&m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Crie seu primeiro hbito!"}),m.jsx("p",{className:"text-gray-600 mb-6",children:"Escolha um hbito que voc quer acompanhar todos os dias"}),m.jsxs("button",{onClick:()=>i(!0),className:"flex items-center justify-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors mx-auto",children:[m.jsx(r0,{className:"w-5 h-5"}),"Criar Hbito"]})]}),n&&m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Criar Novo Hbito"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do hbito"}),m.jsx("input",{type:"text",value:o,onChange:E=>a(E.target.value),placeholder:"Ex: Beber gua, Exercitar-se, Ler...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Escolha um emoji"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(E=>m.jsx("button",{onClick:()=>l(E),className:`w-10 h-10 text-xl rounded-lg transition-colors ${s===E?"bg-blue-100 border-2 border-blue-500":"bg-gray-100 hover:bg-gray-200"}`,children:E},E))})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:b,disabled:!o.trim(),className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Criar Hbito"}),m.jsx("button",{onClick:()=>i(!1),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancelar"})]})]})]}),e&&m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("span",{className:"text-2xl",children:e.emoji}),m.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:e.name})]}),m.jsx("button",{onClick:()=>i(!0),className:"text-gray-500 hover:text-gray-700 transition-colors",title:"Editar hbito",children:m.jsx(s9,{className:"w-5 h-5"})})]}),m.jsx("div",{className:"grid grid-cols-3 lg:grid-cols-7 gap-3",children:O.map(E=>{const S=e.completedDays.includes(E.date);return m.jsxs("div",{className:`
                      p-3 rounded-lg border-2 text-center cursor-pointer transition-all
                      ${E.isToday?"ring-2 ring-blue-400":""}
                      ${S?"bg-green-100 border-green-300 text-green-800":"bg-gray-50 border-gray-200 text-gray-600 hover:bg-gray-100"}
                    `,onClick:()=>w(E.date),children:[m.jsx("div",{className:"text-sm font-medium mb-1",children:E.dayName}),m.jsx("div",{className:"text-lg font-bold",children:E.dayNumber}),m.jsx("div",{className:"text-2xl mt-1",children:S?"":""})]},E.date)})}),m.jsx("div",{className:"mt-6 bg-gray-50 rounded-lg p-4",children:m.jsxs("div",{className:"text-center",children:[m.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[e.completedDays.length,"/",O.length]}),m.jsx("div",{className:"text-sm text-gray-600",children:"dias concludos esta semana"})]})})]})]});return m.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[m.jsx(mpe,{isOpen:u,currentSection:d,onNavigate:x,onClose:y,onLogout:t}),m.jsxs("div",{className:"flex-1 flex flex-col lg:ml-0",children:[m.jsx("header",{className:"lg:hidden bg-white shadow-sm border-b border-gray-200 px-4 py-3",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("button",{onClick:g,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:m.jsx(o9,{className:"w-6 h-6 text-gray-600"})}),m.jsx("h1",{className:"text-lg font-semibold text-gray-800",children:d==="meu-habito"?"Meu Hbito":"Evoluo"}),m.jsx("div",{className:"w-10"})]})}),m.jsx("main",{className:"flex-1 p-4 lg:p-6",children:m.jsx("div",{className:"max-w-4xl mx-auto",children:T()})})]})]})},vpe=()=>{const{user:t,userType:e,loading:r,logout:n}=nj(),{isOpen:i,currentSection:o,toggleSidebar:a,navigateToSection:s,closeSidebar:l}=XU(),u=()=>e==="simple"?m.jsx(ype,{onLogout:n}):m.jsx(ppe,{currentSection:o});return r?m.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-600",children:"Carregando..."})]})}):t?e==="simple"?m.jsx("div",{className:"min-h-screen bg-gray-50",children:u()}):m.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[m.jsx("div",{className:"hidden lg:block",children:m.jsx(c9,{isOpen:i,currentSection:o,onNavigate:s,onClose:l,onLogout:n})}),m.jsxs("div",{className:"flex-1 flex flex-col",children:[m.jsxs("header",{className:"w-full flex items-center justify-between px-6 py-2 bg-gray-50 border-b border-gray-100",children:[m.jsx("div",{className:"flex items-center",children:!i&&m.jsx("div",{className:"hidden lg:flex items-center",children:m.jsx(u9,{isOpen:i,onToggle:a})})}),m.jsx("div",{})]}),m.jsx("div",{className:"flex-1 bg-gray-50",children:u()})]})]}):m.jsx(l9,{})};My.createRoot(document.getElementById("root")).render(m.jsx(L.StrictMode,{children:m.jsx(vpe,{})}));
